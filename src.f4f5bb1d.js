parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"E6ph":[function(require,module,exports) {
"use strict";function e(e){var t=String(e),o=t.match(/^(.+),\s+(The|A|An)$/i);return o&&(t="".concat(o[2]," ").concat(o[1])),t.toLowerCase().replace(/[^a-z0-9\s]/g,"")}function t(e,t,o){for(var r=o-t,n=0;n<r;n++)e*=1.033;return Number(e.toFixed(2))}function o(e){if(!e||"string"!=typeof e)return null;var t=0,o=e.match(/(\d+)h/),r=e.match(/(\d+)m/);return o&&o[1]&&(t+=60*parseInt(o[1],10)),r&&r[1]&&(t+=parseInt(r[1],10)),t>0?t:null}Object.defineProperty(exports,"__esModule",{value:!0}),exports.adjustForInflation=t,exports.cleanMovieName=e,exports.convertMovieNamesToString=n,exports.parseRuntime=o,exports.stopWords=void 0;var r=exports.stopWords=new Set(["about","after","again","against","all","also","and","any","are","because","been","before","being","between","both","but","can","cant","could","did","does","doing","dont","down","during","each","few","for","from","further","had","has","have","having","his","here","how","into","its","just","more","most","not","now","off","once","only","other","over","same","should","some","such","than","that","the","their","them","then","there","theres","these","they","this","those","through","too","under","until","very","was","were","what","when","where","which","while","who","whom","why","will","with","would","your"]);function n(e){return e.forEach(function(e){"string"!=typeof e.name&&(e.name=String(e.name))}),e}
},{}],"pFcC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addGoldenGlobesData=c,exports.getGoldenGlobesMovieData=a;var e=require("./helper");function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,t)}return r}function t(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach(function(n){o(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function o(e,n,r){return(n=i(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function i(e){var r=u(e,"string");return"symbol"==n(r)?r:r+""}function u(e,r){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,r||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}function a(n,r){return n.reduce(function(n,t){var o=(0,e.cleanMovieName)(t.film);if(r.includes(o)){var i="True"===t.win;n[o]?(n[o].nominations.push({year:t.year_film,nominee:t.name,winner:i}),n[o].nbNominations++,i&&n[o].nbWins++):n[o]={nominations:[{year:t.year_film,nominee:t.name,winner:i}],nbNominations:1,nbWins:i?1:0}}return n},{})}function c(n,r){return n.map(function(n){var o=t({},n),i=(0,e.cleanMovieName)(n.name);return o.goldenGlobesData={goldenGlobesNominees:r[i]?r[i].nominations:[],goldenGlobesNominations:r[i]?r[i].nbNominations:0,goldenGlobesWins:r[i]?r[i].nbWins:0},o})}
},{"./helper":"E6ph"}],"uSNw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addOscarsData=u,exports.getOscarsMovieData=c;var e=require("./helper");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,t)}return n}function t(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?n(Object(t),!0).forEach(function(r){o(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function o(e,r,n){return(r=i(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function i(e){var n=a(e,"string");return"symbol"==r(n)?n:n+""}function a(e,n){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,n||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}function c(r,n){return r.reduce(function(r,t){var o=(0,e.cleanMovieName)(t.film);if(n.includes(o)){var i="True"===t.winner;r[o]?(r[o].nominations.push({year:t.year_film,nominee:t.name,winner:i}),r[o].nbNominations++,i&&r[o].nbWins++):r[o]={nominations:[{year:t.year_film,nominee:t.name,winner:i}],nbNominations:1,nbWins:i?1:0}}return r},{})}function u(r,n){return r.map(function(r){var o=t({},r),i=(0,e.cleanMovieName)(r.name);return o.oscarsData={oscarNominees:n[i]?n[i].nominations:[],oscarNominations:n[i]?n[i].nbNominations:0,oscarWins:n[i]?n[i].nbWins:0},o})}
},{"./helper":"E6ph"}],"SRF0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addAdditionalMovieData=c,exports.getAdditionalMovieData=u;var e=require("./helper");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function o(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?t(Object(o),!0).forEach(function(r){n(e,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))})}return e}function n(e,r,t){return(r=i(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function i(e){var t=a(e,"string");return"symbol"==r(t)?t:t+""}function a(e,t){if("object"!=r(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function u(r,t){return r.reduce(function(r,o){if(!o.original_title)return r;var n=(0,e.cleanMovieName)(o.original_title);if(t.includes(n)){var i=[];if(o.production_companies){var a="string"==typeof o.production_companies?JSON.parse(o.production_companies):o.production_companies;Array.isArray(a)&&a.length>0&&(i=a.map(function(e){return e.name}).filter(Boolean))}var u="";if(o.release_date)try{u=new Date(o.release_date).toISOString().split("T")[0]}catch(c){u=o.release_date}r[n]={keywords:o.keywords||"",popularity:o.popularity||0,productionCompanies:i,releaseDate:u,budget:o.budget,revenue:o.revenue}}return r},{})}function c(r,t){return r.map(function(r){var n=o({},r),i=(0,e.cleanMovieName)(r.name);return n.keywords=t[i]?t[i].keywords:[],n.popularity=t[i]?t[i].popularity:0,n.productionCompanies=t[i]?t[i].productionCompanies:{},n.releaseDate=t[i]?t[i].releaseDate:null,"string"==typeof n.budget&&t[i]&&(n.budget=t[i].budget),"string"==typeof n.boxOffice&&t[i]&&(n.boxOffice=t[i].revenue),n})}
},{"./helper":"E6ph"}],"xfqM":[function(require,module,exports) {
"use strict";function t(r){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(r)}function r(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),e.push.apply(e,n)}return e}function e(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?r(Object(o),!0).forEach(function(r){n(t,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(o,r))})}return t}function n(t,r,e){return(r=o(r))in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function o(r){var e=i(r,"string");return"symbol"==t(e)?e:e+""}function i(r,e){if("object"!=t(r)||!r)return r;var n=r[Symbol.toPrimitive];if(void 0!==n){var o=n.call(r,e||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(r)}function c(t){return t.map(function(t){var r=e({},t);return["casts","directors","genre","writers"].forEach(function(e){r[e]=function(t,r){if(!t[r])return[];try{return"string"==typeof t[r]?t[r].split(",").map(function(t){return t.trim()}):t[r]}catch(e){return[]}}(t,e)}),r})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.processMovieData=c;
},{}],"StQl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.calculateMovieProfits=O,exports.createYearIntervals=h,exports.getCertificateData=b,exports.getDataBySeason=M,exports.getFilmContributorsData=v,exports.getGenreDataIntervals=m,exports.getMovieLengthData=P,exports.getMoviesByGenre=j,exports.getTaglineLengthData=A,exports.getTaglineWordsData=E,exports.getTopCollaborations=y;var e=require("./helper");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function n(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?t(Object(n),!0).forEach(function(r){o(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function o(e,r,t){return(r=a(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function a(e){var t=i(e,"string");return"symbol"==r(t)?t:t+""}function i(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function c(e,r){return p(e)||l(e,r)||u(e,r)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,r){if(e){if("string"==typeof e)return f(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(e,r):void 0}}function f(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function l(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a,i,c=[],s=!0,u=!1;try{if(a=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;s=!1}else for(;!(s=(n=a.call(t)).done)&&(c.push(n.value),c.length!==r);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}function p(e){if(Array.isArray(e))return e}var g={standardMetrics:[{property:"rating",movieProperty:"rating"},{property:"budget",movieProperty:"budget"},{property:"boxOffice",movieProperty:"box_office"},{property:"popularity",movieProperty:"popularity"}],createMetricsObject:function(){var e={};return this.standardMetrics.forEach(function(r){e["total".concat(r.property.charAt(0).toUpperCase()+r.property.slice(1))]=0,e["".concat(r.property,"Count")]=0,e["avg".concat(r.property.charAt(0).toUpperCase()+r.property.slice(1))]=0}),e},addMovieMetrics:function(e,r){return this.standardMetrics.forEach(function(t){var n=r[t.movieProperty],o="total".concat(t.property.charAt(0).toUpperCase()+t.property.slice(1)),a="".concat(t.property,"Count");"number"!=typeof n||isNaN(n)||(e[o]+=n,e[a]++)}),e},calculateAverages:function(e){return this.standardMetrics.forEach(function(r){var t="total".concat(r.property.charAt(0).toUpperCase()+r.property.slice(1)),n="".concat(r.property,"Count"),o="avg".concat(r.property.charAt(0).toUpperCase()+r.property.slice(1));e[o]=e[n]>0?e[t]/e[n]:0}),e},cleanupMetricsProperties:function(e){return this.standardMetrics.forEach(function(r){var t="total".concat(r.property.charAt(0).toUpperCase()+r.property.slice(1)),n="".concat(r.property,"Count");delete e[t],delete e[n]}),e},findMostPopularGenre:function(e){if(!e||!e.length)return null;var r={};e.forEach(function(e){e&&e.trim()&&(r[e.trim()]=(r[e.trim()]||0)+1)});var t=0,n=null;return Object.entries(r).forEach(function(e){var r=c(e,2),o=r[0],a=r[1];a>t&&(t=a,n=o)}),{mostPopularGenre:n,genreCounts:r}}};function v(e){var r={casts:{},directors:{},writers:{}},t={casts:"casts",directors:"directors",writers:"writers"};return e.forEach(function(e){var o={name:e.name,genre:e.genre||[]};Object.entries(t).forEach(function(t){var a=c(t,2),i=a[0],s=a[1];e[i]&&e[i].forEach(function(t){r[s][t]||(r[s][t]=n({movies:[],nMovies:0},g.createMetricsObject())),r[s][t].movies.push(n({},o)),r[s][t].nMovies=r[s][t].movies.length,g.addMovieMetrics(r[s][t],e)})})}),Object.keys(r).forEach(function(e){Object.keys(r[e]).forEach(function(t){var n=r[e][t];g.calculateAverages(n),g.cleanupMetricsProperties(n)})}),r}function m(e){var r=h(e);return r.forEach(function(e){if(!e.movies.length)return e.mostCommonGenre=null,void(e.genreCounts={});var r=[];e.movies.forEach(function(e){e.genre&&Array.isArray(e.genre)&&e.genre.forEach(function(e){e&&e.trim()&&r.push(e.trim())})});var t=g.findMostPopularGenre(r),n=t.mostPopularGenre,o=t.genreCounts;e.mostCommonGenre=n,e.genreCounts=o}),r}function h(e){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,t=e.reduce(function(e,r){return r.year<e?r.year:e},Number.MAX_VALUE),o=e.reduce(function(e,r){return r.year>e?r.year:e},Number.MIN_VALUE),a=Math.floor(t/r)*r,i=Math.floor(o/r)*r,c=[],s=a;s<=i;s+=r){var u=s+(r-1);c.push(n({startYear:s,endYear:u,label:"".concat(s,"s"),movies:[],nMovies:0,genreCounts:{}},g.createMetricsObject()))}return e.forEach(function(e){var r=c.find(function(r){return e.year>=r.startYear&&e.year<=r.endYear});r&&(r.movies.push(e),r.nMovies++,g.addMovieMetrics(r,e))}),c.forEach(function(e){g.calculateAverages(e),g.cleanupMetricsProperties(e)}),c}function y(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,t=d(e);return{topActorDirectorCollabs:t.actorDirectorCollabs.slice(0,r),topActorActorCollabs:t.actorActorCollabs.slice(0,r)}}function d(e){var r={},t={},a=function(e,r,t){return n(o(o(o(o(o(o({},e?"actor1":"actor",r),e?"actor2":"director",t),"movies",[]),"genres",[]),"mostPopularGenre",null),"count",0),g.createMetricsObject())},i=function(e,r){e.movies.includes(r.name)||(e.count++,e.movies.push(r.name),g.addMovieMetrics(e,r),r.genre&&(Array.isArray(r.genre)?r.genre:[r.genre]).forEach(function(r){r&&r.trim()&&e.genres.push(r.trim())}))};e.forEach(function(e){var n=e.casts||[],o=e.directors||[];n.forEach(function(t){t&&o.forEach(function(n){if(n){var o="".concat(t,"/").concat(n);r[o]||(r[o]=a(!1,t,n)),i(r[o],e)}})});for(var c=0;c<n.length;c++){var s=n[c];if(s)for(var u=c+1;u<n.length;u++){var f=n[u];if(f){var l=[s,f].sort(),p="".concat(l[0],"/").concat(l[1]);t[p]||(t[p]=a(!0,l[0],l[1])),i(t[p],e)}}}});var c=function(e){return Object.values(e).map(function(e){if(g.calculateAverages(e),e.genres.length){var r=g.findMostPopularGenre(e.genres).mostPopularGenre;e.mostPopularGenre=r}return g.cleanupMetricsProperties(e),delete e.genres,e}).sort(function(e,r){return r.count-e.count})};return{actorDirectorCollabs:c(r),actorActorCollabs:c(t)}}function b(e){var r=e.reduce(function(e,r){var t="string"==typeof r.certificate?r.certificate.toLowerCase():"unknown";(e[t]||(e[t]=n({movies:[],count:0,genres:[],mostPopularGenre:null},g.createMetricsObject())),e[t].movies.push({name:r.name}),e[t].count++,g.addMovieMetrics(e[t],r),r.genre)&&(Array.isArray(r.genre)?r.genre:[r.genre]).forEach(function(r){r&&r.trim()&&e[t].genres.push(r.trim())});return e},{});return Object.keys(r).forEach(function(e){var t=r[e];if(g.calculateAverages(t),t.genres.length){var n=g.findMostPopularGenre(t.genres),o=n.mostPopularGenre,a=n.genreCounts;t.mostPopularGenre=o,t.genreCounts=a}g.cleanupMetricsProperties(t),delete t.genres}),r}function M(e){var r=function(e,r){return n({beginDate:e,endDate:r,movies:[],count:0,genres:[],mostPopularGenre:null},g.createMetricsObject())},t={spring:r("03-20","06-20"),summer:r("06-21","09-22"),fall:r("09-23","12-20"),winter:r("12-21","03-19")};return e.forEach(function(e){var r=function(e){if(!e||"string"!=typeof e)return null;var r=c(e.split("-").map(function(e){return parseInt(e,10)}),3),t=(r[0],r[1]),n=r[2],o="".concat(t.toString().padStart(2,"0"),"-").concat(n.toString().padStart(2,"0"));return o>="03-20"&&o<="06-20"?"spring":o>="06-21"&&o<="09-22"?"summer":o>="09-23"&&o<="12-20"?"fall":"winter"}(e.releaseDate);null!==r&&(t[r].movies.push(e),t[r].count++,g.addMovieMetrics(t[r],e),e.genre&&(Array.isArray(e.genre)?e.genre:[e.genre]).forEach(function(e){e&&e.trim()&&t[r].genres.push(e.trim())}))}),Object.keys(t).forEach(function(e){var r=t[e];if(g.calculateAverages(r),r.genres.length){var n=g.findMostPopularGenre(r.genres),o=n.mostPopularGenre,a=n.genreCounts;r.mostPopularGenre=o,r.genreCounts=a}g.cleanupMetricsProperties(r),delete r.genres}),t}function P(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,o=Number.MAX_VALUE,a=0;r.forEach(function(r){var t=(0,e.parseRuntime)(r.run_time);t&&(o=Math.min(o,t),a=Math.max(a,t))});for(var i=Math.floor(o/t)*t,c=Math.floor(a/t)*t,s=[],u=i;u<=c;u+=t)s.push(n({startMinutes:u,endMinutes:u+(t-1),label:"".concat(u,"s"),movies:[],nMovies:0,genres:[]},g.createMetricsObject()));return r.forEach(function(r){var t=(0,e.parseRuntime)(r.run_time),n=s.find(function(e){return t>=e.startMinutes&&t<=e.endMinutes});n&&(n.movies.push(r),n.nMovies++,g.addMovieMetrics(n,r),r.genre&&(Array.isArray(r.genre)?r.genre:[r.genre]).forEach(function(e){e&&e.trim()&&n.genres.push(e.trim())}))}),s.forEach(function(e){if(g.calculateAverages(e),e.genres.length){var r=g.findMostPopularGenre(e.genres),t=r.mostPopularGenre,n=r.genreCounts;e.mostPopularGenre=t,e.genreCounts=n}g.cleanupMetricsProperties(e),delete e.genres}),s}function E(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,a={};r.forEach(function(r){r.tagline&&"string"==typeof r.tagline&&r.tagline.toLowerCase().replace(/[^\w\s]/g,"").split(/\s+/).filter(function(r){return r.length>=t&&!e.stopWords.has(r)}).forEach(function(e){a[e]||(a[e]=0),a[e]++})});var i=Object.keys(a).filter(function(e){return a[e]>=o}),s={};return i.forEach(function(e){s[e]=n({movies:[],count:0,genres:[],mostPopularGenre:null},g.createMetricsObject())}),r.forEach(function(e){e.tagline&&"string"==typeof e.tagline&&new Set(e.tagline.toLowerCase().replace(/[^\w\s]/g,"").split(/\s+/).filter(function(e){return i.includes(e)})).forEach(function(r){(s[r].movies.push({name:e.name,year:e.year,tagline:e.tagline}),s[r].count++,g.addMovieMetrics(s[r],e),e.genre)&&(Array.isArray(e.genre)?e.genre:[e.genre]).forEach(function(e){e&&e.trim()&&s[r].genres.push(e.trim())})})}),Object.keys(s).forEach(function(e){var r=s[e];if(g.calculateAverages(r),r.genres.length){var t=g.findMostPopularGenre(r.genres),n=t.mostPopularGenre,o=t.genreCounts;r.mostPopularGenre=n,r.genreCounts=o}g.cleanupMetricsProperties(r),delete r.genres}),Object.entries(s).map(function(e){var r=c(e,2);return n({word:r[0]},r[1])}).sort(function(e,r){return r.count-e.count})}function A(e){var r={};return e.forEach(function(e){if(e.tagline&&"string"==typeof e.tagline){var t=e.tagline.trim();if(0!==t.length){var o=t.length;r[o]||(r[o]=n({movies:[],count:0,wordCount:0},g.createMetricsObject())),r[o].movies.push({name:e.name,year:e.year,tagline:e.tagline}),r[o].count++;var a=t.split(/\s+/).length;r[o].wordCount+=a,g.addMovieMetrics(r[o],e)}}}),Object.entries(r).map(function(e){var r=c(e,2),t=r[0],o=r[1];return g.calculateAverages(o),o.avgWordCount=o.wordCount/o.count,delete o.wordCount,g.cleanupMetricsProperties(o),delete o.genres,n({length:parseInt(t,10)},o)}).sort(function(e,r){return e.length-r.length})}function O(e){return e.forEach(function(e){e.budget&&e.box_office&&"string"!=typeof e.budget&&"string"!=typeof e.box_office&&(e.profit=e.box_office-e.budget)}),e}function j(e){var t={};return e.forEach(function(e){var o=[];if(e.genre)if(Array.isArray(e.genre))for(var a=0;a<e.genre.length;a++)e.genre[a]&&"string"==typeof e.genre[a]&&o.push(e.genre[a].trim());else"object"===r(e.genre)?Object.keys(e.genre).forEach(function(r){e.genre[r]&&"string"==typeof e.genre[r]&&o.push(e.genre[r].trim())}):"string"==typeof e.genre&&o.push(e.genre.trim());o.forEach(function(r){t[r]||(t[r]=n({movies:[],count:0},g.createMetricsObject())),t[r].movies.push(e),t[r].count++,g.addMovieMetrics(t[r],e)})}),Object.keys(t).forEach(function(e){g.calculateAverages(t[e]),g.cleanupMetricsProperties(t[e])}),t}
},{"./helper":"E6ph"}],"MRdi":[function(require,module,exports) {
"use strict";function t(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.append("g").attr("transform","translate(".concat(e.left,",").concat(e.top,")"));return a&&r.attr("id",a),r}function e(t,e){d3.select(".success-scatter-svg").attr("width",t).attr("height",e)}function a(t){t.append("g").attr("class","x1 axis"),t.append("g").attr("class","y1 axis")}function r(t){t.append("text").text("Classement").attr("class","y1 axis-text").attr("transform","rotate(-90)").attr("x",-30).attr("y",13).attr("font-size",12),t.append("text").text("Box-office (en $)").attr("class","x1 axis-text").attr("x",-40).attr("y",0).attr("font-size",12)}function s(t,e,a){t.select(".x1.axis").attr("transform","translate(0,"+a+")").call(d3.axisBottom(e).tickSizeOuter(0).tickArguments([5,"~s"]))}function n(t,e){t.select(".y1.axis").call(d3.axisLeft(e).tickSizeOuter(0).tickValues([1,50,100,150,200,250]).tickFormat(d3.format("d")))}function i(t){t.append("text").attr("class","title1").attr("x1",0).attr("y1",-20).attr("font-size",14)}function o(t,e,a){var r=t.append("g").attr("class","button1").attr("transform","translate("+a+", 140)").attr("width",130).attr("height",25);r.append("rect").attr("width",130).attr("height",30).attr("fill","#f4f6f4").on("mouseenter",function(){d3.select(this).attr("stroke","#362023")}).on("mouseleave",function(){d3.select(this).attr("stroke","#f4f6f4")}),r.append("text").attr("x1",65).attr("y1",15).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("class","button-text1").text("See "+e+" dataset").attr("font-size","10px").attr("fill","#362023")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.appendAxes=a,exports.appendGraphLabels=r,exports.drawButton=o,exports.drawXAxis=s,exports.drawYAxis=n,exports.generateG=t,exports.placeTitle=i,exports.setCanvasSize=e;
},{}],"nYuU":[function(require,module,exports) {
"use strict";function t(t,a,r,e,n,d){a.append("defs").append("linearGradient").attr("id","gradient").attr("x1","0%").attr("x2","0%").attr("y1","100%").attr("y2","0%").selectAll("stop").data(t.ticks(10)).enter().append("stop").attr("offset",function(t,a){return"".concat(a/10*100,"%")}).attr("stop-color",function(a){return t(a)});var p=a.append("g").attr("transform","translate(".concat(r+60,", 60)"));p.append("rect").attr("width",r/30).attr("height",.7*e).style("fill","url(#gradient)"),p.append("text").attr("x",13).attr("y",e-100).attr("text-anchor","middle").text(n),p.append("text").attr("x",11).attr("y",e-440).attr("text-anchor","middle").text(d);var o=a.append("g").attr("transform","translate(".concat(r+130,", 140)")),i=[20,14,9,4];i.forEach(function(t,a){o.append("circle").attr("cx",0).attr("cy",0+50*a).attr("r",t).attr("fill","black")}),o.append("defs").append("marker").attr("id","arrow-head").attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("fill","black"),o.append("line").attr("x1",30).attr("y1",50*(i.length-1)+20).attr("x2",30).attr("y2",-20).attr("stroke","black").attr("stroke-width",2).attr("marker-end","url(#arrow-head)");o.append("text").attr("x",40).attr("y",75).attr("text-anchor","start").style("font-family","sans-serif").style("font-size","12px").selectAll("tspan").data(["Nominations","(Oscars et","Golden Globes)"]).enter().append("tspan").attr("x",40).attr("dy",function(t,a){return 0===a?"0em":"1.2em"}).text(function(t){return t})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.drawLegend=t;
},{}],"NWAC":[function(require,module,exports) {
"use strict";function e(e){var n=Object.values(e).flat(),a=d3.min(n,function(e){return e.oscarsData.oscarNominations+e.goldenGlobesData.goldenGlobesNominations}),t=d3.max(n,function(e){return e.oscarsData.oscarNominations+e.goldenGlobesData.goldenGlobesNominations});return d3.scaleLinear().domain([a,t]).range([5,15])}function n(e){var n=Object.values(e).flat().map(function(e){return e.year}),a=d3.min(n),t=d3.max(n);return d3.scaleSequential().domain([a,t]).interpolator(d3.interpolateViridis)}function a(e,n){var a=Object.values(n).flat().filter(function(e){return"Not Available"!==e.box_office&&!isNaN(e.box_office)}),t=d3.min(a,function(e){return+e.box_office}),o=d3.max(a,function(e){return+e.box_office});return d3.scaleLog().domain([t,o]).range([0,e])}function t(e,n){var a=Object.values(n).flat().filter(function(e){return void 0!==e.rank&&!isNaN(e.rank)}),t=d3.min(a,function(e){return e.rank}),o=d3.max(a,function(e){return e.rank});return d3.scaleLinear().domain([o,t]).range([e,0])}Object.defineProperty(exports,"__esModule",{value:!0}),exports.setColorScale=n,exports.setRadiusScale=e,exports.setXScale=a,exports.setYScale=t;
},{}],"b669":[function(require,module,exports) {
"use strict";function n(n){var o=n.box_office?"$".concat(Number(n.box_office).toLocaleString()):"Not Available",t=(n.oscarsData.oscarNominations||0)+(n.goldenGlobesData.goldenGlobesNominations||0);return' <div class="tooltip-value" style="\n      background: linear-gradient(90deg,rgb(143, 143, 143) 0%,rgba(166, 166, 166, 0.4) 100%);\n      padding: 12px;\n      border-radius: 6px;\n      color: white;\n      backdrop-filter: blur(5px);\n      box-shadow: 0 5px 10px rgba(0, 0, 0, 0.3);\n      "\n  >\n    <div style="margin: 4px 0;">\n      <strong>🎬 Movie:</strong> '.concat(n.name,'\n    </div>\n    <div style="margin: 4px 0;">\n      <strong>💰 Box Office:</strong> ').concat(o,'\n    </div>\n    <div style="margin: 4px 0;">\n      <strong>🏆 Nominations:</strong> ').concat(t,'\n    </div>\n    <div style="margin: 4px 0;">\n      <strong>⭐ Rank:</strong> ').concat(n.rank,'\n    </div>\n    <div style="margin: 4px 0;">\n      <strong>📅 Year:</strong> ').concat(n.year,"\n    </div>\n  </div> \n  ")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getContents=n;
},{}],"xHYR":[function(require,module,exports) {
"use strict";function t(t,e,o){t.select(".x1.axis-text").attr("transform","translate("+e/2+", "+(o+50)+")"),t.select(".y1.axis-text").attr("transform","translate(-75, "+o/2+")rotate(-90)")}function e(t,e,o,r){var s=e.filter(function(t){return"Not Available"!==t.box_office&&!isNaN(t.box_office)&&void 0!==t.rank&&!isNaN(t.rank)});t.selectAll("circle").data(s).enter().append("circle").attr("class","bubble1"),t.selectAll(".bubble1").data(s).attr("r",function(t){return o(t.oscarsData.oscarNominations+t.goldenGlobesData.goldenGlobesNominations)}).attr("fill",function(t){return r(t.year)}).style("opacity",.85).attr("stroke","white")}function o(t,e,o,r){t.selectAll(".bubble1").transition().duration(r).attr("cx",function(t){return e(t.box_office)}).attr("cy",function(t){return o(t.rank)})}function r(t,e){t.selectAll(".bubble1").on("mouseover",function(t,o){d3.select(this).style("opacity",1),e.show(o,this)}).on("mouseout",function(t,o){d3.select(this).style("opacity",.85),e.hide(o,this)})}function s(t){d3.select("#graph-g").select(".title1").text("Data for year : ")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.drawCircles=e,exports.moveCircles=o,exports.positionLabels=t,exports.setCircleHoverHandler=r,exports.setTitleText=s;
},{}],"lDuF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.prefix=exports.default=void 0;var t=exports.prefix="$";function r(){}function e(t,e){var i=new r;if(t instanceof r)t.each(function(t,r){i.set(r,t)});else if(Array.isArray(t)){var n,s=-1,o=t.length;if(null==e)for(;++s<o;)i.set(s,t[s]);else for(;++s<o;)i.set(e(n=t[s],s,t),n)}else if(t)for(var u in t)i.set(u,t[u]);return i}r.prototype=e.prototype={constructor:r,has:function(r){return t+r in this},get:function(r){return this[t+r]},set:function(r,e){return this[t+r]=e,this},remove:function(r){var e=t+r;return e in this&&delete this[e]},clear:function(){for(var r in this)r[0]===t&&delete this[r]},keys:function(){var r=[];for(var e in this)e[0]===t&&r.push(e.slice(1));return r},values:function(){var r=[];for(var e in this)e[0]===t&&r.push(this[e]);return r},entries:function(){var r=[];for(var e in this)e[0]===t&&r.push({key:e.slice(1),value:this[e]});return r},size:function(){var r=0;for(var e in this)e[0]===t&&++r;return r},empty:function(){for(var r in this)if(r[0]===t)return!1;return!0},each:function(r){for(var e in this)e[0]===t&&r(this[e],e.slice(1),this)}};var i=exports.default=e;
},{}],"kDkA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;var n=t(require("./map"));function t(n){return n&&n.__esModule?n:{default:n}}function e(){var t,e,i,l=[],c=[];function s(u,r,o,f){if(r>=l.length)return null!=t&&u.sort(t),null!=e?e(u):u;for(var i,c,a,h=-1,p=u.length,d=l[r++],g=(0,n.default)(),v=o();++h<p;)(a=g.get(i=d(c=u[h])+""))?a.push(c):g.set(i,[c]);return g.each(function(n,t){f(v,t,s(n,r,o,f))}),v}return i={object:function(n){return s(n,0,u,r)},map:function(n){return s(n,0,o,f)},entries:function(n){return function n(t,u){if(++u>l.length)return t;var r,o=c[u-1];return null!=e&&u>=l.length?r=t.entries():(r=[],t.each(function(t,e){r.push({key:e,values:n(t,u)})})),null!=o?r.sort(function(n,t){return o(n.key,t.key)}):r}(s(n,0,o,f),0)},key:function(n){return l.push(n),i},sortKeys:function(n){return c[l.length-1]=n,i},sortValues:function(n){return t=n,i},rollup:function(n){return e=n,i}}}function u(){return{}}function r(n,t,e){n[t]=e}function o(){return(0,n.default)()}function f(n,t,e){n.set(t,e)}
},{"./map":"lDuF"}],"vFPv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./map"));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}function r(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var f=a?Object.getOwnPropertyDescriptor(e,u):null;f&&(f.get||f.set)?Object.defineProperty(o,u,f):o[u]=e[u]}return o.default=e,n&&n.set(e,o),o}function n(){}var o=e.default.prototype;function a(e,t){var r=new n;if(e instanceof n)e.each(function(e){r.add(e)});else if(e){var o=-1,a=e.length;if(null==t)for(;++o<a;)r.add(e[o]);else for(;++o<a;)r.add(t(e[o],o,e))}return r}n.prototype=a.prototype={constructor:n,has:o.has,add:function(t){return t+="",this[e.prefix+t]=t,this},remove:o.remove,clear:o.clear,values:o.keys,size:o.size,empty:o.empty,each:o.each};var u=exports.default=a;
},{"./map":"lDuF"}],"DTc5":[function(require,module,exports) {
"use strict";function e(e){var r=[];for(var t in e)r.push(t);return r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"KaQc":[function(require,module,exports) {
"use strict";function e(e){var r=[];for(var t in e)r.push(e[t]);return r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"wnH6":[function(require,module,exports) {
"use strict";function e(e){var r=[];for(var t in e)r.push({key:t,value:e[t]});return r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"S3hn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"entries",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"keys",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"map",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"nest",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"set",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"values",{enumerable:!0,get:function(){return n.default}});var e=o(require("./nest")),r=o(require("./set")),t=o(require("./map")),u=o(require("./keys")),n=o(require("./values")),i=o(require("./entries"));function o(e){return e&&e.__esModule?e:{default:e}}
},{"./nest":"kDkA","./set":"vFPv","./map":"lDuF","./keys":"DTc5","./values":"KaQc","./entries":"wnH6"}],"BstJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.xhtml=exports.default=void 0;var t=exports.xhtml="http://www.w3.org/1999/xhtml",w=exports.default={svg:"http://www.w3.org/2000/svg",xhtml:t,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};
},{}],"dGTM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=r(require("./namespaces"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r){var t=r+="",s=t.indexOf(":");return s>=0&&"xmlns"!==(t=r.slice(0,s))&&(r=r.slice(s+1)),e.default.hasOwnProperty(t)?{space:e.default[t],local:r}:r}
},{"./namespaces":"BstJ"}],"RtY4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=a;var e=n(require("./namespace")),t=require("./namespaces");function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===t.xhtml&&n.documentElement.namespaceURI===t.xhtml?n.createElement(e):n.createElementNS(r,e)}}function u(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function a(t){var n=(0,e.default)(t);return(n.local?u:r)(n)}
},{"./namespace":"dGTM","./namespaces":"BstJ"}],"obpk":[function(require,module,exports) {
"use strict";function e(){}function t(t){return null==t?e:function(){return this.querySelector(t)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"NFvr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=_;var e=require("./index"),t=r(require("../selector"));function r(e){return e&&e.__esModule?e:{default:e}}function _(r){"function"!=typeof r&&(r=(0,t.default)(r));for(var _=this._groups,a=_.length,n=new Array(a),u=0;u<a;++u)for(var o,i,l=_[u],d=l.length,s=n[u]=new Array(d),f=0;f<d;++f)(o=l[f])&&(i=r.call(o,o.__data__,f,l))&&("__data__"in o&&(i.__data__=o.__data__),s[f]=i);return new e.Selection(n,this._parents)}
},{"./index":"ZUSK","../selector":"obpk"}],"oDLJ":[function(require,module,exports) {
"use strict";function e(){return[]}function t(t){return null==t?e:function(){return this.querySelectorAll(t)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"jNnW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=require("./index"),t=r(require("../selectorAll"));function r(e){return e&&e.__esModule?e:{default:e}}function u(r){"function"!=typeof r&&(r=(0,t.default)(r));for(var u=this._groups,l=u.length,n=[],o=[],s=0;s<l;++s)for(var a,f=u[s],i=f.length,_=0;_<i;++_)(a=f[_])&&(n.push(r.call(a,a.__data__,_,f)),o.push(a));return new e.Selection(n,o)}
},{"./index":"ZUSK","../selectorAll":"oDLJ"}],"ITmw":[function(require,module,exports) {
"use strict";function e(e){return function(){return this.matches(e)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"EOrj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var e=require("./index"),r=t(require("../matcher"));function t(e){return e&&e.__esModule?e:{default:e}}function n(t){"function"!=typeof t&&(t=(0,r.default)(t));for(var n=this._groups,u=n.length,a=new Array(u),o=0;o<u;++o)for(var i,l=n[o],s=l.length,f=a[o]=[],_=0;_<s;++_)(i=l[_])&&t.call(i,i.__data__,_,l)&&f.push(i);return new e.Selection(a,this._parents)}
},{"./index":"ZUSK","../matcher":"ITmw"}],"lo3F":[function(require,module,exports) {
"use strict";function e(e){return new Array(e.length)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"iRCF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EnterNode=o,exports.default=n;var e=r(require("./sparse")),t=require("./index");function r(e){return e&&e.__esModule?e:{default:e}}function n(){return new t.Selection(this._enter||this._groups.map(e.default),this._parents)}function o(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}o.prototype={constructor:o,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};
},{"./sparse":"lo3F","./index":"ZUSK"}],"l4Vo":[function(require,module,exports) {
"use strict";function e(e){return function(){return e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"qVqJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=l;var e=require("./index"),r=require("./enter"),n=t(require("../constant"));function t(e){return e&&e.__esModule?e:{default:e}}var a="$";function o(e,n,t,a,o,_){for(var l,i=0,u=n.length,f=_.length;i<f;++i)(l=n[i])?(l.__data__=_[i],a[i]=l):t[i]=new r.EnterNode(e,_[i]);for(;i<u;++i)(l=n[i])&&(o[i]=l)}function _(e,n,t,o,_,l,i){var u,f,c,s={},d=n.length,h=l.length,w=new Array(d);for(u=0;u<d;++u)(f=n[u])&&(w[u]=c=a+i.call(f,f.__data__,u,n),c in s?_[u]=f:s[c]=f);for(u=0;u<h;++u)(f=s[c=a+i.call(e,l[u],u,l)])?(o[u]=f,f.__data__=l[u],s[c]=null):t[u]=new r.EnterNode(e,l[u]);for(u=0;u<d;++u)(f=n[u])&&s[w[u]]===f&&(_[u]=f)}function l(r,t){if(!r)return v=new Array(this.size()),d=-1,this.each(function(e){v[++d]=e}),v;var a=t?_:o,l=this._parents,i=this._groups;"function"!=typeof r&&(r=(0,n.default)(r));for(var u=i.length,f=new Array(u),c=new Array(u),s=new Array(u),d=0;d<u;++d){var h=l[d],w=i[d],y=w.length,v=r.call(h,h&&h.__data__,d,l),g=v.length,A=c[d]=new Array(g),p=f[d]=new Array(g);a(h,w,A,p,s[d]=new Array(y),v,t);for(var x,q,E=0,M=0;E<g;++E)if(x=A[E]){for(E>=M&&(M=E+1);!(q=p[M])&&++M<g;);x._next=q||null}}return(f=new e.Selection(f,l))._enter=c,f._exit=s,f}
},{"./index":"ZUSK","./enter":"iRCF","../constant":"l4Vo"}],"huLM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=r(require("./sparse")),t=require("./index");function r(e){return e&&e.__esModule?e:{default:e}}function u(){return new t.Selection(this._exit||this._groups.map(e.default),this._parents)}
},{"./sparse":"lo3F","./index":"ZUSK"}],"aaTS":[function(require,module,exports) {
"use strict";function e(e,t,r){var n=this.enter(),o=this,u=this.exit();return n="function"==typeof e?e(n):n.append(e+""),null!=t&&(o=t(o)),null==r?u.remove():r(u),n&&o?n.merge(o).order():o}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"JTmu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=require("./index");function r(r){for(var t=this._groups,n=r._groups,o=t.length,s=n.length,a=Math.min(o,s),i=new Array(o),u=0;u<a;++u)for(var l,f=t[u],h=n[u],p=f.length,g=i[u]=new Array(p),_=0;_<p;++_)(l=f[_]||h[_])&&(g[_]=l);for(;u<o;++u)i[u]=t[u];return new e.Selection(i,this._parents)}
},{"./index":"ZUSK"}],"GdYa":[function(require,module,exports) {
"use strict";function e(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var o,n=e[t],s=n.length-1,i=n[s];--s>=0;)(o=n[s])&&(i&&4^o.compareDocumentPosition(i)&&i.parentNode.insertBefore(o,i),i=o);return this}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"esM3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;var r=require("./index");function e(e){function n(r,t){return r&&t?e(r.__data__,t.__data__):!r-!t}e||(e=t);for(var a=this._groups,o=a.length,u=new Array(o),_=0;_<o;++_){for(var i,s=a[_],d=s.length,f=u[_]=new Array(d),c=0;c<d;++c)(i=s[c])&&(f[c]=i);f.sort(n)}return new r.Selection(u,this._parents).order()}function t(r,e){return r<e?-1:r>e?1:r>=e?0:NaN}
},{"./index":"ZUSK"}],"JNBw":[function(require,module,exports) {
"use strict";function e(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"r2SH":[function(require,module,exports) {
"use strict";function e(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"oOSo":[function(require,module,exports) {
"use strict";function e(){for(var e=this._groups,r=0,t=e.length;r<t;++r)for(var u=e[r],n=0,o=u.length;n<o;++n){var l=u[n];if(l)return l}return null}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"UkRw":[function(require,module,exports) {
"use strict";function e(){var e=0;return this.each(function(){++e}),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"ziIZ":[function(require,module,exports) {
"use strict";function e(){return!this.node()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"osXg":[function(require,module,exports) {
"use strict";function e(e){for(var t=this._groups,r=0,o=t.length;r<o;++r)for(var s,a=t[r],l=0,u=a.length;l<u;++l)(s=a[l])&&e.call(s,s.__data__,l,a);return this}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"jS6M":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=l;var t=e(require("../namespace"));function e(t){return t&&t.__esModule?t:{default:t}}function n(t){return function(){this.removeAttribute(t)}}function u(t){return function(){this.removeAttributeNS(t.space,t.local)}}function r(t,e){return function(){this.setAttribute(t,e)}}function i(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function o(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function c(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function l(e,l){var a=(0,t.default)(e);if(arguments.length<2){var s=this.node();return a.local?s.getAttributeNS(a.space,a.local):s.getAttribute(a)}return this.each((null==l?a.local?u:n:"function"==typeof l?a.local?c:o:a.local?i:r)(a,l))}
},{"../namespace":"dGTM"}],"vD4n":[function(require,module,exports) {
"use strict";function e(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"VLLC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o,exports.styleValue=l;var e=t(require("../window"));function t(e){return e&&e.__esModule?e:{default:e}}function r(e){return function(){this.style.removeProperty(e)}}function n(e,t,r){return function(){this.style.setProperty(e,t,r)}}function u(e,t,r){return function(){var n=t.apply(this,arguments);null==n?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function o(e,t,o){return arguments.length>1?this.each((null==t?r:"function"==typeof t?u:n)(e,t,null==o?"":o)):l(this.node(),e)}function l(t,r){return t.style.getPropertyValue(r)||(0,e.default)(t).getComputedStyle(t,null).getPropertyValue(r)}
},{"../window":"vD4n"}],"hfrR":[function(require,module,exports) {
"use strict";function t(t){return function(){delete this[t]}}function e(t,e){return function(){this[t]=e}}function n(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function u(u,i){return arguments.length>1?this.each((null==i?t:"function"==typeof i?n:e)(u,i)):this.node()[u]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;
},{}],"C2sl":[function(require,module,exports) {
"use strict";function t(t){return t.trim().split(/^|\s+/)}function n(t){return t.classList||new e(t)}function e(n){this._node=n,this._names=t(n.getAttribute("class")||"")}function i(t,e){for(var i=n(t),s=-1,r=e.length;++s<r;)i.add(e[s])}function s(t,e){for(var i=n(t),s=-1,r=e.length;++s<r;)i.remove(e[s])}function r(t){return function(){i(this,t)}}function o(t){return function(){s(this,t)}}function u(t,n){return function(){(n.apply(this,arguments)?i:s)(this,t)}}function f(e,i){var s=t(e+"");if(arguments.length<2){for(var f=n(this.node()),c=-1,a=s.length;++c<a;)if(!f.contains(s[c]))return!1;return!0}return this.each(("function"==typeof i?u:i?r:o)(s,i))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=f,e.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};
},{}],"xXMy":[function(require,module,exports) {
"use strict";function t(){this.textContent=""}function n(t){return function(){this.textContent=t}}function e(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function o(o){return arguments.length?this.each(null==o?t:("function"==typeof o?e:n)(o)):this.node().textContent}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;
},{}],"vSEN":[function(require,module,exports) {
"use strict";function n(){this.innerHTML=""}function t(n){return function(){this.innerHTML=n}}function e(n){return function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}}function i(i){return arguments.length?this.each(null==i?n:("function"==typeof i?e:t)(i)):this.node().innerHTML}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i;
},{}],"ISQT":[function(require,module,exports) {
"use strict";function e(){this.nextSibling&&this.parentNode.appendChild(this)}function t(){return this.each(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"XxVt":[function(require,module,exports) {
"use strict";function e(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function t(){return this.each(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"mFTb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("../creator"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){var r="function"==typeof t?t:(0,e.default)(t);return this.select(function(){return this.appendChild(r.apply(this,arguments))})}
},{"../creator":"RtY4"}],"SBDd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var e=r(require("../creator")),t=r(require("../selector"));function r(e){return e&&e.__esModule?e:{default:e}}function u(){return null}function n(r,n){var l="function"==typeof r?r:(0,e.default)(r),o=null==n?u:"function"==typeof n?n:(0,t.default)(n);return this.select(function(){return this.insertBefore(l.apply(this,arguments),o.apply(this,arguments)||null)})}
},{"../creator":"RtY4","../selector":"obpk"}],"pfc1":[function(require,module,exports) {
"use strict";function e(){var e=this.parentNode;e&&e.removeChild(this)}function t(){return this.each(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"rXH4":[function(require,module,exports) {
"use strict";function e(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function t(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function n(n){return this.select(n?t:e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;
},{}],"xbnU":[function(require,module,exports) {
"use strict";function e(e){return arguments.length?this.property("__data__",e):this.node().__data__}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"oPjo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.customEvent=p,exports.default=a,exports.event=void 0;var e={},t=exports.event=null;if("undefined"!=typeof document){var n=document.documentElement;"onmouseenter"in n||(e={mouseenter:"mouseover",mouseleave:"mouseout"})}function r(e,t,n){return e=i(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function i(e,n,r){return function(i){var o=t;exports.event=t=i;try{e.call(this,this.__data__,n,r)}finally{exports.event=t=o}}}function o(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}function s(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?t.length=i:delete this.__on}}}function u(t,n,o){var s=e.hasOwnProperty(t.type)?r:i;return function(e,r,i){var u,a=this.__on,p=s(n,r,i);if(a)for(var l=0,v=a.length;l<v;++l)if((u=a[l]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=p,u.capture=o),void(u.value=n);this.addEventListener(t.type,p,o),u={type:t.type,name:t.name,value:n,listener:p,capture:o},a?a.push(u):this.__on=[u]}}function a(e,t,n){var r,i,a=o(e+""),p=a.length;if(!(arguments.length<2)){for(l=t?u:s,null==n&&(n=!1),r=0;r<p;++r)this.each(l(a[r],t,n));return this}var l=this.node().__on;if(l)for(var v,f=0,c=l.length;f<c;++f)for(r=0,v=l[f];r<p;++r)if((i=a[r]).type===v.type&&i.name===v.name)return v.value}function p(e,n,r,i){var o=t;e.sourceEvent=t,exports.event=t=e;try{return n.apply(r,i)}finally{exports.event=t=o}}
},{}],"MP34":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var t=e(require("../window"));function e(t){return t&&t.__esModule?t:{default:t}}function n(e,n,u){var i=(0,t.default)(e),r=i.CustomEvent;"function"==typeof r?r=new r(n,u):(r=i.document.createEvent("Event"),u?(r.initEvent(n,u.bubbles,u.cancelable),r.detail=u.detail):r.initEvent(n,!1,!1)),e.dispatchEvent(r)}function u(t,e){return function(){return n(this,t,e)}}function i(t,e){return function(){return n(this,t,e.apply(this,arguments))}}function r(t,e){return this.each(("function"==typeof e?i:u)(t,e))}
},{"../window":"vD4n"}],"ZUSK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Selection=B,exports.root=exports.default=void 0;var e=S(require("./select")),r=S(require("./selectAll")),t=S(require("./filter")),u=S(require("./data")),l=S(require("./enter")),a=S(require("./exit")),d=S(require("./join")),i=S(require("./merge")),o=S(require("./order")),f=S(require("./sort")),s=S(require("./call")),n=S(require("./nodes")),q=S(require("./node")),p=S(require("./size")),c=S(require("./empty")),m=S(require("./each")),x=S(require("./attr")),y=S(require("./style")),h=S(require("./property")),v=S(require("./classed")),_=S(require("./text")),g=S(require("./html")),j=S(require("./raise")),w=S(require("./lower")),z=S(require("./append")),A=S(require("./insert")),M=S(require("./remove")),b=S(require("./clone")),E=S(require("./datum")),O=S(require("./on")),P=S(require("./dispatch"));function S(e){return e&&e.__esModule?e:{default:e}}var k=exports.root=[null];function B(e,r){this._groups=e,this._parents=r}function C(){return new B([[document.documentElement]],k)}B.prototype=C.prototype={constructor:B,select:e.default,selectAll:r.default,filter:t.default,data:u.default,enter:l.default,exit:a.default,join:d.default,merge:i.default,order:o.default,sort:f.default,call:s.default,nodes:n.default,node:q.default,size:p.default,empty:c.default,each:m.default,attr:x.default,style:y.default,property:h.default,classed:v.default,text:_.default,html:g.default,raise:j.default,lower:w.default,append:z.default,insert:A.default,remove:M.default,clone:b.default,datum:E.default,on:O.default,dispatch:P.default};var D=exports.default=C;
},{"./select":"NFvr","./selectAll":"jNnW","./filter":"EOrj","./data":"qVqJ","./enter":"iRCF","./exit":"huLM","./join":"aaTS","./merge":"JTmu","./order":"GdYa","./sort":"esM3","./call":"JNBw","./nodes":"r2SH","./node":"oOSo","./size":"UkRw","./empty":"ziIZ","./each":"osXg","./attr":"jS6M","./style":"VLLC","./property":"hfrR","./classed":"C2sl","./text":"xXMy","./html":"vSEN","./raise":"ISQT","./lower":"XxVt","./append":"mFTb","./insert":"SBDd","./remove":"pfc1","./clone":"rXH4","./datum":"xbnU","./on":"oPjo","./dispatch":"MP34"}],"dGfD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=require("./selection/index");function t(t){return"string"==typeof t?new e.Selection([[document.querySelector(t)]],[document.documentElement]):new e.Selection([[t]],e.root)}
},{"./selection/index":"ZUSK"}],"mPbZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=r(require("./creator")),t=r(require("./select"));function r(e){return e&&e.__esModule?e:{default:e}}function u(r){return(0,t.default)((0,e.default)(r).call(document.documentElement))}
},{"./creator":"RtY4","./select":"dGfD"}],"lPs7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;var t=0;function e(){return new r}function r(){this._="@"+(++t).toString(36)}r.prototype=e.prototype={constructor:r,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};
},{}],"sc1B":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=require("./selection/on");function r(){for(var r,t=e.event;r=t.sourceEvent;)t=r;return t}
},{"./selection/on":"oPjo"}],"T9nZ":[function(require,module,exports) {
"use strict";function e(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"jvbX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=r(require("./sourceEvent")),u=r(require("./point"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r){var t=(0,e.default)();return t.changedTouches&&(t=t.changedTouches[0]),(0,u.default)(r,t)}
},{"./sourceEvent":"sc1B","./point":"T9nZ"}],"j9UO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=require("./selection/index");function t(t){return"string"==typeof t?new e.Selection([document.querySelectorAll(t)],[document.documentElement]):new e.Selection([null==t?[]:t],e.root)}
},{"./selection/index":"ZUSK"}],"tgqD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=t(require("./sourceEvent")),r=t(require("./point"));function t(e){return e&&e.__esModule?e:{default:e}}function u(t,u,n){arguments.length<3&&(n=u,u=(0,e.default)().changedTouches);for(var i,l=0,o=u?u.length:0;l<o;++l)if((i=u[l]).identifier===n)return(0,r.default)(t,i);return null}
},{"./sourceEvent":"sc1B","./point":"T9nZ"}],"VfrD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=t(require("./sourceEvent")),r=t(require("./point"));function t(e){return e&&e.__esModule?e:{default:e}}function u(t,u){null==u&&(u=(0,e.default)().touches);for(var n=0,o=u?u.length:0,l=new Array(o);n<o;++n)l[n]=(0,r.default)(t,u[n]);return l}
},{"./sourceEvent":"sc1B","./point":"T9nZ"}],"n1oy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"clientPoint",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"create",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"creator",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"customEvent",{enumerable:!0,get:function(){return x.customEvent}}),Object.defineProperty(exports,"event",{enumerable:!0,get:function(){return x.event}}),Object.defineProperty(exports,"local",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"matcher",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"mouse",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"namespace",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"namespaces",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(exports,"select",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"selectAll",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"selection",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"selector",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(exports,"selectorAll",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(exports,"style",{enumerable:!0,get:function(){return d.styleValue}}),Object.defineProperty(exports,"touch",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(exports,"touches",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(exports,"window",{enumerable:!0,get:function(){return y.default}});var e=P(require("./create")),t=P(require("./creator")),r=P(require("./local")),n=P(require("./matcher")),u=P(require("./mouse")),o=P(require("./namespace")),c=P(require("./namespaces")),i=P(require("./point")),l=P(require("./select")),f=P(require("./selectAll")),a=P(require("./selection/index")),s=P(require("./selector")),p=P(require("./selectorAll")),d=require("./selection/style"),b=P(require("./touch")),m=P(require("./touches")),y=P(require("./window")),x=require("./selection/on");function P(e){return e&&e.__esModule?e:{default:e}}
},{"./create":"mPbZ","./creator":"RtY4","./local":"lPs7","./matcher":"ITmw","./mouse":"jvbX","./namespace":"dGTM","./namespaces":"BstJ","./point":"T9nZ","./select":"dGfD","./selectAll":"j9UO","./selection/index":"ZUSK","./selector":"obpk","./selectorAll":"oDLJ","./selection/style":"VLLC","./touch":"tgqD","./touches":"VfrD","./window":"vD4n","./selection/on":"oPjo"}],"L7nD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var t=require("d3-collection"),e=require("d3-selection");function n(){var n=function(){return"n"},r=function(){return[0,0]},o=function(){return" "},l=document.body,i=y(),s=null,u=null,f=null;function a(t){var e;e=t.node(),(s=e?"svg"===e.tagName.toLowerCase()?e:e.ownerSVGElement:null)&&(u=s.createSVGPoint(),l.appendChild(i))}a.show=function(){var t=Array.prototype.slice.call(arguments);t[t.length-1]instanceof SVGElement&&(f=t.pop());var e,i=o.apply(this,t),s=r.apply(this,t),u=n.apply(this,t),y=h(),d=p.length,m=document.documentElement.scrollTop||l.scrollTop,x=document.documentElement.scrollLeft||l.scrollLeft;for(y.html(i).style("opacity",1).style("pointer-events","all");d--;)y.classed(p[d],!1);return e=c.get(u).apply(this),y.classed(u,!0).style("top",e.top+s[0]+m+"px").style("left",e.left+s[1]+x+"px"),a},a.hide=function(){return h().style("opacity",0).style("pointer-events","none"),a},a.attr=function(t,n){if(arguments.length<2&&"string"==typeof t)return h().attr(t);var r=Array.prototype.slice.call(arguments);return e.selection.prototype.attr.apply(h(),r),a},a.style=function(t,n){if(arguments.length<2&&"string"==typeof t)return h().style(t);var r=Array.prototype.slice.call(arguments);return e.selection.prototype.style.apply(h(),r),a},a.direction=function(t){return arguments.length?(n=null==t?t:m(t),a):n},a.offset=function(t){return arguments.length?(r=null==t?t:m(t),a):r},a.html=function(t){return arguments.length?(o=null==t?t:m(t),a):o},a.rootElement=function(t){return arguments.length?(l=null==t?t:m(t),a):l},a.destroy=function(){return i&&(h().remove(),i=null),a};var c=(0,t.map)({n:function(){var t=d(this);return{top:t.n.y-i.offsetHeight,left:t.n.x-i.offsetWidth/2}},s:function(){var t=d(this);return{top:t.s.y,left:t.s.x-i.offsetWidth/2}},e:function(){var t=d(this);return{top:t.e.y-i.offsetHeight/2,left:t.e.x}},w:function(){var t=d(this);return{top:t.w.y-i.offsetHeight/2,left:t.w.x-i.offsetWidth}},nw:function(){var t=d(this);return{top:t.nw.y-i.offsetHeight,left:t.nw.x-i.offsetWidth}},ne:function(){var t=d(this);return{top:t.ne.y-i.offsetHeight,left:t.ne.x}},sw:function(){var t=d(this);return{top:t.sw.y,left:t.sw.x-i.offsetWidth}},se:function(){var t=d(this);return{top:t.se.y,left:t.se.x}}}),p=c.keys();function y(){var t=(0,e.select)(document.createElement("div"));return t.style("position","absolute").style("top",0).style("opacity",0).style("pointer-events","none").style("box-sizing","border-box"),t.node()}function h(){return null==i&&(i=y(),l.appendChild(i)),(0,e.select)(i)}function d(t){for(var e=f||t;null==e.getScreenCTM&&null!=e.parentNode;)e=e.parentNode;var n={},r=e.getScreenCTM(),o=e.getBBox(),l=o.width,i=o.height,s=o.x,a=o.y;return u.x=s,u.y=a,n.nw=u.matrixTransform(r),u.x+=l,n.ne=u.matrixTransform(r),u.y+=i,n.se=u.matrixTransform(r),u.x-=l,n.sw=u.matrixTransform(r),u.y-=i/2,n.w=u.matrixTransform(r),u.x+=l,n.e=u.matrixTransform(r),u.x-=l/2,u.y-=i/2,n.n=u.matrixTransform(r),u.y+=i,n.s=u.matrixTransform(r),n}function m(t){return"function"==typeof t?t:function(){return t}}return a}
},{"d3-collection":"S3hn","d3-selection":"n1oy"}],"sFKV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDataPerTimeInterval=v,exports.getMarketPerTimeInterval=h,exports.reduceNumberOfLine=y,exports.stackData=b;var e=require("../scripts/helper.js");function r(e,r){return i(e)||n(e,r)||u(e,r)||t()}function t(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,i,o,c,a=[],f=!0,s=!1;try{if(o=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;f=!1}else for(;!(f=(n=o.call(t)).done)&&(a.push(n.value),a.length!==r);f=!0);}catch(e){s=!0,i=e}finally{try{if(!f&&null!=t.return&&(c=t.return(),Object(c)!==c))return}finally{if(s)throw i}}return a}}function i(e){if(Array.isArray(e))return e}function o(e){return f(e)||a(e)||u(e)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function f(e){if(Array.isArray(e))return l(e)}function s(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=u(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return c=e.done,e},e:function(e){a=!0,o=e},f:function(){try{c||null==t.return||t.return()}finally{if(a)throw o}}}}function u(e,r){if(e){if("string"==typeof e)return l(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(e,r):void 0}}function l(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function m(e,r){if(e<61)return"0-60";var t=Math.floor((e-60)/r)*r+60;return"".concat(t,"-").concat(t+r)}function v(r,t,n){var i,o={},c={},a=s(r);try{var f=function(){var r=i.value,t=r.year;c[t]||(c[t]={totalMetric:0,metricPerGenre:{},metricsPerMovieLenght:{},metricsPerCertificate:{}});var o=c[t],a=null;if("box_office"===n&&(a="number"==typeof r.box_office?r.box_office:0),"rating"===n&&(a=1),"profit"===n&&(a="number"==typeof r.profit?r.profit:0),"numNominations"===n){var f=r.goldenGlobesData&&r.goldenGlobesData.goldenGlobesNominations&&"number"==typeof r.goldenGlobesData.goldenGlobesNominations?r.goldenGlobesData.goldenGlobesNominations:0,s=r.oscarsData&&r.oscarsData.oscarNominations&&"number"==typeof r.oscarsData.oscarNominations?r.oscarsData.oscarNominations:0;a=f+s}r.box_office&&(o.totalMetric+=a),r.genre.forEach(function(e){o.metricPerGenre[e]||(o.metricPerGenre[e]=0),o.metricPerGenre[e]+=a});var u=(0,e.parseRuntime)(r.run_time);if(u){var l=m(u,5);o.metricsPerMovieLenght[l]||(o.metricsPerMovieLenght[l]=0),o.metricsPerMovieLenght[l]+=a}r.certificate&&(o.metricsPerCertificate[r.certificate]||(o.metricsPerCertificate[r.certificate]=0),o.metricsPerCertificate[r.certificate]+=a)};for(a.s();!(i=a.n()).done;)f()}catch(v){a.e(v)}finally{a.f()}var u=function(){var e=c[l],r="[".concat(Math.floor(l/t)*t,", ").concat(Math.floor(l/t)*t+t,"]");o[r]||(o[r]={totalMetric:0,metricPerGenre:{},metricsPerMovieLenght:{},metricsPerCertificate:{}});var n=o[r];n.totalMetric+=e.totalMetric,Object.keys(e.metricPerGenre).forEach(function(r){n.metricPerGenre[r]||(n.metricPerGenre[r]=0),n.metricPerGenre[r]+=e.metricPerGenre[r]}),Object.keys(e.metricsPerMovieLenght).forEach(function(r){n.metricsPerMovieLenght[r]||(n.metricsPerMovieLenght[r]=0),n.metricsPerMovieLenght[r]+=e.metricsPerMovieLenght[r]}),Object.keys(e.metricsPerCertificate).forEach(function(r){n.metricsPerCertificate[r]||(n.metricsPerCertificate[r]=0),n.metricsPerCertificate[r]+=e.metricsPerCertificate[r]})};for(var l in c)u();return o}function h(e,r){var t={},n=function(){var n=e[i];t[i]={metricForfilter:{}};var c=t[i];if("genre"===r){var a=Math.min.apply(Math,o(Object.values(n.metricPerGenre)));a<0&&Object.keys(n.metricPerGenre).forEach(function(e){n.metricPerGenre[e]+=-a});var f=Object.values(n.metricPerGenre).reduce(function(e,r){return e+r},0);Object.keys(n.metricPerGenre).forEach(function(e){c.metricForfilter[e]=n.metricPerGenre[e]/f})}if("movieLength"===r){var s=Math.min.apply(Math,o(Object.values(n.metricsPerMovieLenght)));s<0&&Object.keys(n.metricsPerMovieLenght).forEach(function(e){n.metricsPerMovieLenght[e]+=-s});var u=Object.values(n.metricsPerMovieLenght).reduce(function(e,r){return e+r},0);Object.keys(n.metricsPerMovieLenght).forEach(function(e){c.metricForfilter[e]=n.metricsPerMovieLenght[e]/u})}if("certificate"===r){var l=Math.min.apply(Math,o(Object.values(n.metricsPerCertificate)));l<0&&Object.keys(n.metricsPerCertificate).forEach(function(e){n.metricsPerCertificate[e]+=-l});var m=Object.values(n.metricsPerCertificate).reduce(function(e,r){return e+r},0);Object.keys(n.metricsPerCertificate).forEach(function(e){c.metricForfilter[e]=n.metricsPerCertificate[e]/m})}};for(var i in e)n();return t}function y(e,t){var n={presentCategory:[],intervals:{}},i=function(){var i=e[c],o=n.intervals[c]={metricForfilter:{}},a=Object.entries(i.metricForfilter).sort(function(e,r){return r[1]-e[1]}),f=a.slice(0,t-1),s=a.slice(t-1);f.forEach(function(e){var t=r(e,2),i=t[0],c=t[1];o.metricForfilter[i]=c,n.presentCategory.push(i)}),o.metricForfilter.Other=s.reduce(function(e,t){var n=r(t,2);n[0];return e+n[1]},0)};for(var c in e)i();return n.presentCategory=o(new Set(n.presentCategory)),n.presentCategory.push("Other"),n}function b(e){return Object.entries(e.intervals).map(function(t){var n=r(t,2),i=n[0],o=n[1],c={interval:i};return e.presentCategory.forEach(function(e){c[e]=o.metricForfilter[e]||0}),c})}
},{"../scripts/helper.js":"E6ph"}],"QkGG":[function(require,module,exports) {
"use strict";function t(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.append("g").attr("transform","translate(".concat(e.left,",").concat(e.top,")"));return a&&r.attr("id",a),r}function e(t,e){d3.select(".tendance-timeline-svg").attr("width",t).attr("height",e)}function a(t){t.append("g").attr("class","x3 axis"),t.append("g").attr("class","y3 axis")}function r(t){t.append("text").text("Distribution du marché (de 0 à 100%)").attr("class","y axis-text").attr("transform","rotate(-90)").attr("font-size",12),t.append("text").text("Années").attr("class","x axis-text").attr("font-size",12)}function s(t,e,a){t.select(".x.axis-text").attr("transform","translate("+e/2+", "+(a+50)+")"),t.select(".y.axis-text").attr("transform","translate(-50, "+a/2+")rotate(-90)")}function n(t,e,a){var r=Math.ceil(a.length/12),s=a.filter(function(t,e){return e%r==0});d3.select(".x3.axis").attr("transform","translate( 0, "+e+")").call(d3.axisBottom(t).tickValues(s).tickFormat(function(t){return t}))}function i(t){d3.select(".y3.axis").call(d3.axisLeft(t).tickSizeOuter(0).ticks(10).tickFormat(d3.format(".2f")))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.appendAxes=a,exports.appendGraphLabels=r,exports.drawXAxis=n,exports.drawYAxis=i,exports.generateG=t,exports.positionLabels=s,exports.setCanvasSize=e;
},{}],"HeJo":[function(require,module,exports) {
"use strict";function e(e,n){return d3.scaleBand().domain(n).range([0,e]).padding(0)}function n(e){return d3.scaleLinear().domain([0,1]).range([e,0])}Object.defineProperty(exports,"__esModule",{value:!0}),exports.setXScale=e,exports.setYScale=n;
},{}],"rYuS":[function(require,module,exports) {
"use strict";function e(e,t,s){e.presentCategory.forEach(function(e){var n=t.append("div").style("display","flex").style("align-items","center");n.append("div").style("width","30px").style("height","15px").style("background-color",s(e)).style("margin-right","5px"),n.append("span").text(e).style("font-size","12px")})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createLegend=e;
},{}],"cHQO":[function(require,module,exports) {
"use strict";function t(t,n){return'<div class="tooltip-value" style="\n      z-index: 6;\n      background: linear-gradient(90deg,rgb(143, 143, 143) 0%,rgba(166, 166, 166, 0.4) 100%);\n      padding: 12px;\n      border-radius: 6px;\n      color: white;\n      backdrop-filter: blur(5px);\n      box-shadow: 1px -1px 10px 0px rgba(0, 0, 0, 0.3);\n      border-top : 1px solid '.concat(n(t.category),';\n      "\n  >\n    <div style="margin: 4px 0; color: ').concat(n(t.category),'; filter : brightness(1.5);">\n      <strong>🎬 Catégorie : </strong>').concat(t.category,'\n    </div>\n    <div style="margin: 4px 0;">\n      <strong>📊 Part de marché : </strong> ').concat((100*(t[1]-t[0])).toFixed(2),'%\n    </div>\n    <div style="margin: 4px 0;">\n      <strong>📅 Date : </strong> ').concat(t.data.interval,"\n    </div>\n  </div>\n  ")}function n(t,n){t.selectAll(".rect3").on("mouseover",function(t,e){d3.select(this).style("opacity",.8).style("cursor","pointer"),n.show(e,this)}).on("mouseout",function(t,e){d3.select(this).style("opacity",1),n.hide(e,this)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getContents=t,exports.setRectHoverHandler=n;
},{}],"Zokk":[function(require,module,exports) {
"use strict";function t(){var t=d3.selectAll(".bars .rect3").nodes();if(0!==t.length){var e=t.filter(function(t){var e=d3.select(t).datum();return e[1]-e[0]>.1}),r=e[Math.floor(Math.random()*e.length)];r.setAttribute("stroke","black"),r.setAttribute("stroke-width","2"),r.setAttribute("stroke-dasharray","4,2"),r.parentNode.appendChild(r),r.parentNode.parentNode.appendChild(r.parentNode);var o=d3.select(r).datum();return{category:o.category,interval:o.data.interval,proportion:"".concat((100*(o[1]-o[0])).toFixed(2),"%")}}console.log("Aucun rectangle trouvé dans la visualisation 3.")}function e(t,e){var r=t.interval.replace("[","").replace("]","").split(","),o=r[0].trim(),a=r[1].trim();return'\n    <div class="exempleViz3">\n        Exemple de Lecture : Entre <strong>'.concat(o,"</strong> et <strong>").concat(a,'</strong>, la catégorie <strong style="color : ').concat(e(t.category),'">').concat(t.category,"</strong> représentait <strong>").concat(t.proportion,"</strong> du marché.\n    </div>")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.phraseExemple=e,exports.selectRandomRectangle=t;
},{}],"qPkA":[function(require,module,exports) {
"use strict";function t(t,a){t.attr("transform","translate("+a.left+","+a.top+")")}function a(t,a){d3.select(".film-impact-svg").attr("width",t).attr("height",a)}function e(t){t.append("g").attr("class","x axis"),t.append("g").attr("class","y axis")}function s(t){t.append("text").text("%").attr("class","y axis-text").attr("transform","rotate(-90)").attr("font-size",12),t.append("text").text("Année").attr("class","x axis-text").attr("font-size",12)}function r(t,a,e){t.select(".x.axis-text").attr("transform","translate("+a/2+", "+(e+50)+")"),t.select(".y.axis-text").attr("transform","translate(-50, "+e/2+")rotate(-90)")}function i(t,a){d3.select(".x.axis").attr("transform","translate( 0, "+a+")").call(d3.axisBottom(t).tickSizeOuter(0).ticks(10).tickFormat(d3.format("d")))}function n(t){d3.select(".y.axis").call(d3.axisLeft(t).tickSizeOuter(0).ticks(5).tickFormat(d3.format("~s")))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.appendAxes=e,exports.appendGraphLabels=s,exports.drawXAxis=i,exports.drawYAxis=n,exports.margeG=t,exports.positionLabels=r,exports.setCanvasSize=a;
},{}],"ryi2":[function(require,module,exports) {
"use strict";function e(e){var l=d3.map(e,function(e){return String(e.name)}).sort();t(l),d3.select("#search-input").on("input",function(){var e=this.value.toLowerCase();""===e?t(l):t(l.filter(function(t){return t.toLowerCase().includes(e)}))})}function t(e){var t=d3.select("#movie-list");t.selectAll("*").remove(),0===e.length?t.append("li").style("color","#999").style("font-style","italic").style("padding","8px 12px").style("border-bottom","1px solid #eee").text("Aucun film trouvé"):t.selectAll("li").data(e).enter().append("li").style("padding","8px 12px").style("border-bottom","1px solid #eee").style("cursor","pointer").text(function(e){return e}).on("click",function(e,l){d3.select("#search-input").property("value",l),t.style("display","none"),console.log("Selected Movie : ",l),document.dispatchEvent(new CustomEvent("viz4movieSelected",{detail:{movie:l,timestamp:new Date}}))}),t.style("display","block").style("max-height","100px").style("overflow-y","auto"),t.selectAll("li:last-child").style("border-bottom","none")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.initFilmList=e,exports.updateFilmList=t;
},{}],"AmyJ":[function(require,module,exports) {
"use strict";function e(e,n){var r=Object.values(n).flat();return d3.scaleLinear().domain([d3.min(r,function(e){return e.year}),d3.max(r,function(e){return e.year})]).range([0,e])}function n(e,n){var r=Object.values(n).flat();return d3.scaleLinear().domain([d3.min(r,function(e){return 0}),d3.max(r,function(e){return 1e3})]).range([e,0])}function r(e,n,r){Object.values(n).flat();return d3.scaleLinear().domain([d3.min(n,function(e){return d3.min(e.data,function(e){return e.average})}),d3.max(n,function(e){return d3.max(e.data,function(e){return e.average})})]).range([e,0])}function t(e){var n=e.map(function(e){return e.category}).sort();return d3.scaleOrdinal().domain(n).range(d3.schemeSet2)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.setColorScale=t,exports.setXScale=e,exports.setYScaleBO=n,exports.setYScaleMesureSucces=r;
},{}],"HEja":[function(require,module,exports) {
"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(e)}function e(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),t.push.apply(t,n)}return t}function t(r){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?e(Object(o),!0).forEach(function(e){n(r,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function n(r,e,t){return(e=o(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function o(e){var t=i(e,"string");return"symbol"==r(t)?t:t+""}function i(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function a(r){return f(r)||s(r)||c(r)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(r,e){if(r){if("string"==typeof r)return l(r,e);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(r,e):void 0}}function s(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function f(r){if(Array.isArray(r))return l(r)}function l(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function m(r,e,t){var n=e.find(function(e){return e.name===r});return n?(Array.isArray(n[t])?n[t]:[n[t]]).map(function(r){var n=e.filter(function(e){return(Array.isArray(e[t])?e[t]:[e[t]]).some(function(e){return String(e).toLowerCase()===String(r).toLowerCase()})}),o=n.length>1?a(n).sort(function(r,e){return r.name.localeCompare(e.name)}):n;return{categorie:r,movies:o}}):[]}function y(r,e){var t={};return r.forEach(function(r){if("number"==typeof r[e]){var n=r.year;t[n]=t[n]||{sum:0,count:0,names:[]},t[n].sum+=r[e],t[n].count++,t[n].names.push(r.name)}}),Object.keys(t).map(function(r){return{year:+r,average:parseFloat((t[r].sum/t[r].count).toFixed(2)),count:t[r].count,noms:t[r].names.join("; ")}}).sort(function(r,e){return r.year-e.year})}function p(r,e,t,n){var o=[];return t.forEach(function(t){m(r,e,t).forEach(function(r){var e;y(r.movies,"mesureDeSucces").length>n&&o.push({category:"".concat((e=t,e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())," : ").concat(r.categorie),data:y(r.movies,"mesureDeSucces")})})}),o}function b(r,e,n){var o=e.filter(function(r){var e=r[n];return null!=e&&!isNaN(e)&&e>0}),i=o.find(function(e){return e.name===r});if(!i)return[];var a=i[n];console.log("Ref : ",a);var u=i.year;return o.map(function(r){return t(t({},r),{},{mesureDeSucces:r[n]/a*100})}).filter(function(e){return e.name===r||e.year!==u})}function v(r){return r.map(function(r){var e,n,o,i,a=null!==(e=null===(n=r.goldenGlobesData)||void 0===n?void 0:n.goldenGlobesNominations)&&void 0!==e?e:0,u=null!==(o=null===(i=r.oscarsData)||void 0===i?void 0:i.oscarNominations)&&void 0!==o?o:0,c=("number"==typeof a?a:0)+("number"==typeof u?u:0);return t(t({},r),{},{nominations:{goldenGlobes:a,oscars:u,total:c},numNominations:c})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.addNumberOfNominations=v,exports.generateDataToDisplay=p,exports.getMoviesBySameField=m,exports.indexData=b;
},{}],"i48T":[function(require,module,exports) {
"use strict";function t(t,r,a,n,o){var l=d3.select(".courbes");console.log("je vais dessiner ",t),l.selectAll(".ensemble-points").remove(),l.selectAll(".data-line").remove(),l.selectAll(".legend-item").remove(),l.selectAll(".category-group").remove();var s=l.selectAll(".category-group").data(t).enter().append("g").attr("class",function(t){return"category-group ".concat(t.category.replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").toLowerCase())}),c=d3.line().x(function(t){return r(t.year)}).y(function(t){return a(t.average)});s.append("path").attr("class","data-line").attr("d",function(t){return c(t.data)}).attr("fill","none").attr("stroke",function(t){return n(t.category)}).attr("stroke-width",4).on("mouseover",function(t,e){var r=d3.select(this.parentNode);d3.selectAll(".category-group").each(function(){this!==r.node()&&(0!=parseFloat(d3.select(this).style("opacity"))&&d3.select(this).style("opacity",.35))}),r.style("opacity",1)}).on("mouseout",function(t,e){d3.selectAll(".category-group, .ensemble-points").each(function(){0!=parseFloat(d3.select(this).style("opacity"))&&d3.select(this).style("opacity",1)})}),s.append("g").attr("class",function(t){return"ensemble-points"}).attr("fill",function(t){return n(t.category)}).selectAll(".data-point").data(function(t){return t.data}).enter().append("circle").attr("class","data-point").attr("cx",function(t){return r(t.year)}).attr("cy",function(t){return a(t.average)}).attr("r",5).attr("stroke","white"),l.append("g").attr("class","legend").attr("transform","translate(".concat(o,", 20)")).selectAll(".legend-item").data(t).enter().append("g").attr("class","legend-item").attr("transform",function(t,e){return"translate(0, ".concat(25*e,")")}).append("text").text(function(t){return t.category}).attr("x",20).attr("y",9).style("fill",function(t){return n(t.category)}).style("font-size","15px").style("font-weight","bold").style("cursor","pointer").on("click",e)}function e(t,e){var r=e.category.replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").toLowerCase(),a=d3.selectAll(".".concat(r)).style("opacity");d3.selectAll(".".concat(r)).transition().style("opacity",1==a?0:1).attr("pointer-events",1==a?"none":"visible"),d3.select(t.currentTarget).transition().style("font-weight",0==a?"bold":"normal")}function r(t,e,r,a,n){var o=d3.select(".courbes");o.selectAll(".ref-marker, .ref-line").remove();var l=e.find(function(e){return e.name===t});if(l){var s=r(l.year),c=a(100);o.append("line").attr("class","ref-line").attr("x1",0).attr("x2",s).attr("y1",c).attr("y2",c).attr("stroke","black").attr("stroke-width",2).attr("stroke-dasharray","3,3").attr("opacity",.7),o.append("line").attr("class","ref-line").attr("x1",s).attr("x2",s).attr("y1",c).attr("y2",n).attr("stroke","black").attr("stroke-width",2).attr("stroke-dasharray","3,3").attr("opacity",.7),o.append("circle").datum(l).attr("class","ref-marker").attr("cx",s).attr("cy",c).attr("r",5).attr("fill","white").attr("stroke","black").attr("stroke-width",2)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.drawCircles=t,exports.drawRef=r;
},{}],"HcOd":[function(require,module,exports) {
"use strict";function e(e){d3.select(".check-group").selectAll(".check-option").data(e).enter().append("div").attr("class","check-option").html(function(e){return'\n        <input type="checkbox" id="check-'.concat(e,'" name="category" value="').concat(e,'" checked>\n        <label for="check-').concat(e,'">').concat(e.charAt(0).toUpperCase()+e.slice(1),"</label>\n    ")}).select("input").on("change",function(e,t){var c=e.target.checked;console.log("Checked ? ",c);var o=d3.selectAll(".legend-item").filter(function(){return d3.select(this).select("text").text().toLowerCase().includes(t)});console.log(o),o.each(function(){var e=d3.select(this).select("text").style("font-weight");console.log("weight ? ",e),("normal"==e&&c||"bold"==e&&!c)&&d3.select(this).select("text").dispatch("click")})})}function t(){d3.selectAll(".check-option input[type='checkbox']").property("checked",!0)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.checkAll=t,exports.generateCheckBoxes=e;
},{}],"dyUJ":[function(require,module,exports) {
"use strict";function n(n,t){console.log(n);var e='<div class="tooltip-value" style="\n      z-index: 6;\n      background: linear-gradient(90deg,rgb(145, 145, 145) 0%,rgba(166, 166, 166, 0.6) 100%);\n      padding: 12px;\n      border-radius: 6px;\n      color: white;\n      backdrop-filter: blur(5px);\n      box-shadow: 1px -1px 10px 0px rgba(0, 0, 0, 0.3);\n      margin-bottom: 15px;\n      "\n  >  ';return void 0!==n.name&&(e+='<div style="margin: 4px 0;">\n              <strong>📋 Titre:</strong> '.concat(n.name,"\n            </div>")),e+='<div style="margin: 4px 0; filter: brightness(1.5);">\n            <strong>📅 Année:</strong> '.concat(n.year,"\n          </div>"),void 0!==n.count&&(e+='<div style="margin: 4px 0;">\n              <strong>🎬 Nombre de films:</strong> '.concat(n.count,"\n            </div>")),void 0!==n.average&&(e+='<div style="margin: 4px 0;">\n              <strong>⭐ Moyenne:</strong> '.concat(n.average.toFixed(2),"%\n            </div>")),void 0!==n.noms&&(e+='<div style="margin: 4px 0;">\n              <strong>📋 Films:</strong> '.concat(n.noms,"\n            </div>")),e+="</div>"}function t(n,t){n.selectAll(".data-point, .ref-marker").on("mouseover",function(n,e){d3.select(this).style("cursor","pointer").attr("r",6),t.show(e,this)}).on("mouseout",function(n,e){d3.select(this).attr("r",5),t.hide(e,this)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getContents=n,exports.setCircleHoverHandler=t;
},{}],"Focm":[function(require,module,exports) {
"use strict";var e=require("./scripts/process_golden_globes"),t=require("./scripts/process_oscars"),r=require("./scripts/process_additional_movie_data"),a=require("./scripts/process_imdb"),i=require("./scripts/preprocess_data"),n=require("./scripts/helper.js"),s=_(require("./viz1-scripts/viz1-helper.js")),o=_(require("./viz1-scripts/viz1-legend.js")),c=_(require("./viz1-scripts/viz1-scales.js")),l=_(require("./viz1-scripts/viz1-tooltip.js")),u=_(require("./viz1-scripts/viz1-viz.js")),d=x(require("d3-tip")),v=_(require("./viz3-scripts/viz3-preprocess.js")),p=_(require("./viz3-scripts/viz3-helper.js")),f=_(require("./viz3-scripts/viz3-scales.js")),g=_(require("./viz3-scripts/viz3-legend.js")),h=_(require("./viz3-scripts/viz3-tooltip.js")),m=_(require("./viz3-scripts/viz3-example.js")),b=_(require("./viz4-scripts/viz4-helper.js")),y=_(require("./viz4-scripts/viz4-search.js")),w=_(require("./viz4-scripts/viz4-scales.js")),z=_(require("./viz4-scripts/viz4-process.js")),j=_(require("./viz4-scripts/viz4-viz.js")),O=_(require("./viz4-scripts/viz4-checkboxes.js")),S=_(require("./viz4-scripts/viz4-tooltip.js"));function x(e){return e&&e.__esModule?e:{default:e}}function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(L=function(e){return e?r:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=L(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&{}.hasOwnProperty.call(e,n)){var s=i?Object.getOwnPropertyDescriptor(e,n):null;s&&(s.get||s.set)?Object.defineProperty(a,n,s):a[n]=e[n]}return a.default=e,r&&r.set(e,a),a}function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach(function(t){C(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function C(e,t,r){return(t=I(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I(e){var t=M(e,"string");return"symbol"==q(t)?t:t+""}function M(e,t){if("object"!=q(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=q(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function E(e,t){return G(e)||B(e,t)||T(e,t)||P()}function P(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function T(e,t){if(e){if("string"==typeof e)return k(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}function B(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,i,n,s,o=[],c=!0,l=!1;try{if(n=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=n.call(r)).done)&&(o.push(a.value),o.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(l)throw i}}return o}}function G(e){if(Array.isArray(e))return e}document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".choose_metric"),t=e.offsetTop+650;window.addEventListener("scroll",function(){window.scrollY>t?e.classList.add("fixed"):e.classList.remove("fixed")})}),function(x){Promise.all([x.csv("./golden_globe_awards.csv",x.autoType),x.csv("./IMDB_Top_250_Movies.csv",x.autoType),x.csv("./movie_dataset.csv",x.autoType),x.csv("./the_oscar_award.csv",x.autoType)]).then(function(L){var _=E(L,4),q=_[0],D=_[1],C=_[2],I=_[3],M=(D=(0,a.processMovieData)(D)).reduce(function(e,t){return t.year>e?t.year:e},Number.MIN_VALUE);D.forEach(function(e){e.box_office&&"string"!=typeof e.box_office&&(e.box_office=(0,n.adjustForInflation)(e.box_office,e.year,M)),e.budget&&"string"!=typeof e.budget&&(e.budget=(0,n.adjustForInflation)(e.budget,e.year,M))});var P=D.reduce(function(e,t){if(!t.name)return e;var r=String(t.name).toLowerCase().replace(/[^a-z0-9\s]/g,"");return e.includes(r)||""===r.trim()||e.push(r),e},[]),T=(0,t.getOscarsMovieData)(I,P);D=(0,t.addOscarsData)(D,T);var k=(0,e.getGoldenGlobesMovieData)(q,P);D=(0,e.addGoldenGlobesData)(D,k);var B=(0,r.getAdditionalMovieData)(C,P);D=(0,r.addAdditionalMovieData)(D,B),(0,n.convertMovieNamesToString)(D),D=(0,i.calculateMovieProfits)(D);(0,i.getFilmContributorsData)(D),(0,i.getGenreDataIntervals)(D),(0,i.getMoviesByGenre)(D),(0,i.getTopCollaborations)(D),(0,i.getCertificateData)(D),(0,i.getDataBySeason)(D),(0,i.getMovieLengthData)(D),(0,i.getTaglineWordsData)(D),(0,i.getTaglineLengthData)(D);var G,Y,H={top:75,right:260,bottom:100,left:80};Y={width:(G={width:1e3,height:600}).width-H.right-H.left,height:G.height-H.bottom-H.top},s.setCanvasSize(G.width,G.height);var N=x.select(".success-scatter-svg"),R=s.generateG(N,H,"graph-g-viz1"),X=(0,d.default)().attr("class","d3-tip").html(function(e){return l.getContents(e)});R.call(X),s.appendAxes(R),s.appendGraphLabels(R),s.placeTitle(R,Y.width),u.positionLabels(R,Y.width,Y.height);var F=c.setRadiusScale(D),W=c.setColorScale(D),U=c.setXScale(Y.width,D),V=c.setYScale(Y.height,D);s.drawXAxis(R,U,Y.height),s.drawYAxis(R,V);var $=Object.values(D).flat().map(function(e){return e.year}),J=x.min($),K=x.max($);o.drawLegend(W,R,Y.width,Y.height,J,K),function(e,t,r,a,i,n,s){u.drawCircles(e,t,a,i),u.moveCircles(e,n,s,r)}(R,D,0,F,W,U,V),u.setCircleHoverHandler(R,X);function Q(e,t,r,a){var i=x.select(".tendance-timeline-svg"),n=x.select(".legend-tendances");i.selectAll(".axes").remove(),i.selectAll(".bars").remove(),n.selectAll("*").remove();var s=v.getDataPerTimeInterval(D,r,e),o=v.getMarketPerTimeInterval(s,t),c=v.reduceNumberOfLine(o,a),l=Object.keys(c.intervals),u=v.stackData(c),b=1e3,y=600,w={top:40,right:40,bottom:60,left:100},z={width:b-w.right-w.left,height:y-w.bottom-w.top};p.setCanvasSize(b,y);var j=f.setXScale(z.width,l),O=f.setYScale(z.height),S=i.append("g").attr("class","axes").attr("transform","translate(".concat(w.left,",").concat(w.top,")"));p.appendAxes(S),p.drawXAxis(j,z.height,l),p.drawYAxis(O),p.appendGraphLabels(S),p.positionLabels(S,z.width,z.height);var L=x.scaleOrdinal().domain(c.presentCategory).range(["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf","#393b79","#637939","#8c6d31","#843c39","#7b4173","#aec7e8","#ffbb78","#98df8a","#ff9896","#c5b0d5","#c49c94","#f7b6d2","#c7c7c7","#dbdb8d","#9edae5"]);g.createLegend(c,n,L);var _=p.generateG(i,w,"graph-g-viz3"),q=(0,d.default)().attr("class","d3-tip").html(function(e){return h.getContents(e,L)});_.call(q);var C=x.stack().keys(c.presentCategory)(u);i.append("g").attr("class","bars").attr("transform","translate(".concat(w.left,",").concat(w.top,")")).selectAll("g.layer").data(C).enter().append("g").attr("class","layer").attr("fill",function(e){return L(e.key)}).selectAll("rect").data(function(e){return e.map(function(t){return A(A({},t),{},{category:e.key})})}).enter().append("rect").attr("class","rect3").attr("x",function(e){return j(e.data.interval)}).attr("y",function(e){return O(e[1])}).attr("height",function(e){return O(e[0])-O(e[1])}).attr("width",j.bandwidth()),h.setRectHoverHandler(i,q);var I=m.selectRandomRectangle(),M=m.phraseExemple(I,L);document.querySelector(".exampleViz3").innerHTML=M}Q("rating","genre",10,4);var Z=document.getElementById("metric-select");Z.addEventListener("change",function(){Q(Z.value,ee.value,parseInt(te.value,10),parseInt(ae.value,10))});var ee=document.getElementById("categorie-select");ee.addEventListener("change",function(){Q(Z.value,ee.value,parseInt(te.value,10),parseInt(ae.value,10))});var te=document.getElementById("slider-movieLenght"),re=document.getElementById("slider-movieLenght-value");te.addEventListener("input",function(){re.textContent=te.value,Q(Z.value,ee.value,parseInt(te.value,10),parseInt(ae.value,10))});var ae=document.getElementById("slider-maxLine"),ie=document.getElementById("slider-maxLine-value");ae.addEventListener("input",function(){ie.textContent=ae.value,Q(Z.value,ee.value,parseInt(te.value,10),parseInt(ae.value,10))});var ne,se,oe,ce={top:75,right:200,bottom:100,left:80};se={width:(ne={width:1e3,height:600}).width-ce.right-ce.left,height:ne.height-ce.bottom-ce.top},b.setCanvasSize(ne.width,ne.height);var le,ue,de,ve=["directors","genre","casts","writers"],pe=z.addNumberOfNominations(D);O.generateCheckBoxes(ve);var fe=x.select(".film-impact-svg");function ge(e,t){console.log("Changement"),O.checkAll();var r=z.indexData(oe,e,t),a=z.generateDataToDisplay(oe,r,ve,2);console.log("Test refresh : ",a);var i=w.setYScaleMesureSucces(se.height,a,"average");b.drawYAxis(i),de=w.setColorScale(a),console.log(de),j.drawCircles(a,le,i,de,se.width),j.drawRef(oe,r,le,i,se.height);var n=(0,d.default)().attr("class","viz4-tip").html(function(e){return S.getContents(e,de)});fe.select(".courbes").call(n),S.setCircleHoverHandler(fe.select(".courbes"),n)}!function(e){le=w.setXScale(se.width,e),ue=w.setYScaleBO(se.height,e);var t=fe.append("g").attr("class","axes").attr("transform","translate("+ce.left+", "+ce.top+")");fe.append("g").attr("class","courbes").attr("transform","translate("+ce.left+", "+ce.top+")");b.appendAxes(t),b.appendGraphLabels(t),b.positionLabels(t,se.width,se.height),b.drawXAxis(le,se.height),b.drawYAxis(ue),y.initFilmList(e)}(pe),Z.addEventListener("change",function(){ge(pe,Z.value)}),document.addEventListener("viz4movieSelected",function(e){console.log("Received movie:",e.detail.movie),oe=e.detail.movie;var t=Z.value;ge(pe,t)})})}(d3);
},{"./scripts/process_golden_globes":"pFcC","./scripts/process_oscars":"uSNw","./scripts/process_additional_movie_data":"SRF0","./scripts/process_imdb":"xfqM","./scripts/preprocess_data":"StQl","./scripts/helper.js":"E6ph","./viz1-scripts/viz1-helper.js":"MRdi","./viz1-scripts/viz1-legend.js":"nYuU","./viz1-scripts/viz1-scales.js":"NWAC","./viz1-scripts/viz1-tooltip.js":"b669","./viz1-scripts/viz1-viz.js":"xHYR","d3-tip":"L7nD","./viz3-scripts/viz3-preprocess.js":"sFKV","./viz3-scripts/viz3-helper.js":"QkGG","./viz3-scripts/viz3-scales.js":"HeJo","./viz3-scripts/viz3-legend.js":"rYuS","./viz3-scripts/viz3-tooltip.js":"cHQO","./viz3-scripts/viz3-example.js":"Zokk","./viz4-scripts/viz4-helper.js":"qPkA","./viz4-scripts/viz4-search.js":"ryi2","./viz4-scripts/viz4-scales.js":"AmyJ","./viz4-scripts/viz4-process.js":"HEja","./viz4-scripts/viz4-viz.js":"i48T","./viz4-scripts/viz4-checkboxes.js":"HcOd","./viz4-scripts/viz4-tooltip.js":"dyUJ"}]},{},["Focm"], null)
//# sourceMappingURL=/src.f4f5bb1d.js.map