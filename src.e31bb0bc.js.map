{"version":3,"sources":["scripts/helper.js","scripts/process_golden_globes.js","scripts/process_oscars.js","scripts/process_additional_movie_data.js","scripts/process_imdb.js","scripts/preprocess_data.js","viz1-scripts/viz1-helper.js","viz1-scripts/viz1-legend.js","viz1-scripts/viz1-scales.js","viz1-scripts/viz1-tooltip.js","viz1-scripts/viz1-viz.js","../node_modules/d3-collection/src/map.js","../node_modules/d3-collection/src/nest.js","../node_modules/d3-collection/src/set.js","../node_modules/d3-collection/src/keys.js","../node_modules/d3-collection/src/values.js","../node_modules/d3-collection/src/entries.js","../node_modules/d3-collection/src/index.js","../node_modules/d3-tip/node_modules/d3-selection/src/namespaces.js","../node_modules/d3-tip/node_modules/d3-selection/src/namespace.js","../node_modules/d3-tip/node_modules/d3-selection/src/creator.js","../node_modules/d3-tip/node_modules/d3-selection/src/selector.js","../node_modules/d3-tip/node_modules/d3-selection/src/selection/select.js","../node_modules/d3-tip/node_modules/d3-selection/src/selectorAll.js","../node_modules/d3-tip/node_modules/d3-selection/src/selection/selectAll.js","../node_modules/d3-tip/node_modules/d3-selection/src/matcher.js","../node_modules/d3-tip/node_modules/d3-selection/src/selection/filter.js","../node_modules/d3-tip/node_modules/d3-selection/src/selection/sparse.js","../node_modules/d3-tip/node_modules/d3-selection/src/selection/enter.js","../node_modules/d3-tip/node_modules/d3-selection/src/constant.js","../node_modules/d3-tip/node_modules/d3-selection/src/selection/data.js","../node_modules/d3-tip/node_modules/d3-selection/src/selection/exit.js","../node_modules/d3-tip/node_modules/d3-selection/src/selection/join.js","../node_modules/d3-tip/node_modules/d3-selection/src/selection/merge.js","../node_modules/d3-tip/node_modules/d3-selection/src/selection/order.js","../node_modules/d3-tip/node_modules/d3-selection/src/selection/sort.js","../node_modules/d3-tip/node_modules/d3-selection/src/selection/call.js","../node_modules/d3-tip/node_modules/d3-selection/src/selection/nodes.js","../node_modules/d3-tip/node_modules/d3-selection/src/selection/node.js","../node_modules/d3-tip/node_modules/d3-selection/src/selection/size.js","../node_modules/d3-tip/node_modules/d3-selection/src/selection/empty.js","../node_modules/d3-tip/node_modules/d3-selection/src/selection/each.js","../node_modules/d3-tip/node_modules/d3-selection/src/selection/attr.js","../node_modules/d3-tip/node_modules/d3-selection/src/window.js","../node_modules/d3-tip/node_modules/d3-selection/src/selection/style.js","../node_modules/d3-tip/node_modules/d3-selection/src/selection/property.js","../node_modules/d3-tip/node_modules/d3-selection/src/selection/classed.js","../node_modules/d3-tip/node_modules/d3-selection/src/selection/text.js","../node_modules/d3-tip/node_modules/d3-selection/src/selection/html.js","../node_modules/d3-tip/node_modules/d3-selection/src/selection/raise.js","../node_modules/d3-tip/node_modules/d3-selection/src/selection/lower.js","../node_modules/d3-tip/node_modules/d3-selection/src/selection/append.js","../node_modules/d3-tip/node_modules/d3-selection/src/selection/insert.js","../node_modules/d3-tip/node_modules/d3-selection/src/selection/remove.js","../node_modules/d3-tip/node_modules/d3-selection/src/selection/clone.js","../node_modules/d3-tip/node_modules/d3-selection/src/selection/datum.js","../node_modules/d3-tip/node_modules/d3-selection/src/selection/on.js","../node_modules/d3-tip/node_modules/d3-selection/src/selection/dispatch.js","../node_modules/d3-tip/node_modules/d3-selection/src/selection/index.js","../node_modules/d3-tip/node_modules/d3-selection/src/select.js","../node_modules/d3-tip/node_modules/d3-selection/src/create.js","../node_modules/d3-tip/node_modules/d3-selection/src/local.js","../node_modules/d3-tip/node_modules/d3-selection/src/sourceEvent.js","../node_modules/d3-tip/node_modules/d3-selection/src/point.js","../node_modules/d3-tip/node_modules/d3-selection/src/mouse.js","../node_modules/d3-tip/node_modules/d3-selection/src/selectAll.js","../node_modules/d3-tip/node_modules/d3-selection/src/touch.js","../node_modules/d3-tip/node_modules/d3-selection/src/touches.js","../node_modules/d3-tip/node_modules/d3-selection/src/index.js","../node_modules/d3-tip/index.js","viz3-scripts/viz3-preprocess.js","viz3-scripts/viz3-helper.js","viz3-scripts/viz3-scales.js","viz3-scripts/viz3-legend.js","viz3-scripts/viz3-tooltip.js","viz3-scripts/viz3-example.js","viz4-scripts/viz4-helper.js","viz4-scripts/viz4-search.js","viz4-scripts/viz4-scales.js","viz4-scripts/viz4-process.js","viz4-scripts/viz4-viz.js","viz4-scripts/viz4-checkboxes.js","viz4-scripts/viz4-tooltip.js","index.js","../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["cleanMovieName","name","nameStr","String","articlePattern","articleMatch","match","concat","toLowerCase","replace","adjustForInflation","moneterayAmount","movieYear","topYear","nYears","inflationRate","i","Number","toFixed","parseRuntime","runtimeString","totalMins","hoursMatch","minutesMatch","parseInt","stopWords","exports","Set","convertMovieNamesToString","movies","forEach","movie","_helper","require","_typeof","o","Symbol","iterator","constructor","prototype","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","_toPrimitive","toPrimitive","call","TypeError","getGoldenGlobesMovieData","goldenGlobes","movieNames","reduce","acc","item","cleanName","film","includes","isWinner","win","nominations","year","year_film","nominee","winner","nbNominations","nbWins","addGoldenGlobesData","imdb","goldenGlobesMovies","map","enhancedMovie","goldenGlobesData","goldenGlobesNominees","goldenGlobesNominations","goldenGlobesWins","getOscarsMovieData","oscars","addOscarsData","oscarMovies","oscarsData","oscarNominees","oscarNominations","oscarWins","getAdditionalMovieData","original_title","companies","production_companies","pCompaniesData","JSON","parse","Array","isArray","pCompany","Boolean","releaseDate","release_date","Date","toISOString","split","error","keywords","popularity","productionCompanies","budget","revenue","addAdditionalMovieData","additionalData","boxOffice","processMovieData","data","stringToArray","fieldName","trim","processedMovie","fieldsToProcess","field","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","a","_arrayLikeToArray","toString","slice","from","test","n","l","u","f","next","done","return","MetricsHelper","standardMetrics","property","movieProperty","createMetricsObject","metricsObject","metric","charAt","toUpperCase","addMovieMetrics","currObject","totalProp","countProp","isNaN","calculateAverages","avgProp","cleanupMetricsProperties","findMostPopularGenre","genres","genreCounts","genre","maxCount","mostPopularGenre","entries","_ref","_ref2","count","getFilmContributorsData","contributors","casts","directors","writers","contributorCategories","createContributorObject","nMovies","movieInfo","_ref3","_ref4","categoryName","person","category","getGenreDataIntervals","decades","createYearIntervals","decade","mostCommonGenre","allGenres","_MetricsHelper$findMo","intervalSize","undefined","minYear","min","MAX_VALUE","maxYear","max","MIN_VALUE","firstDecade","Math","floor","lastDecade","intervals","decadeYears","startYear","endYear","label","interval","find","getTopCollaborations","limit","allCollabs","countCollaborations","topActorDirectorCollabs","actorDirectorCollabs","topActorActorCollabs","actorActorCollabs","createCollabObject","isSameType","participant1","participant2","addMovieToCollab","collab","castMembers","actor","director","key","actor1","j","actor2","actorPair","sort","finalizeCollabs","collabs","values","_MetricsHelper$findMo2","b","getCertificateData","createCertificateObject","certificateData","certificateList","certificate","_MetricsHelper$findMo3","getDataBySeason","createSeasonObject","beginDate","endDate","seasons","spring","summer","fall","winter","getSeason","dateString","_dateString$split$map","num","_dateString$split$map2","month","day","monthDay","padStart","season","_MetricsHelper$findMo4","getMovieLengthData","minRuntime","maxRuntime","runtime","run_time","firstInterval","lastInterval","minutes","startMinutes","endMinutes","movieRuntime","_MetricsHelper$findMo5","getTaglineWordsData","minWordLength","minOccurrences","createWordObject","wordCounts","tagline","words","word","has","significantWords","wordData","movieWords","_MetricsHelper$findMo6","result","_ref5","_ref6","getTaglineLengthData","lengthMap","createLengthObject","wordCount","_ref7","_ref8","avgWordCount","calculateMovieProfits","box_office","profit","getMoviesByGenre","genreData","genreName","generateG","svgSelector","margin","id","g","append","attr","left","top","setCanvasSize","width","height","d3","select","appendAxes","appendGraphLabels","text","drawXAxis","xScale","axisBottom","tickSizeOuter","tickArguments","drawYAxis","yScale","axisLeft","tickValues","tickFormat","format","placeTitle","drawButton","button","on","drawLegend","colorScale","defs","gradient","selectAll","ticks","enter","d","legendBar","style","bubbleLegend","circleSizes","spacing","startY","textLines","setRadiusScale","flatData","flat","minNominations","maxNominations","scaleLinear","domain","range","setColorScale","years","scaleSequential","interpolator","interpolateViridis","setXScale","minBO","maxBO","scaleLog","setYScale","rank","minRank","maxRank","getContents","boxOfficeFormatted","toLocaleString","totalNominations","positionLabels","drawCircles","rScale","cleanedData","moveCircles","transitionDuration","transition","duration","setCircleHoverHandler","tip","show","hide","setTitleText","prefix","Map","get","set","remove","clear","size","empty","each","object","_default","default","_map","_interopRequireDefault","__esModule","sortKeys","sortValues","rollup","nest","array","depth","createResult","setResult","keyValue","valuesByKey","sortKey","v","k","createObject","setObject","createMap","setMap","order","_interopRequireWildcard","_getRequireWildcardCache","WeakMap","__proto__","hasOwnProperty","proto","add","_nest","_set","_keys","_values","_entries","xhtml","svg","xlink","xml","xmlns","_namespaces","indexOf","namespaces","space","local","_namespace","creatorInherit","document","ownerDocument","uri","namespaceURI","documentElement","createElement","createElementNS","creatorFixed","fullname","namespace","none","selector","querySelector","_index","_selector","groups","_groups","m","subgroups","group","subgroup","node","subnode","__data__","Selection","_parents","querySelectorAll","_selectorAll","selectorAll","parents","matches","_matcher","matcher","update","_sparse","_enter","sparse","EnterNode","parent","datum","_next","_parent","appendChild","child","insertBefore","x","_constant","keyPrefix","bindIndex","exit","groupLength","dataLength","bindKey","nodeByKeyValue","keyValues","bind","constant","enterGroup","updateGroup","exitGroup","i0","i1","previous","_exit","onenter","onupdate","onexit","merge","selection","groups0","groups1","m0","m1","merges","group0","group1","compareDocumentPosition","parentNode","compare","ascending","compareNode","sortgroups","sortgroup","NaN","callback","nodes","attrRemove","removeAttribute","attrRemoveNS","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","getAttributeNS","getAttribute","defaultView","_window","styleRemove","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","string","classList","ClassList","_node","_names","join","splice","contains","classedAdd","names","list","classedRemove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","lower","previousSibling","firstChild","_creator","create","creator","constantNull","before","removeChild","selection_cloneShallow","clone","cloneNode","selection_cloneDeep","deep","filterEvents","event","element","mouseenter","mouseleave","filterContextListener","listener","index","contextListener","related","relatedTarget","event1","event0","parseTypenames","typenames","type","onRemove","typename","__on","removeEventListener","capture","onAdd","wrap","addEventListener","customEvent","that","args","sourceEvent","dispatchEvent","params","window","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","_select","_selectAll","_filter","_data","_join","_merge","_order","_sort","_call","_nodes","_size","_empty","_each","_attr","_style","_property","_classed","_text","_html","_raise","_lower","_append","_insert","_remove","_clone","_datum","_on","_dispatch","root","selection_select","selection_selectAll","selection_filter","selection_data","selection_enter","selection_exit","selection_join","selection_merge","selection_order","selection_sort","selection_call","selection_nodes","selection_node","selection_size","selection_empty","selection_each","selection_attr","selection_style","selection_property","classed","selection_classed","selection_text","html","selection_html","selection_raise","selection_lower","selection_append","insert","selection_insert","selection_remove","selection_clone","selection_datum","selection_on","dispatch","selection_dispatch","nextId","Local","_","current","source","ownerSVGElement","createSVGPoint","point","clientX","y","clientY","matrixTransform","getScreenCTM","inverse","rect","getBoundingClientRect","clientLeft","clientTop","_sourceEvent","_point","changedTouches","touches","identifier","touch","points","_create","_local","_mouse","_touch","_touches","_d3Collection","_d3Selection","direction","d3TipDirection","offset","d3TipOffset","d3TipHTML","rootElement","body","initNode","target","vis","getSVGNode","SVGElement","pop","content","poffset","dir","nodel","getNodeEl","directions","coords","scrollTop","scrollLeft","directionCallbacks","functor","destroy","directionNorth","s","directionSouth","directionEast","w","directionWest","nw","directionNorthWest","ne","directionNorthEast","sw","directionSouthWest","se","directionSouthEast","bbox","getScreenBBox","offsetHeight","offsetWidth","div","svgNode","tagName","targetShape","targetel","matrix","tbbox","getBBox","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","_createForOfIteratorHelper","_n","F","getMovieLengthInterval","movieLength","interval_size","getDataPerTimeInterval","intervalsLenght","selectedMetric","res","tmp","_iterator","_step","_loop2","totalMetric","metricPerGenre","metricsPerMovieLenght","metricsPerCertificate","yearElem","ggNomination","oscarNomination","lengthInterval","err","_loop","res_elem","getMarketPerTimeInterval","intervalData","selectedFilter","_loop3","intervalElem","metricForfilter","minG","sum_genre_metric","val","minML","sum_lenght_metric","minC","sum_certificate_metric","reduceNumberOfLine","marketData","maxLines","_loop4","sortedGenres","topGenres","otherGenres","stackData","marketDataSmall","row","presentCategory","cat","tickStep","ceil","filteredTicks","scaleBand","padding","createLegend","viz3MarketPerIntervalSmall","legendDiv","setRectHoverHandler","selectRandomRectangle","rectangles","console","log","filteredRectangles","rectData","randomIndex","random","randomRect","proportion","phraseExemple","dataExample","partsOfInterval","ExempleLecture","margeG","initFilmList","filmArray","filmData","updateFilmList","searchTerm","filteredFilms","films","timestamp","setYScaleBO","setYScaleMesureSucces","average","categories","scaleOrdinal","schemeSet2","getMoviesBySameField","movieName","targetMovie","targetValues","moviesByFieldValue","targetValue","matchingMovies","movieValues","some","sortedMovies","localeCompare","categorie","averageByYear","succesMesure","yearGroups","sum","parseFloat","noms","generateDataToDisplay","fields","minlength","dataToDisplay","capitalize","str","groupedResults","averageData","indexData","referenceName","originalData","successMesure","validData","referenceValue","targetYear","mesureDeSucces","addNumberOfNominations","dataSource","_movie$goldenGlobesDa","_movie$goldenGlobesDa2","_movie$oscarsData$osc","_movie$oscarsData","total","numNominations","courbesElement","categoryGroups","line","parentGroup","currentOpacity","legend","hideShowCategory","categoryClass","currentTarget","drawRef","title","xPos","yPos","generateCheckBoxes","checkGroup","options","isChecked","checked","legendes","legendesFiltrees","fontweight","checkAll","_process_golden_globes","_process_oscars","_process_additional_movie_data","_process_imdb","_preprocess_data","viz1Helper","viz1Legend","viz1Scales","viz1Tooltip","viz1Viz","_d3Tip","viz3Process","viz3Helper","viz3Scales","viz3Legend","viz3Tooltip","viz3Example","viz4Helper","viz4Search","viz4Scales","viz4Process","viz4Viz","viz4CheckBoxes","viz4Tooltip","chooseMetric","offsetTop","scrollY","Promise","all","csv","autoType","then","additionalMovieData","contributorData","genreIntervalData","collaborationsData","seasonalData","movieLengthData","taglineWordData","taglineLengthData","margin1","right","bottom","svgSize1","graphSize1","setSizing1","svgViz1","g1","d3Tip","radiusScale1","colorScale1","xScale1","yScale1","minDate","maxDate","build1","rScale1","metricViz3","selectedFilterViz3","intervalLenght","numElemPerStack","buildViz3","viz3","viz3Data","viz3MarketPerInterval","intervalsDates","stackedData","svgSizeViz3","marginViz3","graphSizeViz3","viz3xScale","viz3yScaleBoxOffice","axesViz3","customColors","g3","tip3","series","stack","barsGroup","bandwidth","randomRectData","phraseEx","exampleContainerViz3","selectorMetric","getElementById","selectorCategory","sliderMovieLenght","sliderMaxLine","sliderMovieLenghtValue","sliderMaxLineValue","margin4","svgSize4","graphSize4","setSizing","ListOfFields","viz4FixedImdb","viz4xScale","viz4yScaleBoxOffice","viz4ColorScale","viz4","buildViz4","viz4data","axes","courbes","refreshViz4","viz4mesureSucces","dataToShow","viz4yScaleFlexible","tip4","viz4MesureSucces","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","hmrApply","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","message","overlay","createErrorOverlay","stackTrace","innerText","getParents","modules","dep","Function","deps","cached","cache","cb"],"mappings":"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","file":"src.e31bb0bc.js","sourceRoot":"..\\src","sourcesContent":["\r\n// /**\r\n//  * Generates the SVG element g which will contain the data visualisation.\r\n//  *\r\n//  * @param {object} margin The desired margins around the graph\r\n//  * @returns {*} The d3 Selection for the created g element\r\n//  */\r\n// export function generateG (margin) {\r\n//   return d3.select('.graph')\r\n//     .select('svg')\r\n//     .append('g')\r\n//     .attr('id', 'graph-g')\r\n//     .attr('transform',\r\n//       'translate(' + margin.left + ',' + margin.top + ')')\r\n// }\r\n\r\n// /**\r\n//  * Sets the size of the SVG canvas containing the graph.\r\n//  *\r\n//  * @param {number} width The desired width\r\n//  * @param {number} height The desired height\r\n//  */\r\n// export function setCanvasSize (width, height) {\r\n//   d3.select('#heatmap').select('svg')\r\n//     .attr('width', width)\r\n//     .attr('height', height)\r\n// }\r\n\r\n// /**\r\n//  * Appends an SVG g element which will contain the axes.\r\n//  *\r\n//  * @param {*} g The d3 Selection of the graph's g SVG element\r\n//  */\r\n// export function appendAxes (g) {\r\n//   g.append('g')\r\n//     .attr('class', 'x axis')\r\n\r\n//   g.append('g')\r\n//     .attr('class', 'y axis')\r\n// }\r\n\r\n/**\r\n * Cleans the name to avoid mismatching during the comparison of movie names\r\n *\r\n * @param {string} name The movie name to clean\r\n * @returns {string} the cleaned movie name\r\n */\r\nexport function cleanMovieName(name) {\r\n  let nameStr = String(name)\r\n  const articlePattern = /^(.+),\\s+(The|A|An)$/i\r\n  const articleMatch = nameStr.match(articlePattern)\r\n\r\n  if (articleMatch) nameStr = `${articleMatch[2]} ${articleMatch[1]}`\r\n  return nameStr.toLowerCase().replace(/[^a-z0-9\\s]/g, '')\r\n}\r\n\r\n/**\r\n * Adjusts a monetary amount for inflation based on the year difference\r\n *\r\n * @param {number} moneterayAmount The original monetary amount to adjust\r\n * @param {number} movieYear The year of the original amount\r\n * @param {number} topYear The year to adjust the amount to\r\n * @returns {number} The inflation-adjusted amount, rounded to 2 decimal places\r\n */\r\nexport function adjustForInflation(moneterayAmount, movieYear, topYear) {\r\n  const nYears = topYear - movieYear\r\n  const inflationRate = 1 + (3.3 / 100)\r\n\r\n  for (let i = 0; i < nYears; i++) {\r\n    moneterayAmount *= inflationRate\r\n  }\r\n\r\n  return Number(moneterayAmount.toFixed(2))\r\n}\r\n\r\n/**\r\n * Parses a runtime string into total minutes\r\n *\r\n * @param {string} runtimeString A string representing the runtime in hours and/or minutes\r\n * @returns {number|null} The total runtime in minutes, or null if invalid input\r\n */\r\nexport function parseRuntime(runtimeString) {\r\n  if (!runtimeString || typeof runtimeString !== 'string') return null\r\n  let totalMins = 0\r\n\r\n  const hoursMatch = runtimeString.match(/(\\d+)h/)\r\n  const minutesMatch = runtimeString.match(/(\\d+)m/)\r\n\r\n  if (hoursMatch && hoursMatch[1]) totalMins += parseInt(hoursMatch[1], 10) * 60\r\n  if (minutesMatch && minutesMatch[1]) totalMins += parseInt(minutesMatch[1], 10)\r\n\r\n  return totalMins > 0 ? totalMins : null\r\n}\r\n\r\nexport const stopWords = new Set([\r\n  'about', 'after', 'again', 'against', 'all', 'also', 'and', 'any', 'are', 'because',\r\n  'been', 'before', 'being', 'between', 'both', 'but', 'can', 'cant', 'could', 'did', 'does',\r\n  'doing', 'dont', 'down', 'during', 'each', 'few', 'for', 'from', 'further', 'had', 'has',\r\n  'have', 'having', 'his', 'here', 'how', 'into', 'its', 'just', 'more', 'most', 'not', 'now', 'off',\r\n  'once', 'only', 'other', 'over', 'same', 'should', 'some', 'such', 'than', 'that',\r\n  'the', 'their', 'them', 'then', 'there', 'theres', 'these', 'they', 'this', 'those', 'through',\r\n  'too', 'under', 'until', 'very', 'was', 'were', 'what', 'when', 'where', 'which',\r\n  'while', 'who', 'whom', 'why', 'will', 'with', 'would', 'your'\r\n])\r\n\r\n/**\r\n * Converts all the movie names to string values\r\n *\r\n * @param {object} movies An object containing a list of the top 250 IMBD movies\r\n * @returns {object} A list of the top 250 IMDB movies with their names all being of type string\r\n */\r\nexport function convertMovieNamesToString(movies) {\r\n  movies.forEach(movie => {\r\n    if (typeof movie.name !== 'string') movie.name = String(movie.name)\r\n  })\r\n\r\n  return movies\r\n}\r\n","import { cleanMovieName } from './helper'\r\n\r\n/**\r\n * Gets the data for golden globes nominations for all the movies in the top 250 in IMDB\r\n *\r\n * @param {object[]} goldenGlobes The golden globes data to analyze\r\n * @param {object[]} movieNames The names of the top 250 movies on IMDB\r\n * @returns {object} The golden globes data of the top 250 movies on IMDB\r\n */\r\nexport function getGoldenGlobesMovieData (goldenGlobes, movieNames) {\r\n  return goldenGlobes.reduce((acc, item) => {\r\n    const cleanName = cleanMovieName(item.film)\r\n\r\n    if (movieNames.includes(cleanName)) {\r\n      const isWinner = item.win === 'True'\r\n      if (!acc[cleanName]) {\r\n        acc[cleanName] = {\r\n          nominations: [{ year: item.year_film, nominee: item.name, winner: isWinner }],\r\n          nbNominations: 1,\r\n          nbWins: isWinner ? 1 : 0\r\n        }\r\n      } else {\r\n        acc[cleanName].nominations.push({\r\n          year: item.year_film,\r\n          nominee: item.name,\r\n          winner: isWinner\r\n        })\r\n\r\n        acc[cleanName].nbNominations++\r\n        if (isWinner) acc[cleanName].nbWins++\r\n      }\r\n    }\r\n\r\n    return acc\r\n  }, {})\r\n}\r\n\r\n/**\r\n * Add the data collected from the golden globes awards to the imdb data\r\n *\r\n * @param {object[]} imdb The data of the top 250 movies on IMDB\r\n * @param {object} goldenGlobesMovies The golden globes data of the movies in the top 250 on IMDB\r\n * @returns {object} The imdb data concatenated with the golden globes data\r\n */\r\nexport function addGoldenGlobesData (imdb, goldenGlobesMovies) {\r\n  return imdb.map(movie => {\r\n    const enhancedMovie = { ...movie }\r\n    const cleanName = cleanMovieName(movie.name)\r\n\r\n    enhancedMovie.goldenGlobesData = {\r\n      goldenGlobesNominees: goldenGlobesMovies[cleanName] ? goldenGlobesMovies[cleanName].nominations : [],\r\n      goldenGlobesNominations: goldenGlobesMovies[cleanName] ? goldenGlobesMovies[cleanName].nbNominations : 0,\r\n      goldenGlobesWins: goldenGlobesMovies[cleanName] ? goldenGlobesMovies[cleanName].nbWins : 0\r\n    }\r\n\r\n    return enhancedMovie\r\n  })\r\n}\r\n","import { cleanMovieName } from './helper'\r\n\r\n/**\r\n * Gets the data for oscar nominations for all the movies in the top 250 in IMDB\r\n *\r\n * @param {object[]} oscars The oscars data to analyze\r\n * @param {string[]} movieNames The names of the top 250 movies on IMDB\r\n * @returns {object} The oscars data of the top 250 movies on IMDB\r\n */\r\nexport function getOscarsMovieData (oscars, movieNames) {\r\n  return oscars.reduce((acc, item) => {\r\n    const cleanName = cleanMovieName(item.film)\r\n\r\n    if (movieNames.includes(cleanName)) {\r\n      const isWinner = item.winner === 'True'\r\n      if (!acc[cleanName]) {\r\n        acc[cleanName] = {\r\n          nominations: [{ year: item.year_film, nominee: item.name, winner: isWinner }],\r\n          nbNominations: 1,\r\n          nbWins: isWinner ? 1 : 0\r\n        }\r\n      } else {\r\n        acc[cleanName].nominations.push({\r\n          year: item.year_film,\r\n          nominee: item.name,\r\n          winner: isWinner\r\n        })\r\n\r\n        acc[cleanName].nbNominations++\r\n        if (isWinner) acc[cleanName].nbWins++\r\n      }\r\n    }\r\n\r\n    return acc\r\n  }, {})\r\n}\r\n\r\n/**\r\n * Add the data collected from the oscars awards to the imdb data\r\n *\r\n * @param {object[]} imdb The data of the top 250 movies on IMDB\r\n * @param {object} oscarMovies The oscars data of the movies in the top 250 on IMDB\r\n * @returns {object} The imdb data concatenated with the oscars data\r\n */\r\nexport function addOscarsData (imdb, oscarMovies) {\r\n  return imdb.map(movie => {\r\n    const enhancedMovie = { ...movie }\r\n    const cleanName = cleanMovieName(movie.name)\r\n\r\n    enhancedMovie.oscarsData = {\r\n      oscarNominees: oscarMovies[cleanName] ? oscarMovies[cleanName].nominations : [],\r\n      oscarNominations: oscarMovies[cleanName] ? oscarMovies[cleanName].nbNominations : 0,\r\n      oscarWins: oscarMovies[cleanName] ? oscarMovies[cleanName].nbWins : 0\r\n    }\r\n\r\n    return enhancedMovie\r\n  })\r\n}\r\n","import { cleanMovieName } from './helper'\r\n\r\n/**\r\n * Gets the additional data required for all the movies in the top 250 in IMDB\r\n *\r\n * @param {object[]} movies The additional movie data to analyze\r\n * @param {object[]} movieNames The names of the top 250 movies on IMDB\r\n * @returns {object} The additonal movie data of the top 250 movies on IMDB\r\n */\r\nexport function getAdditionalMovieData (movies, movieNames) {\r\n  return movies.reduce((acc, movie) => {\r\n    if (!movie.original_title) return acc\r\n\r\n    const cleanName = cleanMovieName(movie.original_title)\r\n\r\n    if (movieNames.includes(cleanName)) {\r\n      let companies = []\r\n      if (movie.production_companies) {\r\n        const pCompaniesData = typeof movie.production_companies === 'string'\r\n          ? JSON.parse(movie.production_companies) : movie.production_companies\r\n\r\n        if (Array.isArray(pCompaniesData) && pCompaniesData.length > 0) {\r\n          companies = pCompaniesData.map(pCompany => pCompany.name).filter(Boolean)\r\n        }\r\n      }\r\n\r\n      let releaseDate = ''\r\n      if (movie.release_date) {\r\n        try {\r\n          releaseDate = new Date(movie.release_date).toISOString().split('T')[0]\r\n        } catch (error) {\r\n          releaseDate = movie.release_date\r\n        }\r\n      }\r\n\r\n      acc[cleanName] = {\r\n        keywords: movie.keywords || '',\r\n        popularity: movie.popularity || 0,\r\n        productionCompanies: companies,\r\n        releaseDate: releaseDate,\r\n        budget: movie.budget,\r\n        revenue: movie.revenue\r\n      }\r\n    }\r\n    return acc\r\n  }, {})\r\n}\r\n\r\n/**\r\n * Add the additional movie data to the imdb data\r\n *\r\n * @param {object[]} imdb The data of the top 250 movies on IMDB\r\n * @param {object} additionalData The additional data of the movies in the top 250 on IMDB\r\n * @returns {object} The imdb data concatenated with the oscars data\r\n */\r\nexport function addAdditionalMovieData (imdb, additionalData) {\r\n  return imdb.map(movie => {\r\n    const enhancedMovie = { ...movie }\r\n    const cleanName = cleanMovieName(movie.name)\r\n\r\n    enhancedMovie.keywords = additionalData[cleanName] ? additionalData[cleanName].keywords : []\r\n    enhancedMovie.popularity = additionalData[cleanName] ? additionalData[cleanName].popularity : 0\r\n    enhancedMovie.productionCompanies = additionalData[cleanName] ? additionalData[cleanName].productionCompanies : {}\r\n    enhancedMovie.releaseDate = additionalData[cleanName] ? additionalData[cleanName].releaseDate : null\r\n\r\n    if (typeof enhancedMovie.budget === 'string' && additionalData[cleanName]) {\r\n      enhancedMovie.budget = additionalData[cleanName].budget\r\n    }\r\n\r\n    if (typeof enhancedMovie.boxOffice === 'string' && additionalData[cleanName]) {\r\n      enhancedMovie.boxOffice = additionalData[cleanName].revenue\r\n    }\r\n\r\n    return enhancedMovie\r\n  })\r\n}\r\n","/**\r\n * Fix the field values in order to proceed with processing\r\n *\r\n * @param {object[]} data The top 250 movies on IMDB\r\n * @returns {object} The correct value types for all the various fields of the data\r\n */\r\nexport function processMovieData (data) {\r\n  const stringToArray = (movie, fieldName) => {\r\n    if (!movie[fieldName]) return []\r\n\r\n    try {\r\n      if (typeof movie[fieldName] === 'string') {\r\n        return movie[fieldName].split(',').map(item => item.trim())\r\n      }\r\n      return movie[fieldName]\r\n    } catch (error) {\r\n      return []\r\n    }\r\n  }\r\n\r\n  return data.map((movie) => {\r\n    const processedMovie = { ...movie }\r\n    const fieldsToProcess = ['casts', 'directors', 'genre', 'writers']\r\n\r\n    fieldsToProcess.forEach(field => {\r\n      processedMovie[field] = stringToArray(movie, field)\r\n    })\r\n\r\n    return processedMovie\r\n  })\r\n}\r\n","import { stopWords, parseRuntime } from './helper'\r\n\r\n/**\r\n * Helper functions for metrics calculations (averages, quantity, etc)\r\n */\r\nconst MetricsHelper = {\r\n  standardMetrics: [\r\n    { property: 'rating', movieProperty: 'rating' },\r\n    { property: 'budget', movieProperty: 'budget' },\r\n    { property: 'boxOffice', movieProperty: 'box_office' },\r\n    { property: 'popularity', movieProperty: 'popularity' }\r\n  ],\r\n\r\n  /**\r\n   * Creates an object with new metrics with initialized properties for current standard metrics\r\n   *\r\n   * @returns {object} An object with total value and count properties for each of the standard metrics\r\n   */\r\n  createMetricsObject () {\r\n    const metricsObject = {}\r\n\r\n    this.standardMetrics.forEach(metric => {\r\n      metricsObject[`total${metric.property.charAt(0).toUpperCase() + metric.property.slice(1)}`] = 0\r\n      metricsObject[`${metric.property}Count`] = 0\r\n      metricsObject[`avg${metric.property.charAt(0).toUpperCase() + metric.property.slice(1)}`] = 0\r\n    })\r\n\r\n    return metricsObject\r\n  },\r\n\r\n  /**\r\n   * Adds the new metrics of a movie to an existing object\r\n   *\r\n   * @param {object} currObject The current object to which we will be adding the new metrics to\r\n   * @param {object} movie The movie object which contains the metric values required\r\n   * @returns {object} The updated current object with the new metrics\r\n   */\r\n  addMovieMetrics (currObject, movie) {\r\n    this.standardMetrics.forEach(metric => {\r\n      const value = movie[metric.movieProperty]\r\n      const totalProp = `total${metric.property.charAt(0).toUpperCase() + metric.property.slice(1)}`\r\n      const countProp = `${metric.property}Count`\r\n\r\n      if (typeof value === 'number' && !isNaN(value)) {\r\n        currObject[totalProp] += value\r\n        currObject[countProp]++\r\n      }\r\n    })\r\n\r\n    return currObject\r\n  },\r\n\r\n  /**\r\n   * Calculates the average values for all standard metrics of a given metrics object\r\n   *\r\n   * @param {object} currObject The metrics object to which we need to calculate the averages of the standard\r\n   * metrics for\r\n   * @returns {object} The metrics object with the calculated averages added to it\r\n   */\r\n  calculateAverages (currObject) {\r\n    this.standardMetrics.forEach(metric => {\r\n      const totalProp = `total${metric.property.charAt(0).toUpperCase() + metric.property.slice(1)}`\r\n      const countProp = `${metric.property}Count`\r\n      const avgProp = `avg${metric.property.charAt(0).toUpperCase() + metric.property.slice(1)}`\r\n\r\n      currObject[avgProp] = currObject[countProp] > 0 ? currObject[totalProp] / currObject[countProp] : 0\r\n    })\r\n\r\n    return currObject\r\n  },\r\n\r\n  /**\r\n   * Removes the temporary calculation properties, such as the total and count, from the current object\r\n   *\r\n   * @param {object} currObject The current object on which to remove the additional metrics\r\n   * @returns {object} The current cleaned metrics object\r\n   */\r\n  cleanupMetricsProperties (currObject) {\r\n    this.standardMetrics.forEach(metric => {\r\n      const totalProp = `total${metric.property.charAt(0).toUpperCase() + metric.property.slice(1)}`\r\n      const countProp = `${metric.property}Count`\r\n\r\n      delete currObject[totalProp]\r\n      delete currObject[countProp]\r\n    })\r\n\r\n    return currObject\r\n  },\r\n\r\n  /**\r\n   * Finds the most popular genre from an array of genres\r\n   *\r\n   * @param {string[]} genres Array of genre names\r\n   * @returns {object|null} Object containing most popular genre and counts\r\n   */\r\n  findMostPopularGenre (genres) {\r\n    if (!genres || !genres.length) return null\r\n\r\n    const genreCounts = {}\r\n    genres.forEach(genre => {\r\n      if (genre && genre.trim()) {\r\n        genreCounts[genre.trim()] = (genreCounts[genre.trim()] || 0) + 1\r\n      }\r\n    })\r\n\r\n    let maxCount = 0\r\n    let mostPopularGenre = null\r\n\r\n    Object.entries(genreCounts).forEach(([genre, count]) => {\r\n      if (count > maxCount) {\r\n        maxCount = count\r\n        mostPopularGenre = genre\r\n      }\r\n    })\r\n\r\n    return { mostPopularGenre, genreCounts }\r\n  }\r\n}\r\n\r\n/**\r\n * Gets important movie data associated to each contributor of the top 250 movies on IMDB\r\n * with additional statistics\r\n *\r\n * @param {object[]} movies The data of the movies\r\n * @returns {object} The casts, directors, and writers associated to the top 250 movies on IMDB\r\n */\r\nexport function getFilmContributorsData (movies) {\r\n  const contributors = {\r\n    casts: {},\r\n    directors: {},\r\n    writers: {}\r\n  }\r\n\r\n  const contributorCategories = {\r\n    casts: 'casts',\r\n    directors: 'directors',\r\n    writers: 'writers'\r\n  }\r\n\r\n  const createContributorObject = () => {\r\n    return {\r\n      movies: [],\r\n      nMovies: 0,\r\n      ...MetricsHelper.createMetricsObject()\r\n    }\r\n  }\r\n\r\n  movies.forEach(movie => {\r\n    const movieInfo = {\r\n      name: movie.name,\r\n      genre: movie.genre || []\r\n    }\r\n\r\n    Object.entries(contributorCategories).forEach(([movieProperty, categoryName]) => {\r\n      if (movie[movieProperty]) {\r\n        movie[movieProperty].forEach(person => {\r\n          if (!contributors[categoryName][person]) {\r\n            contributors[categoryName][person] = createContributorObject()\r\n          }\r\n\r\n          contributors[categoryName][person].movies.push({ ...movieInfo })\r\n          contributors[categoryName][person].nMovies = contributors[categoryName][person].movies.length\r\n\r\n          MetricsHelper.addMovieMetrics(contributors[categoryName][person], movie)\r\n        })\r\n      }\r\n    })\r\n  })\r\n\r\n  Object.keys(contributors).forEach(category => {\r\n    Object.keys(contributors[category]).forEach(person => {\r\n      const data = contributors[category][person]\r\n\r\n      MetricsHelper.calculateAverages(data)\r\n      MetricsHelper.cleanupMetricsProperties(data)\r\n    })\r\n  })\r\n\r\n  return contributors\r\n}\r\n\r\n/**\r\n * Analyzes genre data for movies across different time periods\r\n *\r\n * @param {object[]} movies Array of movie objects\r\n * @returns {object[]} Array of interval objects by a set of years with genre and movie analysis\r\n */\r\nexport function getGenreDataIntervals (movies) {\r\n  const decades = createYearIntervals(movies)\r\n\r\n  decades.forEach(decade => {\r\n    if (!decade.movies.length) {\r\n      decade.mostCommonGenre = null\r\n      decade.genreCounts = {}\r\n      return\r\n    }\r\n\r\n    const allGenres = []\r\n    decade.movies.forEach(movie => {\r\n      if (movie.genre && Array.isArray(movie.genre)) {\r\n        movie.genre.forEach(genre => {\r\n          if (genre && genre.trim()) allGenres.push(genre.trim())\r\n        })\r\n      }\r\n    })\r\n\r\n    const { mostPopularGenre, genreCounts } = MetricsHelper.findMostPopularGenre(allGenres)\r\n    decade.mostCommonGenre = mostPopularGenre\r\n    decade.genreCounts = genreCounts\r\n  })\r\n\r\n  return decades\r\n}\r\n\r\n/**\r\n * Creates time intervals for movies based on their release years\r\n *\r\n * @param {object[]} movies Array of movie objects\r\n * @param {number} intervalSize Size of each interval in years (10 by default)\r\n * @returns {object[]} Array of interval objects with movies and their metrics\r\n */\r\nexport function createYearIntervals (movies, intervalSize = 10) {\r\n  const minYear = movies.reduce((min, movie) => movie.year < min ? movie.year : min, Number.MAX_VALUE)\r\n  const maxYear = movies.reduce((max, movie) => movie.year > max ? movie.year : max, Number.MIN_VALUE)\r\n\r\n  const firstDecade = Math.floor(minYear / intervalSize) * intervalSize\r\n  const lastDecade = Math.floor(maxYear / intervalSize) * intervalSize\r\n\r\n  const intervals = []\r\n  for (let decade = firstDecade; decade <= lastDecade; decade += intervalSize) {\r\n    const decadeYears = decade + (intervalSize - 1)\r\n    intervals.push({\r\n      startYear: decade,\r\n      endYear: decadeYears,\r\n      label: `${decade}s`,\r\n      movies: [],\r\n      nMovies: 0,\r\n      genreCounts: {},\r\n      ...MetricsHelper.createMetricsObject()\r\n    })\r\n  }\r\n\r\n  movies.forEach(movie => {\r\n    const interval = intervals.find(interval => movie.year >= interval.startYear && movie.year <= interval.endYear)\r\n    if (!interval) return\r\n\r\n    interval.movies.push(movie)\r\n    interval.nMovies++\r\n\r\n    MetricsHelper.addMovieMetrics(interval, movie)\r\n  })\r\n\r\n  intervals.forEach(interval => {\r\n    MetricsHelper.calculateAverages(interval)\r\n    MetricsHelper.cleanupMetricsProperties(interval)\r\n  })\r\n\r\n  return intervals\r\n}\r\n\r\n/**\r\n * Gets the top collaborations for actor/director and actor/actor collaborations\r\n *\r\n * @param {Array} movies Array of movie objects\r\n * @param {number} limit Number of top collaborations to return (20 by default)\r\n * @returns {object} Object with the top actor/director and actor/actor collaborations\r\n */\r\nexport function getTopCollaborations (movies, limit = 20) {\r\n  const allCollabs = countCollaborations(movies)\r\n\r\n  return {\r\n    topActorDirectorCollabs: allCollabs.actorDirectorCollabs.slice(0, limit),\r\n    topActorActorCollabs: allCollabs.actorActorCollabs.slice(0, limit)\r\n  }\r\n}\r\n\r\n/**\r\n * Counts the amount of collaborations between actors and directors, and also between actors themselves\r\n *\r\n * @param {Array} movies Array of movie objects with casts and directors properties\r\n * @returns {object} Object containing actorDirectorCollabs and actorActorCollabs\r\n */\r\nfunction countCollaborations (movies) {\r\n  const actorDirectorCollabs = {}\r\n  const actorActorCollabs = {}\r\n\r\n  const createCollabObject = (isSameType, participant1, participant2) => {\r\n    return {\r\n      [isSameType ? 'actor1' : 'actor']: participant1,\r\n      [isSameType ? 'actor2' : 'director']: participant2,\r\n      movies: [],\r\n      genres: [],\r\n      mostPopularGenre: null,\r\n      count: 0,\r\n      ...MetricsHelper.createMetricsObject()\r\n    }\r\n  }\r\n\r\n  const addMovieToCollab = (collab, movie) => {\r\n    if (collab.movies.includes(movie.name)) return\r\n\r\n    collab.count++\r\n    collab.movies.push(movie.name)\r\n\r\n    MetricsHelper.addMovieMetrics(collab, movie)\r\n\r\n    if (movie.genre) {\r\n      const genres = Array.isArray(movie.genre) ? movie.genre : [movie.genre]\r\n      genres.forEach(genre => {\r\n        if (genre && genre.trim()) collab.genres.push(genre.trim())\r\n      })\r\n    }\r\n  }\r\n\r\n  movies.forEach(movie => {\r\n    const castMembers = movie.casts || []\r\n    const directors = movie.directors || []\r\n\r\n    castMembers.forEach(actor => {\r\n      if (!actor) return\r\n\r\n      directors.forEach(director => {\r\n        if (!director) return\r\n\r\n        const key = `${actor}/${director}`\r\n\r\n        if (!actorDirectorCollabs[key]) {\r\n          actorDirectorCollabs[key] = createCollabObject(false, actor, director)\r\n        }\r\n\r\n        addMovieToCollab(actorDirectorCollabs[key], movie)\r\n      })\r\n    })\r\n\r\n    for (let i = 0; i < castMembers.length; i++) {\r\n      const actor1 = castMembers[i]\r\n      if (!actor1) continue\r\n\r\n      for (let j = i + 1; j < castMembers.length; j++) {\r\n        const actor2 = castMembers[j]\r\n        if (!actor2) continue\r\n\r\n        const actorPair = [actor1, actor2].sort()\r\n        const key = `${actorPair[0]}/${actorPair[1]}`\r\n\r\n        if (!actorActorCollabs[key]) {\r\n          actorActorCollabs[key] = createCollabObject(true, actorPair[0], actorPair[1])\r\n        }\r\n\r\n        addMovieToCollab(actorActorCollabs[key], movie)\r\n      }\r\n    }\r\n  })\r\n\r\n  const finalizeCollabs = collabs => {\r\n    return Object.values(collabs).map(collab => {\r\n      MetricsHelper.calculateAverages(collab)\r\n\r\n      if (collab.genres.length) {\r\n        const { mostPopularGenre } = MetricsHelper.findMostPopularGenre(collab.genres)\r\n        collab.mostPopularGenre = mostPopularGenre\r\n      }\r\n\r\n      MetricsHelper.cleanupMetricsProperties(collab)\r\n      delete collab.genres\r\n\r\n      return collab\r\n    }).sort((a, b) => b.count - a.count)\r\n  }\r\n\r\n  return {\r\n    actorDirectorCollabs: finalizeCollabs(actorDirectorCollabs),\r\n    actorActorCollabs: finalizeCollabs(actorActorCollabs)\r\n  }\r\n}\r\n\r\n/**\r\n * Analyzes the movie data by the available certificate ratings\r\n *\r\n * @param {object[]} movies Array of movie objects\r\n * @returns {object} Object with certificate data and associated metrics\r\n */\r\nexport function getCertificateData (movies) {\r\n  const createCertificateObject = () => {\r\n    return {\r\n      movies: [],\r\n      count: 0,\r\n      genres: [],\r\n      mostPopularGenre: null,\r\n      ...MetricsHelper.createMetricsObject()\r\n    }\r\n  }\r\n\r\n  const certificateData = movies.reduce((certificateList, movie) => {\r\n    const certificate = typeof movie.certificate === 'string' ? movie.certificate.toLowerCase() : 'unknown'\r\n\r\n    if (!certificateList[certificate]) certificateList[certificate] = createCertificateObject()\r\n\r\n    certificateList[certificate].movies.push({ name: movie.name })\r\n    certificateList[certificate].count++\r\n\r\n    MetricsHelper.addMovieMetrics(certificateList[certificate], movie)\r\n\r\n    if (movie.genre) {\r\n      const genres = Array.isArray(movie.genre) ? movie.genre : [movie.genre]\r\n      genres.forEach(genre => {\r\n        if (genre && genre.trim()) certificateList[certificate].genres.push(genre.trim())\r\n      })\r\n    }\r\n\r\n    return certificateList\r\n  }, {})\r\n\r\n  Object.keys(certificateData).forEach(certificate => {\r\n    const data = certificateData[certificate]\r\n    MetricsHelper.calculateAverages(data)\r\n\r\n    if (data.genres.length) {\r\n      const { mostPopularGenre, genreCounts } = MetricsHelper.findMostPopularGenre(data.genres)\r\n      data.mostPopularGenre = mostPopularGenre\r\n      data.genreCounts = genreCounts\r\n    }\r\n\r\n    MetricsHelper.cleanupMetricsProperties(data)\r\n    delete data.genres\r\n  })\r\n\r\n  return certificateData\r\n}\r\n\r\n/**\r\n * Groups the movie data by seasons (summer, fall, winter, spring) based on release dates\r\n *\r\n * @param {object[]} movies Array of movie objects\r\n * @returns {object} Object with movie data organized by season and their associated metrics\r\n */\r\nexport function getDataBySeason (movies) {\r\n  const createSeasonObject = (beginDate, endDate) => ({\r\n    beginDate,\r\n    endDate,\r\n    movies: [],\r\n    count: 0,\r\n    genres: [],\r\n    mostPopularGenre: null,\r\n    ...MetricsHelper.createMetricsObject()\r\n  })\r\n\r\n  const seasons = {\r\n    spring: createSeasonObject('03-20', '06-20'),\r\n    summer: createSeasonObject('06-21', '09-22'),\r\n    fall: createSeasonObject('09-23', '12-20'),\r\n    winter: createSeasonObject('12-21', '03-19')\r\n  }\r\n\r\n  const getSeason = (dateString) => {\r\n    if (!dateString || typeof dateString !== 'string') return null\r\n\r\n    // Reason : We need to split the string, however year is not required for use\r\n    // eslint-disable-next-line no-unused-vars\r\n    const [year, month, day] = dateString.split('-').map(num => parseInt(num, 10))\r\n    const monthDay = `${month.toString().padStart(2, '0')}-${day.toString().padStart(2, '0')}`\r\n\r\n    if (monthDay >= '03-20' && monthDay <= '06-20') return 'spring'\r\n    else if (monthDay >= '06-21' && monthDay <= '09-22') return 'summer'\r\n    else if (monthDay >= '09-23' && monthDay <= '12-20') return 'fall'\r\n    else return 'winter'\r\n  }\r\n\r\n  movies.forEach(movie => {\r\n    const season = getSeason(movie.releaseDate)\r\n    if (season === null) return\r\n\r\n    seasons[season].movies.push(movie)\r\n    seasons[season].count++\r\n\r\n    MetricsHelper.addMovieMetrics(seasons[season], movie)\r\n\r\n    if (movie.genre) {\r\n      const genres = Array.isArray(movie.genre) ? movie.genre : [movie.genre]\r\n      genres.forEach(genre => {\r\n        if (genre && genre.trim()) seasons[season].genres.push(genre.trim())\r\n      })\r\n    }\r\n  })\r\n\r\n  Object.keys(seasons).forEach(season => {\r\n    const data = seasons[season]\r\n    MetricsHelper.calculateAverages(data)\r\n\r\n    if (data.genres.length) {\r\n      const { mostPopularGenre, genreCounts } = MetricsHelper.findMostPopularGenre(data.genres)\r\n      data.mostPopularGenre = mostPopularGenre\r\n      data.genreCounts = genreCounts\r\n    }\r\n\r\n    MetricsHelper.cleanupMetricsProperties(data)\r\n    delete data.genres\r\n  })\r\n\r\n  return seasons\r\n}\r\n\r\n/**\r\n * Groups and analyzes movies by given runtime length intervals\r\n *\r\n * @param {object[]} movies Array of movie objects\r\n * @param {number} intervalSize Size of each runtime interval in minutes (10 by default)\r\n * @returns {object[]} Array of runtime interval objects with their associated movies and metrics\r\n */\r\nexport function getMovieLengthData (movies, intervalSize = 10) {\r\n  let minRuntime = Number.MAX_VALUE\r\n  let maxRuntime = 0\r\n\r\n  movies.forEach(movie => {\r\n    const runtime = parseRuntime(movie.run_time)\r\n    if (runtime) {\r\n      minRuntime = Math.min(minRuntime, runtime)\r\n      maxRuntime = Math.max(maxRuntime, runtime)\r\n    }\r\n  })\r\n\r\n  const firstInterval = Math.floor(minRuntime / intervalSize) * intervalSize\r\n  const lastInterval = Math.floor(maxRuntime / intervalSize) * intervalSize\r\n\r\n  const intervals = []\r\n  for (let minutes = firstInterval; minutes <= lastInterval; minutes += intervalSize) {\r\n    intervals.push({\r\n      startMinutes: minutes,\r\n      endMinutes: minutes + (intervalSize - 1),\r\n      label: `${minutes}s`,\r\n      movies: [],\r\n      nMovies: 0,\r\n      genres: [],\r\n      ...MetricsHelper.createMetricsObject()\r\n    })\r\n  }\r\n\r\n  movies.forEach(movie => {\r\n    const movieRuntime = parseRuntime(movie.run_time)\r\n    const interval = intervals.find(interval => movieRuntime >= interval.startMinutes && movieRuntime <= interval.endMinutes)\r\n    if (!interval) return\r\n\r\n    interval.movies.push(movie)\r\n    interval.nMovies++\r\n\r\n    MetricsHelper.addMovieMetrics(interval, movie)\r\n\r\n    if (movie.genre) {\r\n      const genres = Array.isArray(movie.genre) ? movie.genre : [movie.genre]\r\n      genres.forEach(genre => {\r\n        if (genre && genre.trim()) interval.genres.push(genre.trim())\r\n      })\r\n    }\r\n  })\r\n\r\n  intervals.forEach(interval => {\r\n    MetricsHelper.calculateAverages(interval)\r\n\r\n    if (interval.genres.length) {\r\n      const { mostPopularGenre, genreCounts } = MetricsHelper.findMostPopularGenre(interval.genres)\r\n      interval.mostPopularGenre = mostPopularGenre\r\n      interval.genreCounts = genreCounts\r\n    }\r\n\r\n    MetricsHelper.cleanupMetricsProperties(interval)\r\n    delete interval.genres\r\n  })\r\n\r\n  return intervals\r\n}\r\n\r\n/**\r\n * Analyzes the frequency of appearance for words and associated data in movie taglines\r\n *\r\n * @param {object[]} movies Array of movie objects\r\n * @param {number} minWordLength Minimum length of words to include (3 by default)\r\n * @param {number} minOccurrences Minimum occurrences of words to include (2 by default)\r\n * @returns {object[]} Array of word objects with associated movie data and their metrics\r\n */\r\nexport function getTaglineWordsData (movies, minWordLength = 3, minOccurrences = 2) {\r\n  const createWordObject = () => {\r\n    return {\r\n      movies: [],\r\n      count: 0,\r\n      genres: [],\r\n      mostPopularGenre: null,\r\n      ...MetricsHelper.createMetricsObject()\r\n    }\r\n  }\r\n\r\n  const wordCounts = {}\r\n  movies.forEach(movie => {\r\n    if (!movie.tagline || typeof movie.tagline !== 'string') return\r\n\r\n    const words = movie.tagline\r\n      .toLowerCase()\r\n      .replace(/[^\\w\\s]/g, '')\r\n      .split(/\\s+/)\r\n      .filter(word =>\r\n        word.length >= minWordLength &&\r\n        !stopWords.has(word)\r\n      )\r\n\r\n    words.forEach(word => {\r\n      if (!wordCounts[word]) wordCounts[word] = 0\r\n      wordCounts[word]++\r\n    })\r\n  })\r\n\r\n  const significantWords = Object.keys(wordCounts)\r\n    .filter(word => wordCounts[word] >= minOccurrences)\r\n\r\n  const wordData = {}\r\n  significantWords.forEach(word => {\r\n    wordData[word] = createWordObject()\r\n  })\r\n\r\n  movies.forEach(movie => {\r\n    if (!movie.tagline || typeof movie.tagline !== 'string') return\r\n\r\n    const movieWords = new Set(\r\n      movie.tagline\r\n        .toLowerCase()\r\n        .replace(/[^\\w\\s]/g, '')\r\n        .split(/\\s+/)\r\n        .filter(word => significantWords.includes(word))\r\n    )\r\n\r\n    movieWords.forEach(word => {\r\n      wordData[word].movies.push({\r\n        name: movie.name,\r\n        year: movie.year,\r\n        tagline: movie.tagline\r\n      })\r\n\r\n      wordData[word].count++\r\n\r\n      MetricsHelper.addMovieMetrics(wordData[word], movie)\r\n\r\n      if (movie.genre) {\r\n        const genres = Array.isArray(movie.genre) ? movie.genre : [movie.genre]\r\n        genres.forEach(genre => {\r\n          if (genre && genre.trim()) wordData[word].genres.push(genre.trim())\r\n        })\r\n      }\r\n    })\r\n  })\r\n\r\n  Object.keys(wordData).forEach(word => {\r\n    const data = wordData[word]\r\n    MetricsHelper.calculateAverages(data)\r\n\r\n    if (data.genres.length) {\r\n      const { mostPopularGenre, genreCounts } = MetricsHelper.findMostPopularGenre(data.genres)\r\n      data.mostPopularGenre = mostPopularGenre\r\n      data.genreCounts = genreCounts\r\n    }\r\n\r\n    MetricsHelper.cleanupMetricsProperties(data)\r\n    delete data.genres\r\n  })\r\n\r\n  const result = Object.entries(wordData)\r\n    .map(([word, data]) => ({\r\n      word,\r\n      ...data\r\n    }))\r\n    .sort((a, b) => b.count - a.count)\r\n\r\n  return result\r\n}\r\n\r\n/**\r\n * Analyzes the tagline length statistics and metrics for movies\r\n *\r\n * @param {object[]} movies Array of movie objects\r\n * @returns {object[]} Array of tagline length objects with associated movie data and metrics\r\n */\r\nexport function getTaglineLengthData (movies) {\r\n  const lengthMap = {}\r\n\r\n  const createLengthObject = () => {\r\n    return {\r\n      movies: [],\r\n      count: 0,\r\n      wordCount: 0,\r\n      ...MetricsHelper.createMetricsObject()\r\n    }\r\n  }\r\n\r\n  movies.forEach(movie => {\r\n    if (!movie.tagline || typeof movie.tagline !== 'string') return\r\n\r\n    const tagline = movie.tagline.trim()\r\n    if (tagline.length === 0) return\r\n\r\n    const length = tagline.length\r\n\r\n    if (!lengthMap[length]) lengthMap[length] = createLengthObject()\r\n    lengthMap[length].movies.push({\r\n      name: movie.name,\r\n      year: movie.year,\r\n      tagline: movie.tagline\r\n    })\r\n    lengthMap[length].count++\r\n\r\n    const wordCount = tagline.split(/\\s+/).length\r\n\r\n    lengthMap[length].wordCount += wordCount\r\n    MetricsHelper.addMovieMetrics(lengthMap[length], movie)\r\n  })\r\n\r\n  const result = Object.entries(lengthMap).map(([length, data]) => {\r\n    MetricsHelper.calculateAverages(data)\r\n\r\n    data.avgWordCount = data.wordCount / data.count\r\n    delete data.wordCount\r\n\r\n    MetricsHelper.cleanupMetricsProperties(data)\r\n    delete data.genres\r\n\r\n    return {\r\n      length: parseInt(length, 10),\r\n      ...data\r\n    }\r\n  })\r\n\r\n  return result.sort((a, b) => a.length - b.length)\r\n}\r\n\r\n/**\r\n * Calculates the profit for each movie based on budget and box office data\r\n *\r\n * @param {object[]} imdb Array of movie objects\r\n * @returns {object[]} Array of movie objects with added profit property\r\n */\r\nexport function calculateMovieProfits (imdb) {\r\n  imdb.forEach(movie => {\r\n    if (movie.budget && movie.box_office && typeof movie.budget !== 'string' && typeof movie.box_office !== 'string') {\r\n      movie.profit = movie.box_office - movie.budget\r\n    }\r\n  })\r\n\r\n  return imdb\r\n}\r\n\r\n/**\r\n * Groups and analyzes movies by their genres\r\n *\r\n * @param {object[]} movies Array of movie objects\r\n * @returns {object} Object with the genre data and associated movie metrics\r\n */\r\nexport function getMoviesByGenre (movies) {\r\n  const genreData = {}\r\n\r\n  movies.forEach(movie => {\r\n    const genres = []\r\n\r\n    if (movie.genre) {\r\n      if (Array.isArray(movie.genre)) {\r\n        for (let i = 0; i < movie.genre.length; i++) {\r\n          if (movie.genre[i] && typeof movie.genre[i] === 'string') {\r\n            genres.push(movie.genre[i].trim())\r\n          }\r\n        }\r\n      } else if (typeof movie.genre === 'object') {\r\n        Object.keys(movie.genre).forEach(key => {\r\n          if (movie.genre[key] && typeof movie.genre[key] === 'string') {\r\n            genres.push(movie.genre[key].trim())\r\n          }\r\n        })\r\n      } else if (typeof movie.genre === 'string') genres.push(movie.genre.trim())\r\n    }\r\n\r\n    genres.forEach(genreName => {\r\n      if (!genreData[genreName]) {\r\n        genreData[genreName] = {\r\n          movies: [],\r\n          count: 0,\r\n          ...MetricsHelper.createMetricsObject()\r\n        }\r\n      }\r\n\r\n      genreData[genreName].movies.push(movie)\r\n      genreData[genreName].count++\r\n\r\n      MetricsHelper.addMovieMetrics(genreData[genreName], movie)\r\n    })\r\n  })\r\n\r\n  Object.keys(genreData).forEach(genre => {\r\n    MetricsHelper.calculateAverages(genreData[genre])\r\n    MetricsHelper.cleanupMetricsProperties(genreData[genre])\r\n  })\r\n\r\n  return genreData\r\n}\r\n","/**\r\n * Generates a specific <g> container inside a given SVG container.\r\n *\r\n * @param {string} svgSelector The selector of the SVG container (e.g. \".viz1-svg\" or \".film-impact-svg\")\r\n * @param {object} margin The desired margins around the graph\r\n * @param {string} id Optional ID or class for the <g> container\r\n * @returns {*} The d3 Selection for the created g element\r\n */\r\nexport function generateG (svgSelector, margin, id = null) {\r\n  const g = svgSelector\r\n    .append('g')\r\n    .attr('transform', `translate(${margin.left},${margin.top})`);\r\n  \r\n  if (id) {\r\n    g.attr('id', id);\r\n  }\r\n\r\n  return g;\r\n}\r\n\r\n/**\r\n * Sets the size of the SVG canvas containing the graph.\r\n *\r\n * @param {number} width The desired width\r\n * @param {number} height The desired height\r\n */\r\nexport function setCanvasSize (width, height) {\r\n  d3.select('.success-scatter-svg')\r\n    .attr('width', width)\r\n    .attr('height', height)\r\n}\r\n\r\n/**\r\n * Appends an SVG g element which will contain the axes.\r\n *\r\n * @param {*} g The d3 Selection of the graph's g SVG element\r\n */\r\nexport function appendAxes (g) {\r\n  g.append('g')\r\n    .attr('class', 'x1 axis')\r\n\r\n  g.append('g')\r\n    .attr('class', 'y1 axis')\r\n}\r\n/**\r\n * Appends the labels for the the y axis and the title of the graph.\r\n *\r\n * @param {*} g The d3 Selection of the graph's g SVG element\r\n */\r\nexport function appendGraphLabels (g) {\r\n  g.append('text')\r\n    .text('Classement')\r\n    .attr('class', 'y1 axis-text')\r\n    .attr('transform', 'rotate(-90)')\r\n    .attr('x', -30)  // Plus négatif = plus bas (le long de l'axe Y)\r\n    .attr('y', 13)    // Plus petit = plus proche de l'axe Y\r\n    .attr('font-size', 12);\r\n\r\n    g.append('text')\r\n    .text('Box-office (en $)')\r\n    .attr('class', 'x1 axis-text')\r\n    .attr('x', -40)   // À ajuster selon la largeur de ton graphe\r\n    .attr('y', 0)   // À ajuster selon la hauteur\r\n    .attr('font-size', 12);\r\n}\r\n\r\n/**\r\n * Draws the X axis at the bottom of the diagram.\r\n * @param {*} g The d3 Selection of the graph's g SVG element\r\n * @param {*} xScale The scale to use to draw the axis\r\n * @param {number} height The height of the graphic\r\n */\r\nexport function drawXAxis (g, xScale, height) {\r\n  g.select('.x1.axis')\r\n    .attr('transform', 'translate(0,' + height + ')')\r\n    .call(d3.axisBottom(xScale).tickSizeOuter(0).tickArguments([5, '~s']));\r\n}\r\n\r\n/**\r\n * Draws the Y axis to the left of the diagram.\r\n * @param {*} g The d3 Selection of the graph's g SVG element\r\n * @param {*} yScale The scale to use to draw the axis\r\n */\r\nexport function drawYAxis (g, yScale) {\r\n  g.select('.y1.axis')\r\n    .call(d3.axisLeft(yScale)\r\n      .tickSizeOuter(0)\r\n      .tickValues([1, 50, 100, 150, 200, 250])  // ou tout autre intervalle clair\r\n      .tickFormat(d3.format('d'))  // évite les arrondis foireux\r\n  );\r\n}\r\n\r\n/**\r\n * Places the graph's title.\r\n *\r\n * @param {*} g The d3 Selection of the graph's g SVG element\r\n */\r\nexport function placeTitle (g) {\r\n  g.append('text')\r\n    .attr('class', 'title1')\r\n    .attr('x1', 0)\r\n    .attr('y1', -20)\r\n    .attr('font-size', 14)\r\n}\r\n\r\n/**\r\n * Draws the button to toggle the display year.\r\n *\r\n * @param {*} g The d3 Selection of the graph's g SVG element\r\n * @param {number} year The year to display\r\n * @param {number} width The width of the graph, used to place the button\r\n */\r\nexport function drawButton (g, year, width) {\r\n  const button = g.append('g')\r\n    .attr('class', 'button1')\r\n    .attr('transform', 'translate(' + width + ', 140)')\r\n    .attr('width', 130)\r\n    .attr('height', 25)\r\n\r\n  button.append('rect')\r\n    .attr('width', 130)\r\n    .attr('height', 30)\r\n    .attr('fill', '#f4f6f4')\r\n    .on('mouseenter', function () {\r\n      d3.select(this).attr('stroke', '#362023')\r\n    })\r\n    .on('mouseleave', function () {\r\n      d3.select(this).attr('stroke', '#f4f6f4')\r\n    })\r\n\r\n  button.append('text')\r\n    .attr('x1', 65)\r\n    .attr('y1', 15)\r\n    .attr('text-anchor', 'middle')\r\n    .attr('dominant-baseline', 'middle')\r\n    .attr('class', 'button-text1')\r\n    .text('See ' + year + ' dataset')\r\n    .attr('font-size', '10px')\r\n    .attr('fill', '#362023')\r\n}\r\n","/**\r\n * Draws a color gradient legend as a horizontal bar with year labels.\r\n *\r\n * @param {*} colorScale The color scale to use (d3.scaleSequential)\r\n * @param {*} g The d3 Selection of the graph's g SVG element\r\n * @param {number} width The width of the graph, used to place the legend\r\n * @param {number} height The height for the legend (bar height)\r\n * @param {number} minYear The minimum year value\r\n * @param {number} maxYear The maximum year value\r\n */\r\nexport function drawLegend(colorScale, g, width, height, minYear, maxYear) {\r\n  // Create the gradient\r\n  const defs = g.append(\"defs\");\r\n\r\n  const gradient = defs.append(\"linearGradient\")\r\n    .attr(\"id\", \"gradient\")\r\n    .attr(\"x1\", \"0%\")\r\n    .attr(\"x2\", \"0%\")\r\n    .attr(\"y1\", \"100%\")\r\n    .attr(\"y2\", \"0%\");\r\n\r\n  // Define the gradient stops based on the color scale\r\n  gradient.selectAll(\"stop\")\r\n    .data(colorScale.ticks(10))  // Divide into 10 intervals\r\n    .enter().append(\"stop\")\r\n    .attr(\"offset\", (d, i) => `${(i / 10) * 100}%`)\r\n    .attr(\"stop-color\", d => colorScale(d));\r\n\r\n  // Append a rectangle to display the gradient\r\n  const legendBar = g.append(\"g\")\r\n    .attr(\"transform\", `translate(${width + 60}, 60)`);  // Position of the legend\r\n\r\n  legendBar.append(\"rect\")\r\n    .attr(\"width\", width / 30)\r\n    .attr(\"height\", height * 0.7)\r\n    .style(\"fill\", \"url(#gradient)\");\r\n\r\n  // Add min and max year labels\r\n  legendBar.append(\"text\")\r\n    .attr(\"x\", 13)\r\n    .attr(\"y\", height-100)\r\n    .attr(\"text-anchor\", \"middle\")\r\n    .text(minYear);\r\n\r\n  legendBar.append(\"text\")\r\n    .attr(\"x\", 11)\r\n    .attr(\"y\", height - 440)\r\n    .attr(\"text-anchor\", \"middle\")\r\n    .text(maxYear);\r\n  \r\n    // === BUBBLE LEGEND ===\r\n  const bubbleLegend = g.append(\"g\")\r\n    .attr(\"transform\", `translate(${width + 130}, 140)`); // position ajustable\r\n\r\n  const circleSizes = [20, 14, 9, 4]; // rayons\r\n  const spacing = 50;\r\n  const startY = 0;\r\n\r\n  circleSizes.forEach((r, i) => {\r\n    bubbleLegend.append(\"circle\")\r\n      .attr(\"cx\", 0)\r\n      .attr(\"cy\", startY + i * spacing)\r\n      .attr(\"r\", r)\r\n      .attr(\"fill\", \"black\");\r\n  });\r\n\r\n  // Flèche verticale\r\n  bubbleLegend.append(\"defs\").append(\"marker\")\r\n    .attr(\"id\", \"arrow-head\")\r\n    .attr(\"viewBox\", \"0 0 10 10\")\r\n    .attr(\"refX\", 5)\r\n    .attr(\"refY\", 5)\r\n    .attr(\"markerWidth\", 6)\r\n    .attr(\"markerHeight\", 6)\r\n    .attr(\"orient\", \"auto\")\r\n    .append(\"path\")\r\n    .attr(\"d\", \"M 0 0 L 10 5 L 0 10 z\")\r\n    .attr(\"fill\", \"black\");\r\n\r\n  bubbleLegend.append(\"line\")\r\n    .attr(\"x1\", 30)\r\n    .attr(\"y1\", spacing * (circleSizes.length - 1) + 20)\r\n    .attr(\"x2\", 30)\r\n    .attr(\"y2\", -20)\r\n    .attr(\"stroke\", \"black\")\r\n    .attr(\"stroke-width\", 2)\r\n    .attr(\"marker-end\", \"url(#arrow-head)\");\r\n\r\n  const textLines = [\"Nominations\", \"(Oscars et\", \"Golden Globes)\"];\r\n\r\n  const text = bubbleLegend.append(\"text\")\r\n    .attr(\"x\", 40)\r\n    .attr(\"y\", spacing * 1.5)\r\n    .attr(\"text-anchor\", \"start\")\r\n    .style(\"font-family\", \"sans-serif\")\r\n    .style(\"font-size\", \"12px\");\r\n  \r\n  text.selectAll(\"tspan\")\r\n    .data(textLines)\r\n    .enter()\r\n    .append(\"tspan\")\r\n    .attr(\"x\", 40)\r\n    .attr(\"dy\", (d, i) => i === 0 ? \"0em\" : \"1.2em\")\r\n    .text(d => d);\r\n  }\r\n","/**\r\n * Defines the scale to use for the circle markers' radius.\r\n *\r\n * The radius is linearly proportional to the total number of nominations.\r\n * (Oscars + Golden Globes), in the interval [5, 20].\r\n *\r\n * @param {object} data The data to be displayed\r\n * @returns {*} The linear scale used to determine the radius\r\n */\r\nexport function setRadiusScale (data) {\r\n  const flatData = Object.values(data).flat();\r\n\r\n  const minNominations = d3.min(flatData, d =>\r\n    (d.oscarsData.oscarNominations + d.goldenGlobesData.goldenGlobesNominations)\r\n  );\r\n\r\n  const maxNominations = d3.max(flatData, d =>\r\n    (d.oscarsData.oscarNominations + d.goldenGlobesData.goldenGlobesNominations)\r\n  );\r\n\r\n  return d3.scaleLinear()\r\n    .domain([minNominations, maxNominations])\r\n    .range([5, 15]);\r\n}\r\n\r\n/**\r\n * Defines the color scale based on release year.\r\n * @param data\r\n * @returns {*}\r\n */\r\nexport function setColorScale(data) {\r\n  const flatData = Object.values(data).flat();\r\n\r\n  const years = flatData.map(d => d.year);\r\n  const minYear = d3.min(years);\r\n  const maxYear = d3.max(years);\r\n\r\n  return d3.scaleSequential()\r\n    .domain([minYear, maxYear])\r\n    .interpolator(d3.interpolateViridis); // interpolatePlasma ou interpolateViridis\r\n}\r\n\r\n/**\r\n * Defines the linear scale in X (Box Office).\r\n *\r\n * @param {number} width The width of the graph\r\n * @param {object} data The data to be used\r\n * @returns {*} The linear scale in X\r\n */\r\nexport function setXScale (width, data) {\r\n  const flatData = Object.values(data).flat()\r\n    .filter(d => d.box_office !== \"Not Available\" && !isNaN(d.box_office));\r\n\r\n  const minBO = d3.min(flatData, d => +d.box_office);\r\n  const maxBO = d3.max(flatData, d => +d.box_office);\r\n\r\n  return d3.scaleLog()\r\n    .domain([minBO, maxBO])\r\n    .range([0, width]);\r\n}\r\n\r\n/**\r\n * Defines the linear scale in Y (rank), inverted.\r\n *\r\n * @param {number} height The height of the graph\r\n * @param {object} data The data to be used\r\n * @returns {*} The linear scale in Y\r\n */\r\nexport function setYScale (height, data) {\r\n  const flatData = Object.values(data).flat()\r\n    .filter(d => d.rank !== undefined && !isNaN(d.rank));\r\n\r\n  const minRank = d3.min(flatData, d => d.rank);\r\n  const maxRank = d3.max(flatData, d => d.rank);\r\n\r\n  return d3.scaleLinear()\r\n    .domain([maxRank, minRank]) // échelle inversée, le meilleur rank est en haut\r\n    .range([height, 0]);\r\n}\r\n","/**\r\n * Defines the contents of the tooltip. See CSS for tooltip styling.\r\n * The tooltip features the movie name, box office, total nominations,\r\n * rank, and release year.\r\n *\r\n * @param {object} d The data associated to the hovered element\r\n * @returns {string} The tooltip contents\r\n */\r\nexport function getContents(d) {\r\n  const boxOfficeFormatted = d.box_office\r\n    ? `$${Number(d.box_office).toLocaleString()}`\r\n    : 'Not Available'\r\n\r\n  const totalNominations = (d.oscarsData.oscarNominations || 0) + (d.goldenGlobesData.goldenGlobesNominations || 0)\r\n\r\n  return ` <div class=\"tooltip-value\" style=\"\r\n      background: linear-gradient(90deg,rgb(143, 143, 143) 0%,rgba(166, 166, 166, 0.4) 100%);\r\n      padding: 12px;\r\n      border-radius: 6px;\r\n      color: white;\r\n      backdrop-filter: blur(5px);\r\n      box-shadow: 0 5px 10px rgba(0, 0, 0, 0.3);\r\n      \"\r\n  >\r\n    <div style=\"margin: 4px 0;\">\r\n      <strong>🎬 Movie:</strong> ${d.name}\r\n    </div>\r\n    <div style=\"margin: 4px 0;\">\r\n      <strong>💰 Box Office:</strong> ${boxOfficeFormatted}\r\n    </div>\r\n    <div style=\"margin: 4px 0;\">\r\n      <strong>🏆 Nominations:</strong> ${totalNominations}\r\n    </div>\r\n    <div style=\"margin: 4px 0;\">\r\n      <strong>⭐ Rank:</strong> ${d.rank}\r\n    </div>\r\n    <div style=\"margin: 4px 0;\">\r\n      <strong>📅 Year:</strong> ${d.year}\r\n    </div>\r\n  </div> \r\n  `\r\n}\r\n","/* eslint-disable space-before-blocks */\r\n/* eslint-disable no-trailing-spaces */\r\n/* eslint-disable space-in-parens */\r\n/* eslint-disable spaced-comment */\r\n/* eslint-disable indent */\r\n/* eslint-disable no-multi-spaces */\r\n/**\r\n * Positions the x axis label and y axis label.\r\n *\r\n * @param {*} g The d3 Selection of the graph's g SVG element\r\n * @param {number} width The width of the graph\r\n * @param {number} height The height of the graph\r\n */\r\nexport function positionLabels (g, width, height) {\r\n  // TODO : Position axis labels\r\n  g.select('.x1.axis-text')\r\n    .attr('transform', 'translate(' + width/2 + ', '+ (height+50) +')');    // On décale le label x à la moitié de la largeur\r\n\r\n  g.select('.y1.axis-text')\r\n    .attr('transform', 'translate(-75, ' + height/2 + ')rotate(-90)');      // On décale le label x à la moitié de la hauteur\r\n}\r\n/**\r\n * Draws the circles on the graph.\r\n *\r\n * @param {object} g The D3 selection of the <g> element to draw in\r\n * @param {object} data The data to bind to\r\n * @param {*} rScale The scale for the circles' radius\r\n * @param {*} colorScale The scale for the circles' color\r\n */\r\nexport function drawCircles(g, data, rScale, colorScale) {\r\n  // On garde uniquement les films avec un box office valide\r\n  const cleanedData = data.filter(d =>\r\n    d.box_office !== \"Not Available\" &&\r\n    !isNaN(d.box_office) &&\r\n    d.rank !== undefined &&\r\n    !isNaN(d.rank)\r\n  );\r\n\r\n  // Liaison des données et création des cercles\r\n  g.selectAll('circle')\r\n    .data(cleanedData)\r\n    .enter()\r\n    .append('circle')\r\n    .attr('class', 'bubble1');\r\n\r\n  // Mise à jour des attributs des cercles\r\n  g.selectAll('.bubble1')\r\n    .data(cleanedData)\r\n    .attr('r', d => rScale(\r\n      d.oscarsData.oscarNominations + d.goldenGlobesData.goldenGlobesNominations\r\n    ))\r\n    .attr('fill', d => colorScale(d.year))\r\n    .style('opacity', 0.85)\r\n    .attr('stroke', 'white');\r\n}\r\n\r\n/**\r\n * Updates the position of the circles based on their bound data.\r\n *\r\n * @param {object} g The D3 selection of the <g> element containing the circles\r\n * @param {*} xScale The x scale used to position the circles\r\n * @param {*} yScale The y scale used to position the circles\r\n * @param {number} transitionDuration The duration of the transition\r\n */\r\nexport function moveCircles(g, xScale, yScale, transitionDuration) {\r\n  g.selectAll('.bubble1')\r\n    .transition()\r\n    .duration(transitionDuration)\r\n    .attr('cx', d => xScale(d.box_office))\r\n    .attr('cy', d => yScale(d.rank));\r\n}\r\n\r\n\r\n/**\r\n * Sets up the hover event handler. The tooltip should show on on hover.\r\n *\r\n * @param {*} tip The tooltip\r\n */\r\nexport function setCircleHoverHandler (g,tip) {\r\n  // TODO : Set hover handler. The tooltip shows on\r\n  // hover and the opacity goes up to 100% (from 70%)\r\n\r\n                             // On sélectionne le graphe et les bulles\r\n    g.selectAll('.bubble1')                                  \r\n\r\n    .on('mouseover', function (e,d){              // Quand la souris passe dessus\r\n      d3.select(this).style('opacity', 1);        // Opacité -> 100%\r\n      tip.show(d, this);                          // On montre le tip \r\n    })\r\n    .on('mouseout', function (e,d){               // Quand la souris sort\r\n      d3.select(this).style('opacity', 0.85);      // Opacité -> 70%\r\n      tip.hide(d, this);                          // On cache le tip \r\n    });\r\n}\r\n\r\n\r\n/**\r\n * Update the title of the graph.\r\n */\r\nexport function setTitleText (year) {\r\n  // TODO : Set the title\r\n  d3.select('#graph-g')                 // Sélection du graphe\r\n    .select('.title1')                   // Sélection du titre\r\n    .text('Data for year : ');   // On change le texte (initialement vide) comme attendu\r\n}\r\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import map from \"./map\";\n\nexport default function() {\n  var keys = [],\n      sortKeys = [],\n      sortValues,\n      rollup,\n      nest;\n\n  function apply(array, depth, createResult, setResult) {\n    if (depth >= keys.length) {\n      if (sortValues != null) array.sort(sortValues);\n      return rollup != null ? rollup(array) : array;\n    }\n\n    var i = -1,\n        n = array.length,\n        key = keys[depth++],\n        keyValue,\n        value,\n        valuesByKey = map(),\n        values,\n        result = createResult();\n\n    while (++i < n) {\n      if (values = valuesByKey.get(keyValue = key(value = array[i]) + \"\")) {\n        values.push(value);\n      } else {\n        valuesByKey.set(keyValue, [value]);\n      }\n    }\n\n    valuesByKey.each(function(values, key) {\n      setResult(result, key, apply(values, depth, createResult, setResult));\n    });\n\n    return result;\n  }\n\n  function entries(map, depth) {\n    if (++depth > keys.length) return map;\n    var array, sortKey = sortKeys[depth - 1];\n    if (rollup != null && depth >= keys.length) array = map.entries();\n    else array = [], map.each(function(v, k) { array.push({key: k, values: entries(v, depth)}); });\n    return sortKey != null ? array.sort(function(a, b) { return sortKey(a.key, b.key); }) : array;\n  }\n\n  return nest = {\n    object: function(array) { return apply(array, 0, createObject, setObject); },\n    map: function(array) { return apply(array, 0, createMap, setMap); },\n    entries: function(array) { return entries(apply(array, 0, createMap, setMap), 0); },\n    key: function(d) { keys.push(d); return nest; },\n    sortKeys: function(order) { sortKeys[keys.length - 1] = order; return nest; },\n    sortValues: function(order) { sortValues = order; return nest; },\n    rollup: function(f) { rollup = f; return nest; }\n  };\n}\n\nfunction createObject() {\n  return {};\n}\n\nfunction setObject(object, key, value) {\n  object[key] = value;\n}\n\nfunction createMap() {\n  return map();\n}\n\nfunction setMap(map, key, value) {\n  map.set(key, value);\n}\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume it’s an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","export default function(map) {\n  var keys = [];\n  for (var key in map) keys.push(key);\n  return keys;\n}\n","export default function(map) {\n  var values = [];\n  for (var key in map) values.push(map[key]);\n  return values;\n}\n","export default function(map) {\n  var entries = [];\n  for (var key in map) entries.push({key: key, value: map[key]});\n  return entries;\n}\n","export {default as nest} from \"./nest\";\nexport {default as set} from \"./set\";\nexport {default as map} from \"./map\";\nexport {default as keys} from \"./keys\";\nexport {default as values} from \"./values\";\nexport {default as entries} from \"./entries\";\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like “__proto__”.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_join from \"./join\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import creator from \"./creator\";\nimport select from \"./select\";\n\nexport default function(name) {\n  return select(creator(name).call(document.documentElement));\n}\n","var nextId = 0;\n\nexport default function local() {\n  return new Local;\n}\n\nfunction Local() {\n  this._ = \"@\" + (++nextId).toString(36);\n}\n\nLocal.prototype = local.prototype = {\n  constructor: Local,\n  get: function(node) {\n    var id = this._;\n    while (!(id in node)) if (!(node = node.parentNode)) return;\n    return node[id];\n  },\n  set: function(node, value) {\n    return node[this._] = value;\n  },\n  remove: function(node) {\n    return this._ in node && delete node[this._];\n  },\n  toString: function() {\n    return this._;\n  }\n};\n","import {event} from \"./selection/on\";\n\nexport default function() {\n  var current = event, source;\n  while (source = current.sourceEvent) current = source;\n  return current;\n}\n","export default function(node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node) {\n  var event = sourceEvent();\n  if (event.changedTouches) event = event.changedTouches[0];\n  return point(node, event);\n}\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([selector == null ? [] : selector], root);\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches, identifier) {\n  if (arguments.length < 3) identifier = touches, touches = sourceEvent().changedTouches;\n\n  for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {\n    if ((touch = touches[i]).identifier === identifier) {\n      return point(node, touch);\n    }\n  }\n\n  return null;\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches) {\n  if (touches == null) touches = sourceEvent().touches;\n\n  for (var i = 0, n = touches ? touches.length : 0, points = new Array(n); i < n; ++i) {\n    points[i] = point(node, touches[i]);\n  }\n\n  return points;\n}\n","export {default as create} from \"./create\";\nexport {default as creator} from \"./creator\";\nexport {default as local} from \"./local\";\nexport {default as matcher} from \"./matcher\";\nexport {default as mouse} from \"./mouse\";\nexport {default as namespace} from \"./namespace\";\nexport {default as namespaces} from \"./namespaces\";\nexport {default as clientPoint} from \"./point\";\nexport {default as select} from \"./select\";\nexport {default as selectAll} from \"./selectAll\";\nexport {default as selection} from \"./selection/index\";\nexport {default as selector} from \"./selector\";\nexport {default as selectorAll} from \"./selectorAll\";\nexport {styleValue as style} from \"./selection/style\";\nexport {default as touch} from \"./touch\";\nexport {default as touches} from \"./touches\";\nexport {default as window} from \"./window\";\nexport {event, customEvent} from \"./selection/on\";\n","/**\n * d3.tip\n * Copyright (c) 2013-2017 Justin Palmer\n *\n * Tooltips for d3.js SVG visualizations\n */\n// eslint-disable-next-line no-extra-semi\nimport { map } from 'd3-collection'\nimport { selection, select } from 'd3-selection'\n// Public - constructs a new tooltip\n//\n// Returns a tip\nexport default function() {\n  var direction   = d3TipDirection,\n      offset      = d3TipOffset,\n      html        = d3TipHTML,\n      rootElement = document.body,\n      node        = initNode(),\n      svg         = null,\n      point       = null,\n      target      = null\n\n  function tip(vis) {\n    svg = getSVGNode(vis)\n    if (!svg) return\n    point = svg.createSVGPoint()\n    rootElement.appendChild(node)\n  }\n\n  // Public - show the tooltip on the screen\n  //\n  // Returns a tip\n  tip.show = function() {\n    var args = Array.prototype.slice.call(arguments)\n    if (args[args.length - 1] instanceof SVGElement) target = args.pop()\n\n    var content = html.apply(this, args),\n        poffset = offset.apply(this, args),\n        dir     = direction.apply(this, args),\n        nodel   = getNodeEl(),\n        i       = directions.length,\n        coords,\n        scrollTop  = document.documentElement.scrollTop ||\n      rootElement.scrollTop,\n        scrollLeft = document.documentElement.scrollLeft ||\n      rootElement.scrollLeft\n\n    nodel.html(content)\n      .style('opacity', 1).style('pointer-events', 'all')\n\n    while (i--) nodel.classed(directions[i], false)\n    coords = directionCallbacks.get(dir).apply(this)\n    nodel.classed(dir, true)\n      .style('top', (coords.top + poffset[0]) + scrollTop + 'px')\n      .style('left', (coords.left + poffset[1]) + scrollLeft + 'px')\n\n    return tip\n  }\n\n  // Public - hide the tooltip\n  //\n  // Returns a tip\n  tip.hide = function() {\n    var nodel = getNodeEl()\n    nodel.style('opacity', 0).style('pointer-events', 'none')\n    return tip\n  }\n\n  // Public: Proxy attr calls to the d3 tip container.\n  // Sets or gets attribute value.\n  //\n  // n - name of the attribute\n  // v - value of the attribute\n  //\n  // Returns tip or attribute value\n  // eslint-disable-next-line no-unused-vars\n  tip.attr = function(n, v) {\n    if (arguments.length < 2 && typeof n === 'string') {\n      return getNodeEl().attr(n)\n    }\n\n    var args =  Array.prototype.slice.call(arguments)\n    selection.prototype.attr.apply(getNodeEl(), args)\n    return tip\n  }\n\n  // Public: Proxy style calls to the d3 tip container.\n  // Sets or gets a style value.\n  //\n  // n - name of the property\n  // v - value of the property\n  //\n  // Returns tip or style property value\n  // eslint-disable-next-line no-unused-vars\n  tip.style = function(n, v) {\n    if (arguments.length < 2 && typeof n === 'string') {\n      return getNodeEl().style(n)\n    }\n\n    var args = Array.prototype.slice.call(arguments)\n    selection.prototype.style.apply(getNodeEl(), args)\n    return tip\n  }\n\n  // Public: Set or get the direction of the tooltip\n  //\n  // v - One of n(north), s(south), e(east), or w(west), nw(northwest),\n  //     sw(southwest), ne(northeast) or se(southeast)\n  //\n  // Returns tip or direction\n  tip.direction = function(v) {\n    if (!arguments.length) return direction\n    direction = v == null ? v : functor(v)\n\n    return tip\n  }\n\n  // Public: Sets or gets the offset of the tip\n  //\n  // v - Array of [x, y] offset\n  //\n  // Returns offset or\n  tip.offset = function(v) {\n    if (!arguments.length) return offset\n    offset = v == null ? v : functor(v)\n\n    return tip\n  }\n\n  // Public: sets or gets the html value of the tooltip\n  //\n  // v - String value of the tip\n  //\n  // Returns html value or tip\n  tip.html = function(v) {\n    if (!arguments.length) return html\n    html = v == null ? v : functor(v)\n\n    return tip\n  }\n\n  // Public: sets or gets the root element anchor of the tooltip\n  //\n  // v - root element of the tooltip\n  //\n  // Returns root node of tip\n  tip.rootElement = function(v) {\n    if (!arguments.length) return rootElement\n    rootElement = v == null ? v : functor(v)\n\n    return tip\n  }\n\n  // Public: destroys the tooltip and removes it from the DOM\n  //\n  // Returns a tip\n  tip.destroy = function() {\n    if (node) {\n      getNodeEl().remove()\n      node = null\n    }\n    return tip\n  }\n\n  function d3TipDirection() { return 'n' }\n  function d3TipOffset() { return [0, 0] }\n  function d3TipHTML() { return ' ' }\n\n  var directionCallbacks = map({\n        n:  directionNorth,\n        s:  directionSouth,\n        e:  directionEast,\n        w:  directionWest,\n        nw: directionNorthWest,\n        ne: directionNorthEast,\n        sw: directionSouthWest,\n        se: directionSouthEast\n      }),\n      directions = directionCallbacks.keys()\n\n  function directionNorth() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.n.y - node.offsetHeight,\n      left: bbox.n.x - node.offsetWidth / 2\n    }\n  }\n\n  function directionSouth() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.s.y,\n      left: bbox.s.x - node.offsetWidth / 2\n    }\n  }\n\n  function directionEast() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.e.y - node.offsetHeight / 2,\n      left: bbox.e.x\n    }\n  }\n\n  function directionWest() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.w.y - node.offsetHeight / 2,\n      left: bbox.w.x - node.offsetWidth\n    }\n  }\n\n  function directionNorthWest() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.nw.y - node.offsetHeight,\n      left: bbox.nw.x - node.offsetWidth\n    }\n  }\n\n  function directionNorthEast() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.ne.y - node.offsetHeight,\n      left: bbox.ne.x\n    }\n  }\n\n  function directionSouthWest() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.sw.y,\n      left: bbox.sw.x - node.offsetWidth\n    }\n  }\n\n  function directionSouthEast() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.se.y,\n      left: bbox.se.x\n    }\n  }\n\n  function initNode() {\n    var div = select(document.createElement('div'))\n    div\n      .style('position', 'absolute')\n      .style('top', 0)\n      .style('opacity', 0)\n      .style('pointer-events', 'none')\n      .style('box-sizing', 'border-box')\n\n    return div.node()\n  }\n\n  function getSVGNode(element) {\n    var svgNode = element.node()\n    if (!svgNode) return null\n    if (svgNode.tagName.toLowerCase() === 'svg') return svgNode\n    return svgNode.ownerSVGElement\n  }\n\n  function getNodeEl() {\n    if (node == null) {\n      node = initNode()\n      // re-add node to DOM\n      rootElement.appendChild(node)\n    }\n    return select(node)\n  }\n\n  // Private - gets the screen coordinates of a shape\n  //\n  // Given a shape on the screen, will return an SVGPoint for the directions\n  // n(north), s(south), e(east), w(west), ne(northeast), se(southeast),\n  // nw(northwest), sw(southwest).\n  //\n  //    +-+-+\n  //    |   |\n  //    +   +\n  //    |   |\n  //    +-+-+\n  //\n  // Returns an Object {n, s, e, w, nw, sw, ne, se}\n  function getScreenBBox(targetShape) {\n    var targetel   = target || targetShape\n\n    while (targetel.getScreenCTM == null && targetel.parentNode != null) {\n      targetel = targetel.parentNode\n    }\n\n    var bbox       = {},\n        matrix     = targetel.getScreenCTM(),\n        tbbox      = targetel.getBBox(),\n        width      = tbbox.width,\n        height     = tbbox.height,\n        x          = tbbox.x,\n        y          = tbbox.y\n\n    point.x = x\n    point.y = y\n    bbox.nw = point.matrixTransform(matrix)\n    point.x += width\n    bbox.ne = point.matrixTransform(matrix)\n    point.y += height\n    bbox.se = point.matrixTransform(matrix)\n    point.x -= width\n    bbox.sw = point.matrixTransform(matrix)\n    point.y -= height / 2\n    bbox.w = point.matrixTransform(matrix)\n    point.x += width\n    bbox.e = point.matrixTransform(matrix)\n    point.x -= width / 2\n    point.y -= height / 2\n    bbox.n = point.matrixTransform(matrix)\n    point.y += height\n    bbox.s = point.matrixTransform(matrix)\n\n    return bbox\n  }\n\n  // Private - replace D3JS 3.X d3.functor() function\n  function functor(v) {\n    return typeof v === 'function' ? v : function() {\n      return v\n    }\n  }\n\n  return tip\n}\n","import { parseRuntime } from '../scripts/helper.js'\r\n\r\n/**\r\n* \r\n* @param {float} movieLength \r\n* @param {int} interval_size \r\n* @returns {string} The movie length interval in the format \"0-60\", \"61-{60+interval_size}\", \"{60+interval_size+1}-{60+2*interval_size}\", etc.\r\n*/\r\n\r\nfunction getMovieLengthInterval(movieLength, interval_size) {\r\n\r\n    // first interval is alway 0-60\r\n    if (movieLength < 61) return \"0-60\";\r\n\r\n    // other res interval are such that : movieLenght in res, length(res) = interval_size \r\n    const floor = Math.floor((movieLength - 60) / interval_size) * interval_size + 60;\r\n\r\n\r\n    return `${floor}-${floor + interval_size}`;\r\n}\r\n\r\n\r\n/**\r\n * Gets movies with the same field value as the specified movie\r\n * @param {Array} data - movie dataset\r\n * @param {int} intervalsLenght - La longueur des intervalles de dates, e.g : intervalsLenght : 5 -> intervals [1921,1925],[1926,1930]...\r\n * @param {string} selectedMetric - La métrique utilisé pour l'analyse (e.g., \"box_office\", \"profit\", \"rating\", \"numNominations\")\r\n * @returns {Object} data in the form \r\n * { \r\n *  \"[1921, 1925]\": {\r\n * \r\n *          \"totalMetric\" : float //pour rating = num movies dans cet interval\r\n * \r\n *          \"metricPerGenre\" : {\r\n *              \"Action\" : float //pour rating = num movies de ce genre dans cet interval\r\n *              \"Drama\" : float,\r\n *               ...\r\n *              },\r\n * \r\n *           \"metricsPerMovieLenght\" : {\r\n *                \"0-100\" : float //pour rating = num movies de cette longueur dans cet interval\r\n *               \"100-110\" : float,\r\n *               ...\r\n *               },\r\n * \r\n *           \"metricsPerCertificate\" : {\r\n *                \"R\" : float //pour rating = num movies de cette catégorie dans cet interval\r\n *                \"PG-13\" : float,\r\n *                 ...\r\n *                },\r\n *      },\r\n * \r\n *  \"[1926, 1930]\": {\r\n *      ...\r\n *      },\r\n * \r\n *  ...\r\n * \r\n *  \"[2016, 2020]\": {\r\n *      ...\r\n *      }\r\n * }\r\n */\r\nexport function getDataPerTimeInterval(data, intervalsLenght, selectedMetric) {\r\n\r\n    const res = {};\r\n\r\n\r\n    // We do the process for a tmp dict with key = only the year\r\n    const tmp = {};\r\n\r\n    for (const movie of data) {\r\n\r\n        const year = movie.year;\r\n        if (!tmp[year]) {\r\n            tmp[year] = {\r\n                totalMetric: 0,\r\n                metricPerGenre: {},\r\n                metricsPerMovieLenght: {},\r\n                metricsPerCertificate: {}\r\n            };\r\n        }\r\n\r\n        // Add the movie contribution to this year\r\n        const yearElem = tmp[year];\r\n\r\n        let metric = null;\r\n        if (selectedMetric === \"box_office\") {\r\n            if (typeof movie.box_office === \"number\") {\r\n                metric = movie.box_office;\r\n            }\r\n            else {\r\n                metric = 0;\r\n            }\r\n        }\r\n        if (selectedMetric === \"rating\")\r\n            metric = 1; // for rating, we just count the number of movies in the interval\r\n\r\n        if (selectedMetric === \"profit\") {\r\n            if (typeof movie.profit === \"number\") {\r\n                metric = movie.profit;\r\n            }\r\n            else {\r\n                metric = 0;\r\n            }\r\n        }\r\n\r\n        if (selectedMetric === \"numNominations\") {\r\n            const ggNomination = movie.goldenGlobesData ? (movie.goldenGlobesData.goldenGlobesNominations ? (typeof movie.goldenGlobesData.goldenGlobesNominations === \"number\" ? movie.goldenGlobesData.goldenGlobesNominations : 0) : 0) : 0;\r\n            const oscarNomination = movie.oscarsData ? (movie.oscarsData.oscarNominations ? (typeof movie.oscarsData.oscarNominations === \"number\" ? movie.oscarsData.oscarNominations : 0) : 0) : 0;\r\n            metric = ggNomination + oscarNomination;\r\n        }\r\n\r\n        if (movie.box_office) {\r\n            yearElem.totalMetric += metric;\r\n        }\r\n        movie.genre.forEach(genre => {\r\n            if (!yearElem.metricPerGenre[genre]) yearElem.metricPerGenre[genre] = 0;\r\n            yearElem.metricPerGenre[genre] += metric;\r\n        })\r\n        const movieLength = parseRuntime(movie.run_time);\r\n        if (movieLength) {\r\n            const lengthInterval = getMovieLengthInterval(movieLength, 5);\r\n            if (!yearElem.metricsPerMovieLenght[lengthInterval]) yearElem.metricsPerMovieLenght[lengthInterval] = 0;\r\n            yearElem.metricsPerMovieLenght[lengthInterval] += metric;\r\n        }\r\n        if (movie.certificate) {\r\n            if (!yearElem.metricsPerCertificate[movie.certificate]) yearElem.metricsPerCertificate[movie.certificate] = 0;\r\n            yearElem.metricsPerCertificate[movie.certificate] += metric;\r\n        }\r\n    }\r\n\r\n    // Now we need to reduce the tmp dict by grouping the years by intervals\r\n    for (const year in tmp) {\r\n        const yearElem = tmp[year];\r\n        const interval = `[${Math.floor(year / intervalsLenght) * intervalsLenght}, ${Math.floor(year / intervalsLenght) * intervalsLenght + intervalsLenght}]`;\r\n\r\n        if (!res[interval]) {\r\n            res[interval] = {\r\n                totalMetric: 0,\r\n                metricPerGenre: {},\r\n                metricsPerMovieLenght: {},\r\n                metricsPerCertificate: {}\r\n            };\r\n        }\r\n\r\n        const res_elem = res[interval];\r\n\r\n\r\n        res_elem.totalMetric += yearElem.totalMetric;\r\n\r\n        Object.keys(yearElem.metricPerGenre).forEach(genre => {\r\n            if (!res_elem.metricPerGenre[genre]) res_elem.metricPerGenre[genre] = 0;\r\n            res_elem.metricPerGenre[genre] += yearElem.metricPerGenre[genre];\r\n        })\r\n\r\n        Object.keys(yearElem.metricsPerMovieLenght).forEach(lengthInterval => {\r\n            if (!res_elem.metricsPerMovieLenght[lengthInterval]) res_elem.metricsPerMovieLenght[lengthInterval] = 0;\r\n            res_elem.metricsPerMovieLenght[lengthInterval] += yearElem.metricsPerMovieLenght[lengthInterval];\r\n        })\r\n\r\n        Object.keys(yearElem.metricsPerCertificate).forEach(certificate => {\r\n            if (!res_elem.metricsPerCertificate[certificate]) res_elem.metricsPerCertificate[certificate] = 0;\r\n            res_elem.metricsPerCertificate[certificate] += yearElem.metricsPerCertificate[certificate];\r\n        })\r\n    }\r\n    return res;\r\n}\r\n\r\n\r\n\r\n/**\r\n * \r\n * @param {object} intervalData - res of preceding function in form \r\n * { \r\n *  \"[1921, 1925]\": {\r\n * \r\n *          \"totalMetric\" : float //pour rating = num movies dans cet interval\r\n * \r\n *          \"metricPerGenre\" : {\r\n *              \"Action\" : float //pour rating = num movies de ce genre dans cet interval\r\n *              \"Drama\" : float,\r\n *               ...\r\n *              },\r\n * \r\n *           \"metricsPerMovieLenght\" : {\r\n *                \"0-100\" : float //pour rating = num movies de cette longueur dans cet interval\r\n *               \"100-110\" : float,\r\n *               ...\r\n *               },\r\n * \r\n *           \"metricsPerCertificate\" : {\r\n *                \"R\" : float //pour rating = num movies de cette catégorie dans cet interval\r\n *                \"PG-13\" : float,\r\n *                 ...\r\n *                },\r\n *      },\r\n * \r\n *  \"[1926, 1930]\": {\r\n *      ...\r\n *      },\r\n * \r\n *  ...\r\n * \r\n *  \"[2016, 2020]\": {\r\n *      ...\r\n *      }\r\n * }\r\n * @param {string} selectedFilter - Le filtre utilisé pour l'analyse (e.g., \"genre\", \"movieLength\", \"certificate\")\r\n * @returns {object} res in the form\r\n * {\r\n * \"[1921, 1925]\" : {\r\n *      metricForfilter (metricPerselectedFilter) : {\r\n *          \"Action\" : float //e.g: 0.5\r\n *          \"Drama\" : float //e.g: 0.2\r\n *              ...\r\n *          },\r\n *      },\r\n *  [1926, 1930] : {...}\r\n *   ...\r\n * } \r\n */\r\n\r\n\r\nexport function getMarketPerTimeInterval(intervalData, selectedFilter) {\r\n    const res = {};\r\n\r\n\r\n    for (const interval in intervalData) {\r\n        const intervalElem = intervalData[interval];\r\n\r\n\r\n        res[interval] = {\r\n            metricForfilter: {}\r\n        };\r\n\r\n\r\n        const res_elem = res[interval];\r\n\r\n        // On normalise les valeurs par rapport à la somme des valeurs de chaque intervalle\r\n\r\n        // Par exemple si on a prix la métrique \"profit\", les valeurs de profits peuvent être négatives, donc pour chaque intervalle on calcule le min et si il est négatif on l'ajoute à chaque valeur de l'intervalle pour que toutes les valeurs soient positives.\r\n\r\n        if (selectedFilter === \"genre\") {\r\n\r\n            // Calcule du min :\r\n            const minG = Math.min(...Object.values(intervalElem.metricPerGenre));\r\n            if (minG < 0)\r\n                Object.keys(intervalElem.metricPerGenre).forEach(genre => {\r\n                    intervalElem.metricPerGenre[genre] += -minG;\r\n                })\r\n\r\n            const sum_genre_metric = Object.values(intervalElem.metricPerGenre).reduce((acc, val) => acc + val, 0);\r\n            Object.keys(intervalElem.metricPerGenre).forEach(genre => {\r\n                res_elem.metricForfilter[genre] = intervalElem.metricPerGenre[genre] / sum_genre_metric;\r\n            })\r\n        }\r\n        if (selectedFilter === \"movieLength\") {\r\n\r\n            const minML = Math.min(...Object.values(intervalElem.metricsPerMovieLenght));\r\n            if (minML < 0)\r\n                Object.keys(intervalElem.metricsPerMovieLenght).forEach(lengthInterval => {\r\n                    intervalElem.metricsPerMovieLenght[lengthInterval] += -minML;\r\n                })\r\n            const sum_lenght_metric = Object.values(intervalElem.metricsPerMovieLenght).reduce((acc, val) => acc + val, 0);\r\n            Object.keys(intervalElem.metricsPerMovieLenght).forEach(lengthInterval => {\r\n                res_elem.metricForfilter[lengthInterval] = intervalElem.metricsPerMovieLenght[lengthInterval] / sum_lenght_metric;\r\n            })\r\n        }\r\n\r\n        if (selectedFilter === \"certificate\") {\r\n\r\n            const minC = Math.min(...Object.values(intervalElem.metricsPerCertificate));\r\n            if (minC < 0)\r\n                Object.keys(intervalElem.metricsPerCertificate).forEach(certificate => {\r\n                    intervalElem.metricsPerCertificate[certificate] += -minC;\r\n                })\r\n\r\n            const sum_certificate_metric = Object.values(intervalElem.metricsPerCertificate).reduce((acc, val) => acc + val, 0);\r\n            Object.keys(intervalElem.metricsPerCertificate).forEach(certificate => {\r\n                res_elem.metricForfilter[certificate] = intervalElem.metricsPerCertificate[certificate] / sum_certificate_metric;\r\n            })\r\n        }\r\n    }\r\n    return res;\r\n}\r\n\r\n\r\n/**\r\n * \r\n * @param {*} marketData - res of preceding function \r\n * @param {*} maxLines - object of the same form as marketData, but with the number of element in metricsForfilter limited to maxLines by regrouping the last elements in \"Other\" - and we store the list of present category in the res object to be able to display the legend\r\n * * @returns {object} res in the form\r\n * {\r\n * \"presentCategory\": [\"Action\", \"Drama\", ...],}\r\n * \"intervals\" : {\r\n *    \"[1921, 1925]\" : {}...}\r\n *    }\r\n * }\r\n */\r\n\r\nexport function reduceNumberOfLine(marketData, maxLines) {\r\n\r\n    const res = { \"presentCategory\": [], \"intervals\": {} };\r\n\r\n    for (const interval in marketData) {\r\n        const intervalElem = marketData[interval];\r\n        const res_elem = res[\"intervals\"][interval] = { metricForfilter: {} };\r\n\r\n\r\n        // Sort the genres by value\r\n        const sortedGenres = Object.entries(intervalElem.metricForfilter).sort((a, b) => b[1] - a[1]);\r\n\r\n\r\n        // Keep only the first maxLines elements and group the others in \"Other\"\r\n        const topGenres = sortedGenres.slice(0, maxLines - 1);\r\n        const otherGenres = sortedGenres.slice(maxLines - 1);\r\n\r\n\r\n        topGenres.forEach(([genre, value]) => {\r\n            res_elem.metricForfilter[genre] = value;\r\n            res[\"presentCategory\"].push(genre);\r\n        })\r\n\r\n\r\n        // Add the \"Other\" category\r\n        res_elem.metricForfilter[\"Other\"] = otherGenres.reduce((acc, [_, value]) => acc + value, 0);\r\n    }\r\n\r\n    // Remove duplicates from presentCategory\r\n    res[\"presentCategory\"] = [...new Set(res[\"presentCategory\"])];\r\n    res[\"presentCategory\"].push(\"Other\");\r\n    return res;\r\n}\r\n\r\n/**\r\n * @param {object} marketDataSmall - res of preceding function\r\n * @returns {object} res in the form\r\n * [\r\n *  { interval: \"[1920, 1928]\", Comedy: 0.28, Drama: 0.21, ..., Other: 0.*  21 },\r\n *  { interval: \"[1928, 1936]\", Comedy: 0.18, Drama: 0.18, ..., Other: 0.*  36 },\r\n *  ...\r\n * ]\r\n*/\r\n\r\n\r\nexport function stackData(marketDataSmall) {\r\n\r\n    return Object.entries(marketDataSmall.intervals).map(([interval, data]) => {\r\n        const row = { interval };\r\n        marketDataSmall.presentCategory.forEach(cat => {\r\n            row[cat] = data.metricForfilter[cat] || 0;\r\n        });\r\n        return row;\r\n    });\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","/**\r\n * Generates a specific <g> container inside a given SVG container.\r\n *\r\n * @param {string} svgSelector The selector of the SVG container (e.g. \".viz1-svg\" or \".film-impact-svg\")\r\n * @param {object} margin The desired margins around the graph\r\n * @param {string} id Optional ID or class for the <g> container\r\n * @returns {*} The d3 Selection for the created g element\r\n */\r\nexport function generateG(svgSelector, margin, id = null) {\r\n    const g = svgSelector\r\n        .append('g')\r\n        .attr('transform', `translate(${margin.left},${margin.top})`);\r\n\r\n    if (id) {\r\n        g.attr('id', id);\r\n    }\r\n\r\n    return g;\r\n}\r\n\r\n\r\n\r\n/**\r\n * Sets the size of the SVG canvas containing the graph.\r\n *\r\n * @param {number} width The desired width\r\n * @param {number} height The desired height\r\n */\r\nexport function setCanvasSize(width, height) {\r\n    d3.select('.tendance-timeline-svg')\r\n        .attr('width', width)\r\n        .attr('height', height)\r\n}\r\n\r\n/**\r\n * Appends an SVG g element which will contain the axes.\r\n *\r\n * @param {*} g The d3 Selection of the graph's g SVG element\r\n */\r\nexport function appendAxes(g) {\r\n    g.append('g')\r\n        .attr('class', 'x3 axis')\r\n\r\n    g.append('g')\r\n        .attr('class', 'y3 axis')\r\n}\r\n/**\r\n * Appends the labels for the the y axis and the title of the graph.\r\n *\r\n * @param {*} g The d3 Selection of the graph's g SVG element\r\n */\r\nexport function appendGraphLabels(g) {\r\n    g.append('text')\r\n        .text('Distribution du marché (de 0 à 100%)')\r\n        .attr('class', 'y axis-text')\r\n        .attr('transform', 'rotate(-90)')\r\n        .attr('font-size', 12)\r\n\r\n    g.append('text')\r\n        .text('Années')\r\n        .attr('class', 'x axis-text')\r\n        .attr('font-size', 12)\r\n}\r\n\r\n/**\r\n* Positions the x axis label and y axis label.\r\n*\r\n* @param {*} g The d3 Selection of the graph's g SVG element\r\n* @param {number} width The width of the graph\r\n* @param {number} height The height of the graph\r\n*/\r\nexport function positionLabels(g, width, height) {\r\n    // TODO : Position axis labels\r\n    g.select('.x.axis-text')\r\n        .attr('transform', 'translate(' + width / 2 + ', ' + (height + 50) + ')');    // On décale le label x à la moitié de la largeur\r\n\r\n    g.select('.y.axis-text')\r\n        .attr('transform', 'translate(-50, ' + height / 2 + ')rotate(-90)');      // On décale le label x à la moitié de la hauteur\r\n}\r\n\r\n/**\r\n * Draws the X axis at the bottom of the diagram.\r\n *\r\n * @param {*} xScale The scale to use to draw the axis\r\n * @param {number} height The height of the graphic\r\n */\r\nexport function drawXAxis(xScale, height, intervals) {\r\n\r\n    const tickStep = Math.ceil(intervals.length / 12);\r\n    const filteredTicks = intervals.filter((_, i) => i % tickStep === 0);\r\n\r\n\r\n    d3.select('.x3.axis')\r\n        .attr('transform', 'translate( 0, ' + height + ')')\r\n        .call(d3.axisBottom(xScale)\r\n            .tickValues(filteredTicks)\r\n            .tickFormat(d => d)\r\n        );\r\n    // .tickSizeOuter(0)\r\n    // .ticks(10)\r\n    // .tickFormat(d3.format(\"d\")));\r\n}\r\n\r\n/**\r\n * Draws the Y axis to the left of the diagram.\r\n *\r\n * @param {*} yScale The scale to use to draw the axis\r\n */\r\nexport function drawYAxis(yScale) {\r\n    d3.select('.y3.axis')\r\n        .call(d3.axisLeft(yScale)\r\n            .tickSizeOuter(0)\r\n            .ticks(10)\r\n            .tickFormat(d3.format(\".2f\")));\r\n}","/**\r\n *\r\n *\r\n * @param {number} width The width of the graph\r\n * @param {object} data The data to be used\r\n * @returns {*} The linear scale in X\r\n */\r\nexport function setXScale(width, intervals) {\r\n  // TODO : Set scale\r\n\r\n  const xScale = d3.scaleBand()\r\n    .domain(intervals) // Les intervalles deviennent les domaines\r\n    .range([0, width])\r\n    .padding(0);\r\n\r\n  return xScale;\r\n}\r\n\r\n/**\r\n *\r\n *\r\n * @param {number} height The height of the graph\r\n * @returns {*} The linear scale in Y\r\n */\r\nexport function setYScale(height) {\r\n\r\n  const yScale = d3.scaleLinear()\r\n    .domain([0, 1])\r\n    .range([height, 0]);\r\n\r\n  return yScale\r\n}","export function createLegend(viz3MarketPerIntervalSmall, legendDiv, colorScale) {\r\n    // Ajouter les noms associés aux couleurs dans la légende -> insérer dans legendDiv\r\n    viz3MarketPerIntervalSmall.presentCategory.forEach(cat => {\r\n        const item = legendDiv.append(\"div\")\r\n            .style(\"display\", \"flex\")\r\n            .style(\"align-items\", \"center\");\r\n\r\n        item.append(\"div\")\r\n            .style(\"width\", \"30px\")\r\n            .style(\"height\", \"15px\")\r\n            .style(\"background-color\", colorScale(cat))\r\n            .style(\"margin-right\", \"5px\");\r\n\r\n        item.append(\"span\")\r\n            .text(cat)\r\n            .style(\"font-size\", \"12px\")\r\n    });\r\n}","/**\r\n * Defines the contents of the tooltip. See CSS for tooltip styling.\r\n * The tooltip features the movie name, box office, total nominations,\r\n * rank, and release year.\r\n *\r\n * @param {object} d The data associated to the hovered element\r\n * @returns {string} The tooltip contents\r\n */\r\nexport function getContents(d, colorScale) {\r\n\r\n\r\n\r\n  return `<div class=\"tooltip-value\" style=\"\r\n      z-index: 6;\r\n      background: linear-gradient(90deg,rgb(143, 143, 143) 0%,rgba(166, 166, 166, 0.4) 100%);\r\n      padding: 12px;\r\n      border-radius: 6px;\r\n      color: white;\r\n      backdrop-filter: blur(5px);\r\n      box-shadow: 1px -1px 10px 0px rgba(0, 0, 0, 0.3);\r\n      border-top : 1px solid ${colorScale(d.category)};\r\n      \"\r\n  >\r\n    <div style=\"margin: 4px 0; color: ${colorScale(d.category)}; filter : brightness(1.5);\">\r\n      <strong>🎬 Catégorie : </strong>${d.category}\r\n    </div>\r\n    <div style=\"margin: 4px 0;\">\r\n      <strong>📊 Part de marché : </strong> ${((d[1] - d[0]) * 100).toFixed(2)}%\r\n    </div>\r\n    <div style=\"margin: 4px 0;\">\r\n      <strong>📅 Date : </strong> ${d.data.interval}\r\n    </div>\r\n  </div>\r\n  `\r\n}\r\n\r\n\r\n/**\r\n * Sets up the hover event handler. The tooltip should show on on hover.\r\n *\r\n * @param {*} tip The tooltip\r\n */\r\nexport function setRectHoverHandler(g, tip) {\r\n  // TODO : Set hover handler. The tooltip shows on\r\n  // hover and the opacity goes up to 100% (from 70%)\r\n\r\n  g.selectAll('.rect3')\r\n    .on('mouseover', function (e, d) {              // Quand la souris passe dessus\r\n      d3.select(this)\r\n        .style('opacity', 0.8)\r\n        .style('cursor', 'pointer');\r\n      tip.show(d, this);                          // On montre le tip \r\n    })\r\n    .on('mouseout', function (e, d) {               // Quand la souris sort\r\n      d3.select(this).style('opacity', 1);      // Opacité -> 70%\r\n      tip.hide(d, this);                          // On cache le tip \r\n    });\r\n}","// Fonction pour sélectionner un rectangle au hasard et afficher ses infos\r\n\r\nexport function selectRandomRectangle() {\r\n    // Sélectionner tous les rectangles de la visualisation 3\r\n    const rectangles = d3.selectAll(\".bars .rect3\").nodes();\r\n\r\n    if (rectangles.length === 0) {\r\n        console.log(\"Aucun rectangle trouvé dans la visualisation 3.\");\r\n        return;\r\n    }\r\n\r\n    const filteredRectangles = rectangles.filter(rect => {\r\n        const rectData = d3.select(rect).datum();\r\n        return (rectData[1] - rectData[0]) > 0.1; // Condition\r\n    });\r\n\r\n    // Choisir un rectangle au hasard\r\n    const randomIndex = Math.floor(Math.random() * filteredRectangles.length);\r\n    const randomRect = filteredRectangles[randomIndex];\r\n\r\n\r\n    randomRect.setAttribute(\"stroke\", \"black\");\r\n    randomRect.setAttribute(\"stroke-width\", \"2\");\r\n    randomRect.setAttribute(\"stroke-dasharray\", \"4,2\");\r\n    randomRect.parentNode.appendChild(randomRect);\r\n    randomRect.parentNode.parentNode.appendChild(randomRect.parentNode);\r\n\r\n    // Récupérer les données associées au rectangle\r\n    const rectData = d3.select(randomRect).datum();\r\n\r\n    return {\r\n        category: rectData.category,\r\n        interval: rectData.data.interval,\r\n        proportion: `${((rectData[1] - rectData[0]) * 100).toFixed(2)}%`\r\n    }\r\n}\r\n\r\n\r\nexport function phraseExemple(dataExample, colorScale) {\r\n\r\n    const partsOfInterval = dataExample.interval.replace(\"[\", \"\").replace(\"]\", \"\").split(\",\");\r\n    const startYear = partsOfInterval[0].trim();\r\n    const endYear = partsOfInterval[1].trim();\r\n\r\n\r\n    const ExempleLecture = `\r\n    <div class=\"exempleViz3\">\r\n        Exemple de Lecture : Entre <strong>${startYear}</strong> et <strong>${endYear}</strong>, la catégorie <strong style=\"color : ${colorScale(dataExample.category)}\">${dataExample.category}</strong> représentait <strong>${dataExample.proportion}</strong> du marché.\r\n    </div>`\r\n\r\n    return ExempleLecture\r\n}","/**\r\n * Generates the SVG element g which will contain the data visualisation.\r\n *\r\n * @param {object} margin The desired margins around the graph\r\n * @returns {*} The d3 Selection for the created g element\r\n */\r\nexport function margeG (g, margin) {\r\n    g.attr('transform',\r\n        'translate(' + margin.left + ',' + margin.top + ')')\r\n  }\r\n  \r\n  /**\r\n   * Sets the size of the SVG canvas containing the graph.\r\n   *\r\n   * @param {number} width The desired width\r\n   * @param {number} height The desired height\r\n   */\r\n  export function setCanvasSize (width, height) {\r\n    d3.select('.film-impact-svg')\r\n      .attr('width', width)\r\n      .attr('height', height)\r\n  }\r\n  \r\n  /**\r\n   * Appends an SVG g element which will contain the axes.\r\n   *\r\n   * @param {*} g The d3 Selection of the graph's g SVG element\r\n   */\r\n  export function appendAxes (g) {\r\n    g.append('g')\r\n      .attr('class', 'x axis')\r\n  \r\n    g.append('g')\r\n      .attr('class', 'y axis')\r\n  }\r\n  /**\r\n   * Appends the labels for the the y axis and the title of the graph.\r\n   *\r\n   * @param {*} g The d3 Selection of the graph's g SVG element\r\n   */\r\n  export function appendGraphLabels (g) {\r\n    g.append('text')\r\n      .text('%')\r\n      .attr('class', 'y axis-text')\r\n      .attr('transform', 'rotate(-90)')\r\n      .attr('font-size', 12)\r\n  \r\n    g.append('text')\r\n      .text('Année')\r\n      .attr('class', 'x axis-text')\r\n      .attr('font-size', 12)\r\n  }\r\n\r\n  /**\r\n * Positions the x axis label and y axis label.\r\n *\r\n * @param {*} g The d3 Selection of the graph's g SVG element\r\n * @param {number} width The width of the graph\r\n * @param {number} height The height of the graph\r\n */\r\nexport function positionLabels (g, width, height) {\r\n    // TODO : Position axis labels\r\n    g.select('.x.axis-text')\r\n      .attr('transform', 'translate(' + width/2 + ', '+ (height+50) +')');    // On décale le label x à la moitié de la largeur\r\n  \r\n    g.select('.y.axis-text')\r\n      .attr('transform', 'translate(-50, ' + height/2 + ')rotate(-90)');      // On décale le label x à la moitié de la hauteur\r\n  }\r\n  \r\n  /**\r\n   * Draws the X axis at the bottom of the diagram.\r\n   *\r\n   * @param {*} xScale The scale to use to draw the axis\r\n   * @param {number} height The height of the graphic\r\n   */\r\n  export function drawXAxis (xScale, height) {\r\n    d3.select('.x.axis')\r\n      .attr('transform', 'translate( 0, ' + height + ')')\r\n      .call(d3.axisBottom(xScale)\r\n      .tickSizeOuter(0)\r\n      .ticks(10)\r\n      .tickFormat(d3.format(\"d\")));\r\n  }\r\n  \r\n  /**\r\n   * Draws the Y axis to the left of the diagram.\r\n   *\r\n   * @param {*} yScale The scale to use to draw the axis\r\n   */\r\n  export function drawYAxis (yScale) {\r\n    d3.select('.y.axis')\r\n      .call(d3.axisLeft(yScale)\r\n      .tickSizeOuter(0)\r\n      .ticks(5)\r\n      .tickFormat(d3.format(\"~s\")));\r\n  }","// Initialize the film list\r\nexport function initFilmList(filmArray) {\r\n\r\n    const filmData = d3.map(filmArray, d => String(d.name)).sort();\r\n    \r\n    // Initial render of all films\r\n    updateFilmList(filmData);\r\n    \r\n    // Set up search input event listener\r\n    d3.select(\"#search-input\").on(\"input\", function() {\r\n      const searchTerm = this.value.toLowerCase();\r\n      \r\n      if (searchTerm === \"\") {\r\n        updateFilmList(filmData);\r\n      } else {\r\n        const filteredFilms = filmData.filter(film =>\r\n            film.toLowerCase().includes(searchTerm)\r\n        );\r\n        updateFilmList(filteredFilms);\r\n      }\r\n    });\r\n  }\r\n  \r\n  // Update the displayed film list\r\n  export function updateFilmList(films) {\r\n    const list = d3.select(\"#movie-list\");\r\n    list.selectAll(\"*\").remove();\r\n    \r\n    if (films.length === 0) {\r\n        list.append(\"li\")\r\n      .style(\"color\", \"#999\")\r\n      .style(\"font-style\", \"italic\")\r\n      .style(\"padding\", \"8px 12px\")\r\n      .style(\"border-bottom\", \"1px solid #eee\")\r\n      .text(\"Aucun film trouvé\");\r\n  } else {\r\n    // Create all list items\r\n    list.selectAll(\"li\")\r\n       .data(films)\r\n       .enter()\r\n       .append(\"li\")\r\n       .style(\"padding\", \"8px 12px\")\r\n       .style(\"border-bottom\", \"1px solid #eee\")\r\n       .style(\"cursor\", \"pointer\")\r\n       .text(d => d)\r\n       .on(\"click\", function(_, d) {\r\n           d3.select(\"#search-input\").property(\"value\", d);\r\n           list.style(\"display\", \"none\");\r\n           console.log(\"Selected Movie : \", d);\r\n\r\n           document.dispatchEvent(new CustomEvent('viz4movieSelected', {\r\n            detail: {\r\n                movie: d,\r\n                timestamp: new Date()\r\n            }\r\n        }));\r\n       });\r\n  }\r\n    \r\n    // Always show all results but in a scrollable container\r\n    list.style(\"display\", \"block\")\r\n       .style(\"max-height\", \"100px\")  // Fixed height for scrolling\r\n       .style(\"overflow-y\", \"auto\");  // Enable vertical scroll\r\n    \r\n    \r\n    \r\n    // Remove border from last item\r\n    list.selectAll(\"li:last-child\")\r\n       .style(\"border-bottom\", \"none\");\r\n  }\r\n","/**\r\n * Defines the log scale used to position the center of the circles in X.\r\n *\r\n * @param {number} width The width of the graph\r\n * @param {object} data The data to be used\r\n * @returns {*} The linear scale in X\r\n */\r\nexport function setXScale (width, data) {\r\n    // TODO : Set scale\r\n  \r\n    const flatData = Object.values(data).flat();  // On applatit pour avoir des extrema globaux de GDP\r\n    //console.log(data);\r\n  \r\n    const xScale = d3.scaleLinear()                  // Contrairement au carnet observable, l'échelle est logarithmique\r\n      .domain([\r\n                d3.min(flatData, d => d.year),    \r\n                d3.max(flatData, d => d.year)\r\n              ])\r\n      .range([0,width]);\r\n  \r\n    return xScale\r\n  }\r\n\r\n/**\r\n * Defines the log scale used to position the center of the circles in Y.\r\n *\r\n * @param {number} height The height of the graph\r\n * @param {object} data The data to be used\r\n * @returns {*} The linear scale in Y\r\n */\r\nexport function setYScaleBO (height, data) {      // Idem que la fonction précédente\r\n    // TODO : Set scale\r\n\r\n    const flatData = Object.values(data).flat();\r\n  \r\n    const yScale = d3.scaleLinear()\r\n      .domain([\r\n                d3.min(flatData, d => 0),    \r\n                d3.max(flatData, d => 1000)\r\n              ])\r\n      .range([height,0]);\r\n  \r\n    return yScale}\r\n\r\nexport function setYScaleMesureSucces (height, data, key) {\r\n  // TODO : Set scale\r\n\r\n  const flatData = Object.values(data).flat();\r\n\r\n  const yScale = d3.scaleLinear()\r\n    .domain([\r\n              //d3.min(flatData, d => d[key]),    \r\n              //d3.max(flatData, d => d[key])\r\n              d3.min(data, d => \r\n                d3.min(d.data, x => x.average)\r\n              ),\r\n              d3.max(data, d => \r\n                d3.max(d.data, x => x.average)\r\n              )\r\n            ])\r\n    .range([height,0]);\r\n\r\n  return yScale}\r\n\r\nexport function setColorScale(data){\r\n\r\n  const categories = data.map(d => d.category).sort();\r\n\r\n  const colorScale = d3.scaleOrdinal()\r\n    .domain(categories)\r\n    .range(d3.schemeSet2);                          \r\n\r\n  return colorScale\r\n}","/**\r\n * Gets movies with the same field value as the specified movie\r\n * @param {Array} data - Your movie dataset\r\n * @param {string} movieName - Target movie name\r\n * @param {string} field - Dynamic field to compare (e.g., \"genre\", \"director\")\r\n * @returns {Array} Sorted array of matching movies\r\n */\r\nexport function getMoviesBySameField(movieName, data, field) {\r\n    const targetMovie = data.find(movie => movie.name === movieName);\r\n    if (!targetMovie) return [];\r\n\r\n    // Normalize field values (handle both arrays and single values)\r\n    const targetValues = Array.isArray(targetMovie[field])\r\n        ? targetMovie[field]\r\n        : [targetMovie[field]];\r\n\r\n    // Create an array of arrays, one per distinct field value\r\n    const moviesByFieldValue = targetValues.map(targetValue => {\r\n        // Filter movies that include this specific field value (case-insensitive exact match)\r\n        const matchingMovies = data.filter(movie => {\r\n            //if (movie.name === movieName) return false; // Skip the target movie\r\n            \r\n            const movieValues = Array.isArray(movie[field])\r\n                ? movie[field]\r\n                : [movie[field]];\r\n                \r\n            return movieValues.some(value => \r\n                String(value).toLowerCase() === String(targetValue).toLowerCase()\r\n            );\r\n        });\r\n\r\n        // Sort alphabetically if multiple movies\r\n        const sortedMovies = matchingMovies.length > 1\r\n            ? [...matchingMovies].sort((a, b) => a.name.localeCompare(b.name))\r\n            : matchingMovies;\r\n\r\n        return {\r\n            categorie: targetValue, // The specific value being matched (e.g. \"Action\")\r\n            movies: sortedMovies    // Array of matching movies\r\n        };\r\n    });\r\n\r\n    return moviesByFieldValue;\r\n}\r\n\r\nfunction averageByYear(data, succesMesure) {\r\n    const yearGroups = {};\r\n    \r\n    // Group and sum by year\r\n    data.forEach(item => {\r\n        if (typeof item[succesMesure] !== 'number') return;\r\n        \r\n        const year = item.year;\r\n        yearGroups[year] = yearGroups[year] || { sum: 0, count: 0, names: [] };\r\n        yearGroups[year].sum += item[succesMesure];\r\n        yearGroups[year].count++;\r\n        yearGroups[year].names.push(item.name);\r\n    });\r\n    \r\n    // Calculate averages and format output\r\n    return Object.keys(yearGroups)\r\n        .map(year => ({\r\n            year: +year,\r\n            average: parseFloat((yearGroups[year].sum / yearGroups[year].count).toFixed(2)),\r\n            count : yearGroups[year].count,\r\n            noms : yearGroups[year].names.join(\"; \")\r\n        }))\r\n        .sort((a, b) => a.year - b.year);\r\n}\r\n\r\nexport function generateDataToDisplay(movieName, data, fields, minlength) {\r\n    const dataToDisplay = [];\r\n\r\n    // Capitalize first letter helper\r\n    const capitalize = (str) => str.charAt(0).toUpperCase() + str.slice(1).toLowerCase();\r\n    \r\n    fields.forEach(field => {\r\n        // Get grouped movies for this field\r\n        const groupedResults = getMoviesBySameField(movieName, data, field);\r\n        \r\n        // Process each group separately\r\n        groupedResults.forEach(group => {\r\n\r\n            const averageData = averageByYear(group.movies, \"mesureDeSucces\");\r\n            //console.log(\"Average :\", averageData);\r\n\r\n            if (averageData.length > minlength){\r\n                dataToDisplay.push({\r\n                    category: `${capitalize(field)} : ${group.categorie}`, // e.g. \"genre: Action\"\r\n                    data: averageByYear(group.movies, \"mesureDeSucces\")\r\n                })\r\n            } \r\n            else {\r\n                //console.log(group.categorie, \" is singleton\")\r\n            }\r\n        });\r\n    });\r\n    \r\n    //console.log(\"Data to display:\", dataToDisplay);\r\n    return dataToDisplay;\r\n}\r\n\r\nexport function indexData(referenceName, originalData, successMesure) {\r\n\r\n    const validData = originalData.filter(movie => {\r\n        const value = movie[successMesure];\r\n        return (\r\n            value !== undefined &&  \r\n            value !== null &&     \r\n            !isNaN(value) &&       \r\n            value > 0             \r\n        );\r\n    });\r\n\r\n    const targetMovie = validData.find(movie => movie.name === referenceName);\r\n    if (!targetMovie) {\r\n        return [];\r\n    }\r\n\r\n    const referenceValue = targetMovie[successMesure];\r\n    console.log(\"Ref : \", referenceValue);\r\n    const targetYear = targetMovie.year;\r\n    //console.log(`Indexing ${validData.length} movies against ${referenceName} (${referenceValue})`);\r\n\r\n    return validData.map(movie => ({\r\n        ...movie,  \r\n        mesureDeSucces: (movie[successMesure] / referenceValue) * 100\r\n    }))\r\n    .filter(movie => \r\n        movie.name === referenceName ||  // Keep target movie\r\n        movie.year !== targetYear    // Remove others with same year\r\n    );\r\n}\r\n\r\nexport function addNumberOfNominations(dataSource) {\r\n    return dataSource.map(movie => {\r\n        // Calculate Golden Globes nominations (with null checks)\r\n        const ggNomination = movie.goldenGlobesData?.goldenGlobesNominations ?? 0;\r\n        \r\n        // Calculate Oscars nominations (with null checks)\r\n        const oscarNomination = movie.oscarsData?.oscarNominations ?? 0;\r\n        \r\n        // Calculate total metric (sum of both)\r\n        const metric = (typeof ggNomination === 'number' ? ggNomination : 0) + \r\n                      (typeof oscarNomination === 'number' ? oscarNomination : 0);\r\n        \r\n        // Return new object with all original properties plus the new metric field\r\n        return {\r\n            ...movie,\r\n            nominations: {\r\n                goldenGlobes: ggNomination,\r\n                oscars: oscarNomination,\r\n                total: metric\r\n            },\r\n            numNominations: metric  // Adding the total as a top-level property for easy access\r\n        };\r\n    });\r\n}","export function drawCircles(data, xScale, yScale, colorScale, width) {\r\n    const courbesElement = d3.select(\".courbes\"); \r\n\r\n    console.log(\"je vais dessiner \", data);\r\n\r\n    // Clear previous elements\r\n    courbesElement.selectAll(\".ensemble-points\").remove();\r\n    courbesElement.selectAll(\".data-line\").remove();\r\n    courbesElement.selectAll(\".legend-item\").remove(); // Changed from myLabels\r\n    courbesElement.selectAll(\".category-group\").remove();\r\n\r\n    const categoryGroups = courbesElement.selectAll(\".category-group\")\r\n    .data(data)\r\n    .enter()\r\n    .append(\"g\")\r\n    .attr(\"class\", d => `category-group ${d.category.replace(/[^\\w\\s-]/g, '').replace(/\\s+/g, '-').toLowerCase()}`);\r\n\r\n    const line = d3.line()\r\n        .x(d => xScale(d.year))\r\n        .y(d => yScale(d.average));\r\n\r\n    // Draw lines\r\n    categoryGroups\r\n        .append(\"path\")\r\n            .attr(\"class\", \"data-line\") // Sanitize class name\r\n            .attr(\"d\", d => line(d.data))\r\n            .attr(\"fill\", \"none\")\r\n            .attr(\"stroke\", d => colorScale(d.category))\r\n            .attr(\"stroke-width\", 4)\r\n            //.attr(\"pointer-events\", \"none\")\r\n            .on(\"mouseover\", function(event, d) {\r\n                // Select the parent group and all its elements\r\n                const parentGroup = d3.select(this.parentNode);\r\n                \r\n                // Fade all other category groups\r\n                d3.selectAll(\".category-group\").each(function() {\r\n                    if (this !== parentGroup.node()) {\r\n                        const currentOpacity = parseFloat(d3.select(this).style(\"opacity\"));\r\n                        if (currentOpacity != 0) {\r\n                            d3.select(this).style(\"opacity\", 0.35);\r\n                        }\r\n                    }\r\n                });\r\n                \r\n                // Highlight the hovered group\r\n                parentGroup.style(\"opacity\", 1);\r\n            })\r\n            .on(\"mouseout\", function(event, d) {\r\n                // Restore opacity for all groups\r\n                d3.selectAll(\".category-group, .ensemble-points\").each(function() {\r\n                    const currentOpacity = parseFloat(d3.select(this).style(\"opacity\"));\r\n                    if (currentOpacity != 0) {\r\n                        d3.select(this).style(\"opacity\", 1);\r\n                    }\r\n                });\r\n            });\r\n          \r\n\r\n    // Draw points\r\n    categoryGroups\r\n        .append('g')\r\n        .attr(\"class\", d => \"ensemble-points\") // Sanitize class name\r\n            .attr(\"fill\", d => colorScale(d.category))\r\n        .selectAll(\".data-point\")\r\n            .data(d => d.data)\r\n            .enter()\r\n            .append(\"circle\")\r\n                .attr(\"class\", \"data-point\")\r\n                .attr(\"cx\", d => xScale(d.year))\r\n                .attr(\"cy\", d => yScale(d.average))\r\n                .attr(\"r\", 5)\r\n                .attr(\"stroke\", \"white\");\r\n\r\n    // Add legend\r\n    const legend = courbesElement.append(\"g\")\r\n        .attr(\"class\", \"legend\")\r\n        .attr(\"transform\", `translate(${width}, 20)`);\r\n\r\n    legend.selectAll(\".legend-item\")\r\n        .data(data)\r\n        .enter()\r\n        .append(\"g\")\r\n            .attr(\"class\", \"legend-item\")\r\n            .attr(\"transform\", (d, i) => `translate(0, ${i * 25})`)\r\n        .append(\"text\")\r\n            .text(d => d.category)\r\n            .attr(\"x\", 20)\r\n            .attr(\"y\", 9)\r\n            .style(\"fill\", d => colorScale(d.category))\r\n            .style(\"font-size\", \"15px\")\r\n            .style(\"font-weight\", \"bold\") // Start bold (since curves are visible)\r\n            .style(\"cursor\", \"pointer\")\r\n            .on(\"click\", hideShowCategory);\r\n}\r\n\r\n\r\nfunction hideShowCategory(event, d) {\r\n    const categoryClass = d.category.replace(/[^\\w\\s-]/g, '').replace(/\\s+/g, '-').toLowerCase();\r\n    const currentOpacity = d3.selectAll(`.${categoryClass}`).style(\"opacity\");\r\n    d3.selectAll(`.${categoryClass}`)\r\n        .transition()\r\n        .style(\"opacity\", currentOpacity == 1 ? 0 : 1)\r\n        .attr(\"pointer-events\", currentOpacity == 1 ? \"none\" : \"visible\");\r\n    d3.select(event.currentTarget)\r\n        .transition()\r\n        .style(\"font-weight\", currentOpacity == 0 ? \"bold\" : \"normal\");\r\n}\r\n\r\nexport function drawRef(title, data, xScale, yScale, height) {\r\n    const courbesElement = d3.select(\".courbes\"); \r\n\r\n    courbesElement.selectAll(\".ref-marker, .ref-line\").remove();\r\n\r\n    const targetMovie = data.find(movie => movie.name === title);\r\n    if (!targetMovie) return;\r\n\r\n    const xPos = xScale(targetMovie.year);\r\n    const yPos = yScale(100); // Assuming 100 is your reference value\r\n\r\n    // Add horizontal trace line (from y-axis to point)\r\n    courbesElement.append(\"line\")\r\n        .attr(\"class\", \"ref-line\")\r\n        .attr(\"x1\", 0) // Start at y-axis\r\n        .attr(\"x2\", xPos)\r\n        .attr(\"y1\", yPos)\r\n        .attr(\"y2\", yPos)\r\n        .attr(\"stroke\", \"black\")\r\n        .attr(\"stroke-width\", 2)\r\n        .attr(\"stroke-dasharray\", \"3,3\") // Dashed line\r\n        .attr(\"opacity\", 0.7);\r\n\r\n    courbesElement.append(\"line\")\r\n        .attr(\"class\", \"ref-line\")\r\n        .attr(\"x1\", xPos) // Start at y-axis\r\n        .attr(\"x2\", xPos)\r\n        .attr(\"y1\", yPos)\r\n        .attr(\"y2\", height)\r\n        .attr(\"stroke\", \"black\")\r\n        .attr(\"stroke-width\", 2)\r\n        .attr(\"stroke-dasharray\", \"3,3\") // Dashed line\r\n        .attr(\"opacity\", 0.7);\r\n\r\n    courbesElement.append(\"circle\")\r\n            .datum(targetMovie)\r\n            .attr(\"class\", \"ref-marker\")\r\n            .attr(\"cx\", xPos)\r\n            .attr(\"cy\", yPos)\r\n            .attr(\"r\", 5)\r\n            .attr(\"fill\", \"white\")\r\n            .attr(\"stroke\", \"black\")\r\n            .attr(\"stroke-width\", 2);\r\n}","export function generateCheckBoxes(list) {\r\n\r\n    const checkGroup = d3.select(\".check-group\");\r\n\r\n    const options = checkGroup.selectAll(\".check-option\")\r\n    .data(list)\r\n    .enter()\r\n    .append(\"div\")\r\n    .attr(\"class\", \"check-option\")\r\n    .html(d => `\r\n        <input type=\"checkbox\" id=\"check-${d}\" name=\"category\" value=\"${d}\" checked>\r\n        <label for=\"check-${d}\">${d.charAt(0).toUpperCase() + d.slice(1)}</label>\r\n    `);\r\n\r\n    options.select('input')\r\n        .on(\"change\", function(event, d) {\r\n            const isChecked = event.target.checked;\r\n\r\n            console.log(\"Checked ? \", isChecked);\r\n\r\n            const legendes = d3.selectAll(\".legend-item\");\r\n\r\n            const legendesFiltrees = legendes.filter(function() {\r\n                return d3.select(this).select(\"text\").text().toLowerCase().includes(d);\r\n              });\r\n\r\n              console.log(legendesFiltrees);\r\n\r\n            legendesFiltrees.each(function() {\r\n                const fontweight = d3.select(this).select(\"text\").style(\"font-weight\");\r\n\r\n                console.log(\"weight ? \", fontweight);\r\n                \r\n                if (((fontweight == \"normal\") && isChecked) || ((fontweight == \"bold\") && !isChecked)){ \r\n                    d3.select(this).select(\"text\").dispatch('click');\r\n                }\r\n            });\r\n        });\r\n}\r\n\r\nexport function checkAll() {\r\n    d3.selectAll(\".check-option input[type='checkbox']\")\r\n        .property(\"checked\", true);\r\n}","/**\r\n * Defines the contents of the tooltip. See CSS for tooltip styling.\r\n * The tooltip features the movie name, box office, total nominations,\r\n * rank, and release year.\r\n *\r\n * @param {object} d The data associated to the hovered element\r\n * @returns {string} The tooltip contents\r\n */\r\nexport function getContents(d, colorScale) {\r\n\r\n  console.log(d);\r\n\r\n  let html = `<div class=\"tooltip-value\" style=\"\r\n      z-index: 6;\r\n      background: linear-gradient(90deg,rgb(145, 145, 145) 0%,rgba(166, 166, 166, 0.6) 100%);\r\n      padding: 12px;\r\n      border-radius: 6px;\r\n      color: white;\r\n      backdrop-filter: blur(5px);\r\n      box-shadow: 1px -1px 10px 0px rgba(0, 0, 0, 0.3);\r\n      margin-bottom: 15px;\r\n      \"\r\n  >  `;\r\n\r\n  if (d.name !== undefined) {\r\n    html += `<div style=\"margin: 4px 0;\">\r\n              <strong>📋 Titre:</strong> ${d.name}\r\n            </div>`;\r\n  }\r\n\r\n  // Always show year\r\n  html += `<div style=\"margin: 4px 0; filter: brightness(1.5);\">\r\n            <strong>📅 Année:</strong> ${d.year}\r\n          </div>`;\r\n\r\n  // Conditional content based on data\r\n  if (d.count !== undefined) {\r\n    html += `<div style=\"margin: 4px 0;\">\r\n              <strong>🎬 Nombre de films:</strong> ${d.count}\r\n            </div>`;\r\n  }\r\n\r\n  if (d.average !== undefined) {\r\n    html += `<div style=\"margin: 4px 0;\">\r\n              <strong>⭐ Moyenne:</strong> ${d.average.toFixed(2)}%\r\n            </div>`;\r\n  }\r\n\r\n  // Different detail display for different data types\r\n  if (d.noms !== undefined) {\r\n    html += `<div style=\"margin: 4px 0;\">\r\n              <strong>📋 Films:</strong> ${d.noms}\r\n            </div>`;\r\n  }\r\n\r\n  // Close the div\r\n  html += `</div>`;\r\n\r\n  return html;\r\n}\r\n\r\n\r\n/**\r\n * Sets up the hover event handler. The tooltip should show on on hover.\r\n *\r\n * @param {*} tip The tooltip\r\n */\r\nexport function setCircleHoverHandler(g, tip) {\r\n  // TODO : Set hover handler. The tooltip shows on\r\n  // hover and the opacity goes up to 100% (from 70%)\r\n\r\n  g.selectAll(\".data-point, .ref-marker\")\r\n    .on('mouseover', function (e, d) {\r\n      d3.select(this)\r\n        .style('cursor', 'pointer')\r\n        .attr(\"r\", 6);\r\n      tip.show(d, this);\r\n    })\r\n    .on('mouseout', function (e, d) {\r\n      d3.select(this)\r\n        .attr(\"r\", 5);\r\n      tip.hide(d, this);\r\n    });\r\n}","// 'use strict'\r\n/**\r\n * @file This file is the entry-point for the the code for the Project of the course INF8808.\r\n * @author TODO\r\n * @version beta\r\n */\r\n\r\n\r\nimport { addGoldenGlobesData, getGoldenGlobesMovieData } from './scripts/process_golden_globes'\r\nimport { addOscarsData, getOscarsMovieData } from './scripts/process_oscars'\r\nimport { addAdditionalMovieData, getAdditionalMovieData } from './scripts/process_additional_movie_data'\r\nimport { processMovieData } from './scripts/process_imdb'\r\nimport {\r\n  getFilmContributorsData, getGenreDataIntervals,\r\n  getTopCollaborations, getCertificateData, getDataBySeason, getMovieLengthData, getTaglineWordsData, getTaglineLengthData, calculateMovieProfits, getMoviesByGenre\r\n} from './scripts/preprocess_data'\r\n\r\nimport { adjustForInflation, convertMovieNamesToString } from './scripts/helper.js'\r\n\r\n/* Visualisation 1 - Importations */\r\n\r\nimport * as viz1Helper from './viz1-scripts/viz1-helper.js'\r\nimport * as viz1Legend from './viz1-scripts/viz1-legend.js'\r\nimport * as viz1Scales from './viz1-scripts/viz1-scales.js'\r\nimport * as viz1Tooltip from './viz1-scripts/viz1-tooltip.js'\r\nimport * as viz1Viz from './viz1-scripts/viz1-viz.js'\r\n\r\nimport d3Tip from 'd3-tip'\r\n\r\n\r\n/* Visualisation 3 - Importations */\r\nimport * as viz3Process from './viz3-scripts/viz3-preprocess.js'\r\nimport * as viz3Helper from './viz3-scripts/viz3-helper.js'\r\nimport * as viz3Scales from './viz3-scripts/viz3-scales.js'\r\nimport * as viz3Legend from './viz3-scripts/viz3-legend.js'\r\nimport * as viz3Tooltip from './viz3-scripts/viz3-tooltip.js'\r\nimport * as viz3Example from './viz3-scripts/viz3-example.js'\r\n\r\n\r\n/* Visualisation 4 - Importations */\r\n\r\nimport * as viz4Helper from './viz4-scripts/viz4-helper.js'\r\nimport * as viz4Search from './viz4-scripts/viz4-search.js'\r\nimport * as viz4Scales from './viz4-scripts/viz4-scales.js'\r\nimport * as viz4Process from './viz4-scripts/viz4-process.js'\r\nimport * as viz4Viz from './viz4-scripts/viz4-viz.js'\r\nimport * as viz4CheckBoxes from './viz4-scripts/viz4-checkboxes.js'\r\nimport * as viz4Tooltip from './viz4-scripts/viz4-tooltip.js'\r\n\r\n// import * as helper from './scripts/helper.js'\r\n// import * as preproc from './scripts/preprocess_imbd_data.js'\r\n// import * as viz from './scripts/viz.js'\r\n// import * as legend from './scripts/legend.js'\r\n// import * as hover from './scripts/hover.js'\r\n// import * as util from './scripts/util.js'\r\n\r\n// import * as d3Chromatic from 'd3-scale-chromatic'\r\n\r\n\r\n\r\n/* Déplacer le sélecteur de métrique en haut à droite si on le dépasse sur la page */\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  const chooseMetric = document.querySelector(\".choose_metric\");\r\n  const offsetTop = chooseMetric.offsetTop + 650;\r\n\r\n  window.addEventListener(\"scroll\", () => {\r\n\r\n    if (window.scrollY > offsetTop) {\r\n      chooseMetric.classList.add(\"fixed\");\r\n    } else {\r\n      chooseMetric.classList.remove(\"fixed\");\r\n    }\r\n  });\r\n});\r\n\r\n(function (d3) {\r\n  // let bounds\r\n  // let svgSize\r\n  // let graphSize\r\n\r\n  // const margin = { top: 35, right: 200, bottom: 35, left: 200 }\r\n\r\n  // const xScale = d3.scaleBand().padding(0.05)\r\n  // const yScale = d3.scaleBand().padding(0.2)\r\n  // const colorScale = d3.scaleSequential(d3Chromatic.interpolateYlGnBu)\r\n\r\n  Promise.all([\r\n    d3.csv('./golden_globe_awards.csv', d3.autoType),\r\n    d3.csv('./IMDB_Top_250_Movies.csv', d3.autoType),\r\n    d3.csv('./movie_dataset.csv', d3.autoType),\r\n    d3.csv('./the_oscar_award.csv', d3.autoType)\r\n  ]).then(function ([goldenGlobes, imdb, movies, oscars]) {\r\n    imdb = processMovieData(imdb)\r\n    const maxYear = imdb.reduce((max, movie) => movie.year > max ? movie.year : max, Number.MIN_VALUE)\r\n\r\n    imdb.forEach(movie => {\r\n      if (movie.box_office && typeof movie.box_office !== 'string') movie.box_office = adjustForInflation(movie.box_office, movie.year, maxYear)\r\n      if (movie.budget && typeof movie.budget !== 'string') movie.budget = adjustForInflation(movie.budget, movie.year, maxYear)\r\n    })\r\n\r\n    const movieNames = imdb.reduce((acc, movie) => {\r\n      if (!movie.name) return acc\r\n\r\n      const nameStr = String(movie.name)\r\n      const cleanName = nameStr.toLowerCase().replace(/[^a-z0-9\\s]/g, '')\r\n\r\n      if (!acc.includes(cleanName) && cleanName.trim() !== '') acc.push(cleanName)\r\n      return acc\r\n    }, [])\r\n\r\n    const oscarMovies = getOscarsMovieData(oscars, movieNames)\r\n    imdb = addOscarsData(imdb, oscarMovies)\r\n\r\n    const goldenGlobesMovies = getGoldenGlobesMovieData(goldenGlobes, movieNames)\r\n    imdb = addGoldenGlobesData(imdb, goldenGlobesMovies)\r\n\r\n    const additionalMovieData = getAdditionalMovieData(movies, movieNames)\r\n    imdb = addAdditionalMovieData(imdb, additionalMovieData)\r\n    convertMovieNamesToString(imdb)\r\n\r\n    imdb = calculateMovieProfits(imdb)\r\n\r\n    const contributorData = getFilmContributorsData(imdb)\r\n    const genreIntervalData = getGenreDataIntervals(imdb)\r\n    const genreData = getMoviesByGenre(imdb)\r\n    const collaborationsData = getTopCollaborations(imdb)\r\n\r\n    const certificateData = getCertificateData(imdb)\r\n    const seasonalData = getDataBySeason(imdb)\r\n\r\n    const movieLengthData = getMovieLengthData(imdb)\r\n    const taglineWordData = getTaglineWordsData(imdb)\r\n    const taglineLengthData = getTaglineLengthData(imdb)\r\n\r\n\r\n    /* Visualisation 1 - Success scatter */\r\n\r\n    const margin1 = {\r\n      top: 75,\r\n      right: 260,\r\n      bottom: 100,\r\n      left: 80\r\n    }\r\n\r\n    let svgSize1, graphSize1\r\n\r\n    /**\r\n     *\r\n     */\r\n    function setSizing1() {\r\n      svgSize1 = {\r\n        width: 1000,\r\n        height: 600\r\n      }\r\n\r\n      graphSize1 = {\r\n        width: svgSize1.width - margin1.right - margin1.left,\r\n        height: svgSize1.height - margin1.bottom - margin1.top\r\n      }\r\n\r\n      viz1Helper.setCanvasSize(svgSize1.width, svgSize1.height)\r\n    }\r\n\r\n    setSizing1();\r\n\r\n    const svgViz1 = d3.select(\".success-scatter-svg\");\r\n    const g1 = viz1Helper.generateG(svgViz1, margin1, \"graph-g-viz1\")\r\n\r\n    const tip = d3Tip().attr('class', 'd3-tip').html(function (d) { return viz1Tooltip.getContents(d) })\r\n    g1.call(tip)\r\n\r\n    viz1Helper.appendAxes(g1)\r\n    viz1Helper.appendGraphLabels(g1)\r\n    viz1Helper.placeTitle(g1, graphSize1.width)\r\n\r\n    viz1Viz.positionLabels(g1, graphSize1.width, graphSize1.height)\r\n\r\n\r\n    const radiusScale1 = viz1Scales.setRadiusScale(imdb)\r\n    const colorScale1 = viz1Scales.setColorScale(imdb)\r\n    const xScale1 = viz1Scales.setXScale(graphSize1.width, imdb)\r\n    const yScale1 = viz1Scales.setYScale(graphSize1.height, imdb)\r\n\r\n    viz1Helper.drawXAxis(g1, xScale1, graphSize1.height)\r\n    viz1Helper.drawYAxis(g1, yScale1)\r\n\r\n    const flatData = Object.values(imdb).flat();\r\n    const years = flatData.map(d => d.year);\r\n    const minDate = d3.min(years);\r\n    const maxDate = d3.max(years);\r\n    viz1Legend.drawLegend(colorScale1, g1, graphSize1.width, graphSize1.height, minDate, maxDate)\r\n\r\n    build1(g1, imdb, 0, radiusScale1, colorScale1, xScale1, yScale1)\r\n\r\n    viz1Viz.setCircleHoverHandler(g1, tip)\r\n\r\n    /**\r\n     * This function builds the graph.\r\n    * @param {object} g1 The D3 selection of the <g> element containing the circles\r\n     * @param {object} data The data to be used\r\n    * @param {number} transitionDuration The duration of the transition while placing the circles\r\n    * @param {number} year The year to be displayed\r\n    * @param {*} rScale1 The scale for the circles' radius\r\n    * @param {*} colorScale1 The scale for the circles' color\r\n     * @param {*} xScale1 The x scale for the graph\r\n    * @param {*} yScale1 The y scale for the graph\r\n    */\r\n    function build1(g1, data, transitionDuration, rScale1, colorScale1, xScale1, yScale1) {\r\n      viz1Viz.drawCircles(g1, data, rScale1, colorScale1)\r\n      viz1Viz.moveCircles(g1, xScale1, yScale1, transitionDuration)\r\n    };\r\n\r\n\r\n    /* Visualisation 3 - Genres et tendances */\r\n\r\n\r\n    let metricViz3 = \"rating\"; // \"box_office\", \r\n    let selectedFilterViz3 = \"genre\";\r\n    let intervalLenght = 10;\r\n    let numElemPerStack = 4;\r\n\r\n\r\n    function buildViz3(metricViz3, selectedFilterViz3, intervalLenght, numElemPerStack) {\r\n\r\n      const viz3 = d3.select(\".tendance-timeline-svg\");\r\n      const legendDiv = d3.select(\".legend-tendances\");\r\n\r\n      // Clear previous content\r\n      viz3.selectAll(\".axes\").remove();\r\n      viz3.selectAll(\".bars\").remove();\r\n      legendDiv.selectAll(\"*\").remove();\r\n\r\n\r\n      // Preprocessing\r\n      const viz3Data = viz3Process.getDataPerTimeInterval(imdb, intervalLenght, metricViz3);  // if metric=\"rating\" et on prend des intervalles de temps de 8 années\r\n      const viz3MarketPerInterval = viz3Process.getMarketPerTimeInterval(viz3Data, selectedFilterViz3) //if selectedfilter = \"genre\"\r\n      const viz3MarketPerIntervalSmall = viz3Process.reduceNumberOfLine(viz3MarketPerInterval, numElemPerStack); //seulement 4 genres par intervalle\r\n      const intervalsDates = Object.keys(viz3MarketPerIntervalSmall[\"intervals\"]);\r\n      const stackedData = viz3Process.stackData(viz3MarketPerIntervalSmall);\r\n\r\n\r\n\r\n\r\n\r\n      // setup graph scales\r\n      const svgSizeViz3 = {\r\n        width: 1000,\r\n        height: 600\r\n      }\r\n      const marginViz3 = {\r\n        top: 40,\r\n        right: 40,\r\n        bottom: 60,\r\n        left: 100\r\n      }\r\n      const graphSizeViz3 = {\r\n        width: svgSizeViz3.width - marginViz3.right - marginViz3.left,\r\n        height: svgSizeViz3.height - marginViz3.bottom - marginViz3.top\r\n      }\r\n      viz3Helper.setCanvasSize(svgSizeViz3.width, svgSizeViz3.height);\r\n      const viz3xScale = viz3Scales.setXScale(graphSizeViz3.width, intervalsDates);\r\n      const viz3yScaleBoxOffice = viz3Scales.setYScale(graphSizeViz3.height);\r\n\r\n\r\n      const axesViz3 = viz3.append(\"g\").attr(\"class\", \"axes\")\r\n        .attr(\"transform\", `translate(${marginViz3.left},${marginViz3.top})`);\r\n\r\n\r\n\r\n      // Dessin des axes\r\n      viz3Helper.appendAxes(axesViz3);\r\n      viz3Helper.drawXAxis(viz3xScale, graphSizeViz3.height, intervalsDates);\r\n      viz3Helper.drawYAxis(viz3yScaleBoxOffice);\r\n\r\n\r\n      // Ajout des labels d'axes\r\n      viz3Helper.appendGraphLabels(axesViz3);\r\n      viz3Helper.positionLabels(axesViz3, graphSizeViz3.width, graphSizeViz3.height);\r\n\r\n\r\n      const customColors = [\r\n        \"#1f77b4\", \"#ff7f0e\", \"#2ca02c\", \"#d62728\", \"#9467bd\",\r\n        \"#8c564b\", \"#e377c2\", \"#7f7f7f\", \"#bcbd22\", \"#17becf\",\r\n        \"#393b79\", \"#637939\", \"#8c6d31\", \"#843c39\", \"#7b4173\",\r\n        \"#aec7e8\", \"#ffbb78\", \"#98df8a\", \"#ff9896\", \"#c5b0d5\",\r\n        \"#c49c94\", \"#f7b6d2\", \"#c7c7c7\", \"#dbdb8d\", \"#9edae5\"\r\n      ];\r\n      const colorScale = d3.scaleOrdinal()\r\n        .domain(viz3MarketPerIntervalSmall.presentCategory)\r\n        .range(customColors);\r\n\r\n\r\n      viz3Legend.createLegend(viz3MarketPerIntervalSmall, legendDiv, colorScale);\r\n\r\n\r\n      const g3 = viz3Helper.generateG(viz3, marginViz3, \"graph-g-viz3\")\r\n      const tip3 = d3Tip().attr('class', 'd3-tip').html(function (d) { return viz3Tooltip.getContents(d, colorScale) })\r\n      g3.call(tip3)\r\n\r\n      const series = d3.stack()\r\n        .keys(viz3MarketPerIntervalSmall.presentCategory)(stackedData);\r\n\r\n      // Créer un groupe de base où dessiner les barres\r\n      const barsGroup = viz3.append(\"g\")\r\n        .attr(\"class\", \"bars\")\r\n        .attr(\"transform\", `translate(${marginViz3.left},${marginViz3.top})`);\r\n\r\n      barsGroup.selectAll(\"g.layer\")\r\n        .data(series)\r\n        .enter()\r\n        .append(\"g\")\r\n        .attr(\"class\", \"layer\")\r\n        .attr(\"fill\", d => colorScale(d.key))\r\n        .selectAll(\"rect\")\r\n        .data(d => {\r\n          // On ajoute la catégorie à chaque élément\r\n          return d.map(item => ({\r\n            ...item,\r\n            category: d.key\r\n          }));\r\n        })\r\n        .enter()\r\n        .append(\"rect\")\r\n        .attr('class', 'rect3')\r\n        .attr(\"x\", d => viz3xScale(d.data.interval))\r\n        .attr(\"y\", d => viz3yScaleBoxOffice(d[1]))\r\n        .attr(\"height\", d => viz3yScaleBoxOffice(d[0]) - viz3yScaleBoxOffice(d[1]))\r\n        .attr(\"width\", viz3xScale.bandwidth())\r\n\r\n\r\n      // Hover d'un rectangle\r\n      viz3Tooltip.setRectHoverHandler(viz3, tip3)\r\n\r\n      // Exemple de lecture\r\n      const randomRectData = viz3Example.selectRandomRectangle();\r\n      const phraseEx = viz3Example.phraseExemple(randomRectData, colorScale);\r\n\r\n      const exampleContainerViz3 = document.querySelector(\".exampleViz3\");\r\n\r\n      exampleContainerViz3.innerHTML = phraseEx;\r\n\r\n      // const textElementViz3 = document.createElement(\"p\");\r\n      // textElementViz3.textContent = \"Exemple de lecture : \" + phraseEx;\r\n      // textElementViz3.classList.add(\"example-text\")\r\n      // textContainerViz3.appendChild(textElementViz3);\r\n\r\n    }\r\n\r\n    buildViz3(metricViz3, selectedFilterViz3, intervalLenght, numElemPerStack);\r\n\r\n\r\n\r\n\r\n    // Gérer les changements d'option :\r\n    const selectorMetric = document.getElementById('metric-select');\r\n    selectorMetric.addEventListener('change', () => {\r\n      buildViz3(selectorMetric.value, selectorCategory.value, parseInt(sliderMovieLenght.value, 10), parseInt(sliderMaxLine.value, 10));\r\n    });\r\n\r\n    const selectorCategory = document.getElementById('categorie-select');\r\n    selectorCategory.addEventListener('change', () => {\r\n      buildViz3(selectorMetric.value, selectorCategory.value, parseInt(sliderMovieLenght.value, 10), parseInt(sliderMaxLine.value, 10));\r\n    });\r\n\r\n\r\n    const sliderMovieLenght = document.getElementById('slider-movieLenght');\r\n    const sliderMovieLenghtValue = document.getElementById('slider-movieLenght-value');\r\n\r\n    sliderMovieLenght.addEventListener('input', () => {\r\n      sliderMovieLenghtValue.textContent = sliderMovieLenght.value;\r\n      buildViz3(selectorMetric.value, selectorCategory.value, parseInt(sliderMovieLenght.value, 10), parseInt(sliderMaxLine.value, 10));\r\n    });\r\n\r\n\r\n    const sliderMaxLine = document.getElementById('slider-maxLine');\r\n    const sliderMaxLineValue = document.getElementById('slider-maxLine-value');\r\n\r\n    sliderMaxLine.addEventListener('input', () => {\r\n      sliderMaxLineValue.textContent = sliderMaxLine.value;\r\n      buildViz3(selectorMetric.value, selectorCategory.value, parseInt(sliderMovieLenght.value, 10), parseInt(sliderMaxLine.value, 10));\r\n    });\r\n\r\n\r\n\r\n    /* Visualisation 4 - Impact des films */\r\n\r\n    const margin4 = {\r\n      top: 75,\r\n      right: 200,\r\n      bottom: 100,\r\n      left: 80\r\n    }\r\n\r\n    let svgSize4, graphSize4\r\n\r\n    function setSizing() {\r\n      svgSize4 = {\r\n        width: 1000,\r\n        height: 600\r\n      }\r\n\r\n      graphSize4 = {\r\n        width: svgSize4.width - margin4.right - margin4.left,\r\n        height: svgSize4.height - margin4.bottom - margin4.top\r\n      }\r\n\r\n      viz4Helper.setCanvasSize(svgSize4.width, svgSize4.height)\r\n    }\r\n\r\n    setSizing();\r\n\r\n    let title;\r\n    const ListOfFields = [\"directors\", \"genre\", \"casts\", \"writers\"];\r\n\r\n    let viz4FixedImdb = viz4Process.addNumberOfNominations(imdb)\r\n\r\n    let viz4xScale;\r\n    let viz4yScaleBoxOffice;\r\n    let viz4ColorScale;\r\n    \r\n    viz4CheckBoxes.generateCheckBoxes(ListOfFields);\r\n\r\n    const viz4 = d3.select(\".film-impact-svg\");\r\n    \r\n\r\n    buildViz4(viz4FixedImdb);\r\n    \r\n    function buildViz4(viz4data) {\r\n\r\n      viz4xScale = viz4Scales.setXScale(graphSize4.width, viz4data);\r\n      viz4yScaleBoxOffice = viz4Scales.setYScaleBO(graphSize4.height, viz4data);\r\n\r\n      const axes = viz4.append(\"g\").attr(\"class\", \"axes\")\r\n        .attr(\"transform\", 'translate(' + margin4.left + ', ' + margin4.top + ')');\r\n      const courbes = viz4.append(\"g\").attr(\"class\", \"courbes\")\r\n        .attr(\"transform\", 'translate(' + margin4.left + ', ' + margin4.top + ')');\r\n\r\n      viz4Helper.appendAxes(axes);\r\n      viz4Helper.appendGraphLabels(axes);\r\n      viz4Helper.positionLabels(axes, graphSize4.width, graphSize4.height);\r\n\r\n      viz4Helper.drawXAxis(viz4xScale, graphSize4.height);\r\n      viz4Helper.drawYAxis(viz4yScaleBoxOffice);\r\n\r\n      viz4Search.initFilmList(viz4data);\r\n    }\r\n\r\n  function refreshViz4 (viz4data, viz4mesureSucces) {\r\n      console.log(\"Changement\");\r\n\r\n      viz4CheckBoxes.checkAll();\r\n\r\n      const dataToShow = viz4Process.indexData(title, viz4data, viz4mesureSucces);\r\n\r\n      const test = viz4Process.generateDataToDisplay(title, dataToShow, ListOfFields, 2);\r\n      console.log(\"Test refresh : \", test);\r\n\r\n      const viz4yScaleFlexible = viz4Scales.setYScaleMesureSucces(graphSize4.height, test, \"average\");\r\n      viz4Helper.drawYAxis(viz4yScaleFlexible);\r\n      viz4ColorScale = viz4Scales.setColorScale(test);\r\n\r\n      console.log(viz4ColorScale);\r\n      viz4Viz.drawCircles(test, viz4xScale, viz4yScaleFlexible, viz4ColorScale, graphSize4.width);\r\n      \r\n      viz4Viz.drawRef(title, dataToShow, viz4xScale, viz4yScaleFlexible, graphSize4.height);\r\n\r\n      const tip4 = d3Tip().attr('class', 'viz4-tip').html(function (d) { return viz4Tooltip.getContents(d, viz4ColorScale) });\r\n      viz4.select(\".courbes\").call(tip4);\r\n      viz4Tooltip.setCircleHoverHandler(viz4.select(\".courbes\"), tip4);\r\n    }\r\n\r\n  selectorMetric.addEventListener('change', () => {\r\n     refreshViz4(viz4FixedImdb, selectorMetric.value);\r\n   });\r\n\r\n  document.addEventListener('viz4movieSelected', (e) => {\r\n    console.log(\"Received movie:\", e.detail.movie);\r\n    title = e.detail.movie;\r\n    const viz4MesureSucces = selectorMetric.value;\r\n    \r\n    refreshViz4(viz4FixedImdb, viz4MesureSucces);\r\n  });\r\n\r\n    // }, [])\r\n    // d3.csv('./golden_globe_awards.csv', d3.autoType).then(function (data) {\r\n    //   console.log(data)\r\n    //   const neighborhoodNames = preproc.getNeighborhoodNames(data)\r\n    //   data = preproc.filterYears(data, 2010, 2020)\r\n\r\n    //   data = preproc.summarizeYearlyCounts(data)\r\n    //   data = preproc.fillMissingData(data, neighborhoodNames, 2010, 2020, util.range)\r\n\r\n    // viz.setColorScaleDomain(colorScale, data)\r\n\r\n    // legend.initGradient(colorScale)\r\n    // legend.initLegendBar()\r\n    // legend.initLegendAxis()\r\n\r\n    // const g = helper.generateG(margin)\r\n\r\n    // helper.appendAxes(g)\r\n    // viz.appendRects(data)\r\n\r\n    // setSizing()\r\n    // build()\r\n\r\n    /**\r\n     *   This function handles the graph's sizing.\r\n     */\r\n    // function setSizing () {\r\n    //   bounds = d3.select('.graph').node().getBoundingClientRect()\r\n\r\n    //   svgSize = {\r\n    //     width: bounds.width,\r\n    //     height: 550\r\n    //   }\r\n\r\n    //   graphSize = {\r\n    //     width: svgSize.width - margin.right - margin.left,\r\n    //     height: svgSize.height - margin.bottom - margin.top\r\n    //   }\r\n\r\n    //   helper.setCanvasSize(svgSize.width, svgSize.height)\r\n    // }\r\n\r\n    /**\r\n     *   This function builds the graph.\r\n     */\r\n    // function build () {\r\n    //   viz.updateXScale(xScale, data, graphSize.width, util.range)\r\n    //   viz.updateYScale(yScale, neighborhoodNames, graphSize.height)\r\n\r\n    //   viz.drawXAxis(xScale)\r\n    //   viz.drawYAxis(yScale, graphSize.width)\r\n\r\n    //   viz.rotateYTicks()\r\n\r\n    //   viz.updateRects(xScale, yScale, colorScale)\r\n\r\n    //   hover.setRectHandler(xScale, yScale, hover.rectSelected, hover.rectUnselected, hover.selectTicks, hover.unselectTicks)\r\n\r\n    //   legend.draw(margin.left / 2, margin.top + 5, graphSize.height - 10, 15, 'url(#gradient)', colorScale)\r\n    // }\r\n\r\n    // window.addEventListener('resize', () => {\r\n    //   setSizing()\r\n    //   build()\r\n    // })\r\n  })\r\n})(d3)\r\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}